(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Mf={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function fT(){if(Ty)return Ql;Ty=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:h}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var Sy;function dT(){return Sy||(Sy=1,Mf.exports=fT()),Mf.exports}var j=dT(),Vf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function mT(){if(by)return Rt;by=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function N(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function G(D,J,lt){this.props=D,this.context=J,this.refs=nt,this.updater=lt||q}G.prototype.isReactComponent={},G.prototype.setState=function(D,J){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,J,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function st(){}st.prototype=G.prototype;function rt(D,J,lt){this.props=D,this.context=J,this.refs=nt,this.updater=lt||q}var tt=rt.prototype=new st;tt.constructor=rt,W(tt,G.prototype),tt.isPureReactComponent=!0;var ft=Array.isArray,$={H:null,A:null,T:null,S:null,V:null},ht=Object.prototype.hasOwnProperty;function I(D,J,lt,it,mt,It){return lt=It.ref,{$$typeof:r,type:D,key:J,ref:lt!==void 0?lt:null,props:It}}function A(D,J){return I(D.type,J,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function O(D){var J={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(lt){return J[lt]})}var V=/\/+/g;function U(D,J){return typeof D=="object"&&D!==null&&D.key!=null?O(""+D.key):J.toString(36)}function C(){}function re(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(J){D.status==="pending"&&(D.status="fulfilled",D.value=J)},function(J){D.status==="pending"&&(D.status="rejected",D.reason=J)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ee(D,J,lt,it,mt){var It=typeof D;(It==="undefined"||It==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(It){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case r:case e:Et=!0;break;case T:return Et=D._init,ee(Et(D._payload),J,lt,it,mt)}}if(Et)return mt=mt(D),Et=it===""?"."+U(D,0):it,ft(mt)?(lt="",Et!=null&&(lt=Et.replace(V,"$&/")+"/"),ee(mt,J,lt,"",function(Nn){return Nn})):mt!=null&&(w(mt)&&(mt=A(mt,lt+(mt.key==null||D&&D.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Et)),J.push(mt)),1;Et=0;var Oe=it===""?".":it+":";if(ft(D))for(var Gt=0;Gt<D.length;Gt++)it=D[Gt],It=Oe+U(it,Gt),Et+=ee(it,J,lt,It,mt);else if(Gt=N(D),typeof Gt=="function")for(D=Gt.call(D),Gt=0;!(it=D.next()).done;)it=it.value,It=Oe+U(it,Gt++),Et+=ee(it,J,lt,It,mt);else if(It==="object"){if(typeof D.then=="function")return ee(re(D),J,lt,it,mt);throw J=String(D),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Et}function Q(D,J,lt){if(D==null)return D;var it=[],mt=0;return ee(D,it,"","",function(It){return J.call(lt,It,mt++)}),it}function at(D){if(D._status===-1){var J=D._result;J=J(),J.then(function(lt){(D._status===0||D._status===-1)&&(D._status=1,D._result=lt)},function(lt){(D._status===0||D._status===-1)&&(D._status=2,D._result=lt)}),D._status===-1&&(D._status=0,D._result=J)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return Rt.Children={map:Q,forEach:function(D,J,lt){Q(D,function(){J.apply(this,arguments)},lt)},count:function(D){var J=0;return Q(D,function(){J++}),J},toArray:function(D){return Q(D,function(J){return J})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Rt.Component=G,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=rt,Rt.StrictMode=s,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return $.H.useMemoCache(D)}},Rt.cache=function(D){return function(){return D.apply(null,arguments)}},Rt.cloneElement=function(D,J,lt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var it=W({},D.props),mt=D.key,It=void 0;if(J!=null)for(Et in J.ref!==void 0&&(It=void 0),J.key!==void 0&&(mt=""+J.key),J)!ht.call(J,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&J.ref===void 0||(it[Et]=J[Et]);var Et=arguments.length-2;if(Et===1)it.children=lt;else if(1<Et){for(var Oe=Array(Et),Gt=0;Gt<Et;Gt++)Oe[Gt]=arguments[Gt+2];it.children=Oe}return I(D.type,mt,void 0,void 0,It,it)},Rt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Rt.createElement=function(D,J,lt){var it,mt={},It=null;if(J!=null)for(it in J.key!==void 0&&(It=""+J.key),J)ht.call(J,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=J[it]);var Et=arguments.length-2;if(Et===1)mt.children=lt;else if(1<Et){for(var Oe=Array(Et),Gt=0;Gt<Et;Gt++)Oe[Gt]=arguments[Gt+2];mt.children=Oe}if(D&&D.defaultProps)for(it in Et=D.defaultProps,Et)mt[it]===void 0&&(mt[it]=Et[it]);return I(D,It,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(D){return{$$typeof:g,render:D}},Rt.isValidElement=w,Rt.lazy=function(D){return{$$typeof:T,_payload:{_status:-1,_result:D},_init:at}},Rt.memo=function(D,J){return{$$typeof:y,type:D,compare:J===void 0?null:J}},Rt.startTransition=function(D){var J=$.T,lt={};$.T=lt;try{var it=D(),mt=$.S;mt!==null&&mt(lt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Lt,pt)}catch(It){pt(It)}finally{$.T=J}},Rt.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},Rt.use=function(D){return $.H.use(D)},Rt.useActionState=function(D,J,lt){return $.H.useActionState(D,J,lt)},Rt.useCallback=function(D,J){return $.H.useCallback(D,J)},Rt.useContext=function(D){return $.H.useContext(D)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(D,J){return $.H.useDeferredValue(D,J)},Rt.useEffect=function(D,J,lt){var it=$.H;if(typeof lt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(D,J)},Rt.useId=function(){return $.H.useId()},Rt.useImperativeHandle=function(D,J,lt){return $.H.useImperativeHandle(D,J,lt)},Rt.useInsertionEffect=function(D,J){return $.H.useInsertionEffect(D,J)},Rt.useLayoutEffect=function(D,J){return $.H.useLayoutEffect(D,J)},Rt.useMemo=function(D,J){return $.H.useMemo(D,J)},Rt.useOptimistic=function(D,J){return $.H.useOptimistic(D,J)},Rt.useReducer=function(D,J,lt){return $.H.useReducer(D,J,lt)},Rt.useRef=function(D){return $.H.useRef(D)},Rt.useState=function(D){return $.H.useState(D)},Rt.useSyncExternalStore=function(D,J,lt){return $.H.useSyncExternalStore(D,J,lt)},Rt.useTransition=function(){return $.H.useTransition()},Rt.version="19.1.1",Rt}var Ay;function Ed(){return Ay||(Ay=1,Vf.exports=mT()),Vf.exports}var zt=Ed(),Of={exports:{}},Fl={},xf={exports:{}},Uf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function gT(){return Ry||(Ry=1,(function(r){function e(Q,at){var pt=Q.length;Q.push(at);t:for(;0<pt;){var Lt=pt-1>>>1,D=Q[Lt];if(0<o(D,at))Q[Lt]=at,Q[pt]=D,pt=Lt;else break t}}function i(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var at=Q[0],pt=Q.pop();if(pt!==at){Q[0]=pt;t:for(var Lt=0,D=Q.length,J=D>>>1;Lt<J;){var lt=2*(Lt+1)-1,it=Q[lt],mt=lt+1,It=Q[mt];if(0>o(it,pt))mt<D&&0>o(It,it)?(Q[Lt]=It,Q[mt]=pt,Lt=mt):(Q[Lt]=it,Q[lt]=pt,Lt=lt);else if(mt<D&&0>o(It,pt))Q[Lt]=It,Q[mt]=pt,Lt=mt;else break t}}return at}function o(Q,at){var pt=Q.sortIndex-at.sortIndex;return pt!==0?pt:Q.id-at.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;r.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,b=null,N=3,q=!1,W=!1,nt=!1,G=!1,st=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function ft(Q){for(var at=i(y);at!==null;){if(at.callback===null)s(y);else if(at.startTime<=Q)s(y),at.sortIndex=at.expirationTime,e(p,at);else break;at=i(y)}}function $(Q){if(nt=!1,ft(Q),!W)if(i(p)!==null)W=!0,ht||(ht=!0,U());else{var at=i(y);at!==null&&ee($,at.startTime-Q)}}var ht=!1,I=-1,A=5,w=-1;function O(){return G?!0:!(r.unstable_now()-w<A)}function V(){if(G=!1,ht){var Q=r.unstable_now();w=Q;var at=!0;try{t:{W=!1,nt&&(nt=!1,rt(I),I=-1),q=!0;var pt=N;try{e:{for(ft(Q),b=i(p);b!==null&&!(b.expirationTime>Q&&O());){var Lt=b.callback;if(typeof Lt=="function"){b.callback=null,N=b.priorityLevel;var D=Lt(b.expirationTime<=Q);if(Q=r.unstable_now(),typeof D=="function"){b.callback=D,ft(Q),at=!0;break e}b===i(p)&&s(p),ft(Q)}else s(p);b=i(p)}if(b!==null)at=!0;else{var J=i(y);J!==null&&ee($,J.startTime-Q),at=!1}}break t}finally{b=null,N=pt,q=!1}at=void 0}}finally{at?U():ht=!1}}}var U;if(typeof tt=="function")U=function(){tt(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=V,U=function(){re.postMessage(null)}}else U=function(){st(V,0)};function ee(Q,at){I=st(function(){Q(r.unstable_now())},at)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(Q){switch(N){case 1:case 2:case 3:var at=3;break;default:at=N}var pt=N;N=at;try{return Q()}finally{N=pt}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(Q,at){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var pt=N;N=Q;try{return at()}finally{N=pt}},r.unstable_scheduleCallback=function(Q,at,pt){var Lt=r.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Lt+pt:Lt):pt=Lt,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,Q={id:T++,callback:at,priorityLevel:Q,startTime:pt,expirationTime:D,sortIndex:-1},pt>Lt?(Q.sortIndex=pt,e(y,Q),i(p)===null&&Q===i(y)&&(nt?(rt(I),I=-1):nt=!0,ee($,pt-Lt))):(Q.sortIndex=D,e(p,Q),W||q||(W=!0,ht||(ht=!0,U()))),Q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(Q){var at=N;return function(){var pt=N;N=at;try{return Q.apply(this,arguments)}finally{N=pt}}}})(Uf)),Uf}var wy;function pT(){return wy||(wy=1,xf.exports=gT()),xf.exports}var Lf={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function yT(){if(Cy)return Ge;Cy=1;var r=Ed();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(p,y,null,T)},Ge.flushSync=function(p){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:q}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:N,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ge.version="19.1.1",Ge}var Ny;function _T(){if(Ny)return Lf.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Lf.exports=yT(),Lf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function vT(){if(Dy)return Fl;Dy=1;var r=pT(),e=Ed(),i=_T();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,l=f;break}if(E===l){v=!0,l=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=c;break}if(E===l){v=!0,l=f,a=c;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),rt=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),ft=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case G:return"Profiler";case nt:return"StrictMode";case $:return"Suspense";case ht:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case q:return"Portal";case tt:return(t.displayName||"Context")+".Provider";case rt:return(t._context.displayName||"Context")+".Consumer";case ft:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case I:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function J(t){return{current:t}}function lt(t){0>D||(t.current=Lt[D],Lt[D]=null,D--)}function it(t,n){D++,Lt[D]=t.current,t.current=n}var mt=J(null),It=J(null),Et=J(null),Oe=J(null);function Gt(t,n){switch(it(Et,n),it(It,t),it(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Kp(n),t=Zp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}lt(mt),it(mt,t)}function Nn(){lt(mt),lt(It),lt(Et)}function jr(t){t.memoizedState!==null&&it(Oe,t);var n=mt.current,a=Zp(n,t.type);n!==a&&(it(It,t),it(mt,a))}function Ds(t){It.current===t&&(lt(mt),lt(It)),Oe.current===t&&(lt(Oe),Bl._currentValue=pt)}var Is=Object.prototype.hasOwnProperty,xa=r.unstable_scheduleCallback,Ms=r.unstable_cancelCallback,Mc=r.unstable_shouldYield,Br=r.unstable_requestPaint,We=r.unstable_now,Eo=r.unstable_getCurrentPriorityLevel,Se=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,hi=r.unstable_NormalPriority,Vc=r.unstable_LowPriority,kr=r.unstable_IdlePriority,Oc=r.log,Ua=r.unstable_setDisableYieldValue,Pi=null,ke=null;function gn(t){if(typeof Oc=="function"&&Ua(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pi,t)}catch{}}var Xe=Math.clz32?Math.clz32:So,xc=Math.log,To=Math.LN2;function So(t){return t>>>=0,t===0?32:31-(xc(t)/To|0)|0}var Hn=256,zi=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):a||(a=E&~t,a!==0&&(c=Dn(a))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):a||(a=l&~t,a!==0&&(c=Dn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qr(){var t=Hn;return Hn<<=1,(Hn&4194048)===0&&(Hn=256),t}function Bi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Os(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,n,a,l,c,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var F=31-Xe(a),K=1<<F;E[F]=0,R[F]=-1;var B=z[F];if(B!==null)for(z[F]=null,F=0;F<B.length;F++){var k=B[F];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Xe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Hr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fi(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:gy(t.type))}function Uc(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Gn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Gn,xe="__reactProps$"+Gn,di="__reactContainer$"+Gn,La="__reactEvents$"+Gn,Pa="__reactListeners$"+Gn,Lc="__reactHandles$"+Gn,In="__reactResources$"+Gn,Hi="__reactMarker$"+Gn;function xs(t){delete t[ce],delete t[xe],delete t[La],delete t[Pa],delete t[Lc]}function Qn(t){var n=t[ce];if(n)return n;for(var a=t.parentNode;a;){if(n=a[di]||a[ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ty(t);t!==null;){if(a=t[ce])return a;t=ty(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[ce]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qi(t){var n=t[In];return n||(n=t[In]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[Hi]=!0}var Ao=new Set,za={};function Yn(t,n){Xn(t,n),Xn(t+"Capture",n)}function Xn(t,n){for(za[t]=n,t=0;t<n.length;t++)Ao.add(n[t])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kn={},Us={};function Pc(t){return Is.call(Us,t)?!0:Is.call(Kn,t)?!1:ja.test(t)?Us[t]=!0:(Kn[t]=!0,!1)}function Ba(t,n,a){if(Pc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ka(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function yn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var qa,Ls;function mi(t){if(qa===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qa=n&&n[1]||"",Ls=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qa+t+Ls}var Ps=!1;function zs(t,n){if(!t||Ps)return"";Ps=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),z=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===z.length)for(l=R.length-1,c=z.length-1;1<=l&&0<=c&&R[l]!==z[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==z[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==z[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{Ps=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function zc(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return zs(t.type,!1);case 11:return zs(t.type.render,!1);case 1:return zs(t.type,!0);case 31:return mi("Activity");default:return""}}function Mn(t){try{var n="";do n+=zc(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ha(t){var n=Fi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yi(t){t._valueTracker||(t._valueTracker=Ha(t))}function Qt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ga=/[\n"\\]/g;function Ne(t){return t.replace(Ga,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Qr(t,n,a,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Yr(t,v,ie(n)):a!=null?Yr(t,v,ie(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ie(E):t.removeAttribute("name")}function Fr(t,n,a,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+ie(a):"",n=n!=null?""+ie(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Yr(t,n,a){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ie(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ro(t,n,a){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ie(a):""}function wo(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ee(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ie(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||pi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Kr(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Xr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Xr(t,f,n[f])}function js(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Co=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),No=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vn(t){return No.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Zr=null;function $r(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Ke=null;function Do(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(Qr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(s(90));Qr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qt(l)}break t;case"textarea":Ro(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var Qa=!1;function Fa(t,n,a){if(Qa)return t(n,a);Qa=!0;try{var l=t(n);return l}finally{if(Qa=!1,(Ki!==null||Ke!==null)&&(_u(),Ki&&(n=Ki,t=Ke,Ke=Ki=null,Do(n),t)))for(n=0;n<t.length;n++)Do(t[n])}}function Zi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Ze)try{var $i={};Object.defineProperty($i,"passive",{get:function(){yi=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{yi=!1}var vn=null,$t=null,Bs=null;function Io(){if(Bs)return Bs;var t,n=$t,a=n.length,l,c="value"in vn?vn.value:vn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return Bs=c.slice(t,1<l?1-l:void 0)}function Ya(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xa(){return!0}function Jr(){return!1}function be(t){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xa:Jr,this.isPropagationStopped=Jr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),n}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=be(qe),Za=T({},qe,{view:0,detail:0}),$a=be(Za),ks,Ja,Zn,Wa=T({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(ks=t.screenX-Zn.screenX,Ja=t.screenY-Zn.screenY):Ja=ks=0,Zn=t),ks)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),ts=be(Wa),jc=T({},Wa,{dataTransfer:0}),Mo=be(jc),es=T({},Za,{relatedTarget:0}),qs=be(es),Vo=T({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=be(Vo),tl=T({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oo=be(tl),Hs=T({},qe,{data:0}),el=be(Hs),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function Gs(){return Lo}var Po=T({},Za,{key:function(t){if(t.key){var n=xo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_i[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qs=be(Po),$e=T({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=be($e),zo=T({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),Ji=be(zo),u=T({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=be(u),_=T({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=be(_),P=T({},qe,{newState:0,oldState:0}),H=be(P),et=[9,13,27,32],bt=Ze&&"CompositionEvent"in window,te=null;Ze&&"documentMode"in document&&(te=document.documentMode);var kt=Ze&&"TextEvent"in window&&!te,fe=Ze&&(!bt||te&&8<te&&11>=te),rn=" ",$n=!1;function On(t,n){switch(t){case"keyup":return et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function il(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:($n=!0,rn);case"textInput":return t=n.data,t===rn&&$n?null:t;default:return null}}function j0(t,n){if(Un)return t==="compositionend"||!bt&&On(t,n)?(t=Io(),Bs=$t=vn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var B0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!B0[t.type]:n==="textarea"}function cm(t,n,a,l){Ki?Ke?Ke.push(l):Ke=[l]:Ki=l,n=Au(n,"onChange"),0<n.length&&(a=new Ka("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var al=null,sl=null;function k0(t){Gp(t,0)}function jo(t){var n=Gi(t);if(Qt(n))return t}function hm(t,n){if(t==="change")return n}var fm=!1;if(Ze){var Bc;if(Ze){var kc="oninput"in document;if(!kc){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),kc=typeof dm.oninput=="function"}Bc=kc}else Bc=!1;fm=Bc&&(!document.documentMode||9<document.documentMode)}function mm(){al&&(al.detachEvent("onpropertychange",gm),sl=al=null)}function gm(t){if(t.propertyName==="value"&&jo(sl)){var n=[];cm(n,sl,t,$r(t)),Fa(k0,n)}}function q0(t,n,a){t==="focusin"?(mm(),al=n,sl=a,al.attachEvent("onpropertychange",gm)):t==="focusout"&&mm()}function H0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return jo(sl)}function G0(t,n){if(t==="click")return jo(n)}function Q0(t,n){if(t==="input"||t==="change")return jo(n)}function F0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:F0;function rl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Is.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function pm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ym(t,n){var a=pm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=pm(a)}}function _m(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?_m(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function vm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=gi(t.document)}return n}function qc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var Y0=Ze&&"documentMode"in document&&11>=document.documentMode,Fs=null,Hc=null,ll=null,Gc=!1;function Em(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gc||Fs==null||Fs!==gi(l)||(l=Fs,"selectionStart"in l&&qc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&rl(ll,l)||(ll=l,l=Au(Hc,"onSelect"),0<l.length&&(n=new Ka("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Fs)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ys={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},Qc={},Tm={};Ze&&(Tm=document.createElement("div").style,"AnimationEvent"in window||(delete Ys.animationend.animation,delete Ys.animationiteration.animation,delete Ys.animationstart.animation),"TransitionEvent"in window||delete Ys.transitionend.transition);function is(t){if(Qc[t])return Qc[t];if(!Ys[t])return t;var n=Ys[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Tm)return Qc[t]=n[a];return t}var Sm=is("animationend"),bm=is("animationiteration"),Am=is("animationstart"),X0=is("transitionrun"),K0=is("transitionstart"),Z0=is("transitioncancel"),Rm=is("transitionend"),wm=new Map,Fc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fc.push("scrollEnd");function Ln(t,n){wm.set(t,n),Yn(n,[t])}var Cm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Cm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Mn(n)},Cm.set(t,n),n)}return{value:t,source:n,stack:Mn(n)}}var Tn=[],Xs=0,Yc=0;function Bo(){for(var t=Xs,n=Yc=Xs=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Nm(a,c,f)}}function ko(t,n,a,l){Tn[Xs++]=t,Tn[Xs++]=n,Tn[Xs++]=a,Tn[Xs++]=l,Yc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Xc(t,n,a,l){return ko(t,n,a,l),qo(t)}function Ks(t,n){return ko(t,null,null,n),qo(t)}function Nm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Xe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function qo(t){if(50<Vl)throw Vl=0,tf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Zs={};function $0(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new $0(t,n,a,l)}function Kc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ho(t,n,a,l,c,f){var v=0;if(l=t,typeof t=="function")Kc(t)&&(v=1);else if(typeof t=="string")v=WE(t,a,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,a,n,c),t.elementType=w,t.lanes=f,t;case W:return as(a.children,c,f,n);case nt:v=8,c|=24;break;case G:return t=on(12,a,n,c|2),t.elementType=G,t.lanes=f,t;case $:return t=on(13,a,n,c),t.elementType=$,t.lanes=f,t;case ht:return t=on(19,a,n,c),t.elementType=ht,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case st:case tt:v=10;break t;case rt:v=9;break t;case ft:v=11;break t;case I:v=14;break t;case A:v=16,l=null;break t}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(v,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function Zc(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function $c(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var $s=[],Js=0,Go=null,Qo=0,Sn=[],bn=0,ss=null,Ei=1,Ti="";function rs(t,n){$s[Js++]=Qo,$s[Js++]=Go,Go=t,Qo=n}function Im(t,n,a){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ss,ss=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),a+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-Xe(n)+c|a<<c|l,Ti=f+t}else Ei=1<<f|a<<c|l,Ti=t}function Jc(t){t.return!==null&&(rs(t,1),Im(t,1,0))}function Wc(t){for(;t===Go;)Go=$s[--Js],$s[Js]=null,Qo=$s[--Js],$s[Js]=null;for(;t===ss;)ss=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Je=null,le=null,jt=!1,ls=null,Jn=!1,th=Error(s(519));function os(t){var n=Error(s(418,""));throw cl(En(n,t)),th}function Mm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ce]=t,n[xe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<xl.length;a++)Dt(xl[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Fr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),wo(n,l.value,l.defaultValue,l.children),Yi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Xp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Ru),n=!0):n=!1,n||os(t)}function Vm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Je=Je.return}}function ol(t){if(t!==Je)return!1;if(!jt)return Vm(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||yf(t.type,t.memoizedProps)),a=!a),a&&le&&os(t),Vm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){le=zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ma(t.type)?(t=Tf,Tf=null,le=t):le=n):le=Je?zn(t.stateNode.nextSibling):null;return!0}function ul(){le=Je=null,jt=!1}function Om(){var t=ls;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ls=null),t}function cl(t){ls===null?ls=[t]:ls.push(t)}var eh=J(null),us=null,Si=null;function Wi(t,n,a){it(eh,n._currentValue),n._currentValue=a}function bi(t){t._currentValue=eh.current,lt(eh)}function nh(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function ih(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),nh(f.return,a,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),nh(v,a,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function hl(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(v=c.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}c=c.return}t!==null&&ih(n,t,a,l),n.flags|=262144}function Fo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){us=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return xm(us,t)}function Yo(t,n){return us===null&&cs(t),xm(t,n)}function xm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Si===null){if(t===null)throw Error(s(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return a}var J0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W0=r.unstable_scheduleCallback,tE=r.unstable_NormalPriority,Ae={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ah(){return{controller:new J0,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&W0(tE,function(){t.controller.abort()})}var dl=null,sh=0,Ws=0,tr=null;function eE(t,n){if(dl===null){var a=dl=[];sh=0,Ws=of(),tr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sh++,n.then(Um,Um),n}function Um(){if(--sh===0&&dl!==null){tr!==null&&(tr.status="fulfilled");var t=dl;dl=null,Ws=0,tr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function nE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Lm=Q.S;Q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&eE(t,n),Lm!==null&&Lm(t,n)};var hs=J(null);function rh(){var t=hs.current;return t!==null?t:Jt.pooledCache}function Xo(t,n){n===null?it(hs,hs.current):it(hs,n.pool)}function Pm(){var t=rh();return t===null?null:{parent:Ae._currentValue,pool:t}}var ml=Error(s(460)),zm=Error(s(474)),Ko=Error(s(542)),lh={then:function(){}};function jm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zo(){}function Bm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Zo,Zo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t;default:if(typeof n.status=="string")n.then(Zo,Zo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,qm(t),t}throw gl=n,ml}}var gl=null;function km(){if(gl===null)throw Error(s(459));var t=gl;return gl=null,t}function qm(t){if(t===ml||t===Ko)throw Error(s(483))}var ta=!1;function oh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function na(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=qo(t),Nm(t,null,a),n}return ko(t,l,n,a),qo(t)}function pl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}function ch(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var hh=!1;function yl(){if(hh){var t=tr;if(t!==null)throw t}}function _l(t,n,a,l){hh=!1;var c=t.updateQueue;ta=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,z=R.next;R.next=null,v===null?f=z:v.next=z,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;v=0,F=z=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===Ws&&(hh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,yt=E;B=n;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){K=Tt.call(Xt,K,B);break t}K=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,B=typeof Tt=="function"?Tt.call(Xt,K,B):Tt,B==null)break t;K=T({},K,B);break t;case 2:ta=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=k,R=K):F=F.next=k,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);F===null&&(R=K),c.baseState=R,c.firstBaseUpdate=z,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),ca|=v,t.lanes=v,t.memoizedState=K}}function Hm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Gm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Hm(a[t],n)}var er=J(null),$o=J(0);function Qm(t,n){t=Ii,it($o,t),it(er,n),Ii=t|n.baseLanes}function fh(){it($o,Ii),it(er,er.current)}function dh(){Ii=$o.current,lt(er),lt($o)}var ia=0,wt=null,Ft=null,pe=null,Jo=!1,nr=!1,fs=!1,Wo=0,vl=0,ir=null,iE=0;function de(){throw Error(s(321))}function mh(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function gh(t,n,a,l,c,f){return ia=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Q.H=t===null||t.memoizedState===null?Ng:Dg,fs=!1,f=a(l,c),fs=!1,nr&&(f=Ym(n,a,l,c)),Fm(t),f}function Fm(t){Q.H=su;var n=Ft!==null&&Ft.next!==null;if(ia=0,pe=Ft=wt=null,Jo=!1,vl=0,ir=null,n)throw Error(s(300));t===null||De||(t=t.dependencies,t!==null&&Fo(t)&&(De=!0))}function Ym(t,n,a,l){wt=t;var c=0;do{if(nr&&(ir=null),vl=0,nr=!1,25<=c)throw Error(s(301));if(c+=1,pe=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=cE,f=n(a,l)}while(nr);return f}function aE(){var t=Q.H,n=t.useState()[0];return n=typeof n.then=="function"?El(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(wt.flags|=1024),n}function ph(){var t=Wo!==0;return Wo=0,t}function yh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function _h(t){if(Jo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Jo=!1}ia=0,pe=Ft=wt=null,nr=!1,vl=Wo=0,ir=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Ft=t;else{if(t===null)throw wt.alternate===null?Error(s(467)):Error(s(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var n=vl;return vl+=1,ir===null&&(ir=[]),t=Bm(ir,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,Q.H=n===null||n.memoizedState===null?Ng:Dg),t}function tu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===tt)return He(t)}throw Error(s(438,String(t)))}function Eh(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=vh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function eu(t){var n=ye();return Th(n,Ft,t)}function Th(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,z=n,F=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Ot&K)===K:(ia&K)===K){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Ws&&(F=!0);else if((ia&B)===B){z=z.next,B===Ws&&(F=!0);continue}else K={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=K,v=f):R=R.next=K,wt.lanes|=B,ca|=B;K=z.action,fs&&a(f,K),f=z.hasEagerState?z.eagerState:a(f,K)}else B={lane:K,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,wt.lanes|=K,ca|=K;z=z.next}while(z!==null&&z!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(De=!0,F&&(a=tr,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sh(t){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Xm(t,n,a){var l=wt,c=ye(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!ln((Ft||c).memoizedState,a);v&&(c.memoizedState=a,De=!0),c=c.queue;var E=$m.bind(null,l,c,t);if(Tl(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ar(9,nu(),Zm.bind(null,l,c,a,n),null),Jt===null)throw Error(s(349));f||(ia&124)!==0||Km(l,n,a)}return a}function Km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=vh(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Zm(t,n,a,l){n.value=a,n.getSnapshot=l,Jm(n)&&Wm(t)}function $m(t,n,a){return a(function(){Jm(n)&&Wm(t)})}function Jm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function Wm(t){var n=Ks(t,2);n!==null&&dn(n,t,2)}function bh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),fs){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function tg(t,n,a,l){return t.baseState=a,Th(t,Ft,typeof l=="function"?l:Ai)}function sE(t,n,a,l,c){if(au(t))throw Error(s(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};Q.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,eg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function eg(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=Q.T,v={};Q.T=v;try{var E=a(c,l),R=Q.S;R!==null&&R(v,E),ng(t,n,E)}catch(z){Ah(t,n,z)}finally{Q.T=f}}else try{f=a(c,l),ng(t,n,f)}catch(z){Ah(t,n,z)}}function ng(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ig(t,n,l)},function(l){return Ah(t,n,l)}):ig(t,n,a)}function ig(t,n,a){n.status="fulfilled",n.value=a,ag(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,eg(t,a)))}function Ah(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ag(n),n=n.next;while(n!==l)}t.action=null}function ag(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function sg(t,n){return n}function rg(t,n){if(jt){var a=Jt.formState;if(a!==null){t:{var l=wt;if(jt){if(le){e:{for(var c=le,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=zn(c.nextSibling),l=c.data==="F!";break t}}os(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sg,lastRenderedState:n},a.queue=l,a=Rg.bind(null,wt,l),l.dispatch=a,l=bh(!1),f=Dh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=sE.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function lg(t){var n=ye();return og(n,Ft,t)}function og(t,n,a){if(n=Th(t,n,sg)[0],t=eu(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=El(n)}catch(v){throw v===ml?Ko:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ar(9,nu(),rE.bind(null,c,a),null)),[l,f,t]}function rE(t,n){t.action=n}function ug(t){var n=ye(),a=Ft;if(a!==null)return og(n,a,t);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ar(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=vh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function nu(){return{destroy:void 0,resource:void 0}}function cg(){return ye().memoizedState}function iu(t,n,a,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=ar(1|n,nu(),a,l)}function Tl(t,n,a,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&mh(l,Ft.memoizedState.deps)?c.memoizedState=ar(n,f,a,l):(wt.flags|=t,c.memoizedState=ar(1|n,f,a,l))}function hg(t,n){iu(8390656,8,t,n)}function fg(t,n){Tl(2048,8,t,n)}function dg(t,n){return Tl(4,2,t,n)}function mg(t,n){return Tl(4,4,t,n)}function gg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function pg(t,n,a){a=a!=null?a.concat([t]):null,Tl(4,4,gg.bind(null,n,t),a)}function Rh(){}function yg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&mh(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function _g(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&mh(n,l[1]))return l[0];if(l=t(),fs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l}function wh(t,n,a){return a===void 0||(ia&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Tp(),wt.lanes|=t,ca|=t,a)}function vg(t,n,a,l){return ln(a,n)?a:er.current!==null?(t=wh(t,a,l),ln(t,n)||(De=!0),t):(ia&42)===0?(De=!0,t.memoizedState=a):(t=Tp(),wt.lanes|=t,ca|=t,n)}function Eg(t,n,a,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var v=Q.T,E={};Q.T=E,Dh(t,!1,n,a);try{var R=c(),z=Q.S;if(z!==null&&z(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=nE(R,l);Sl(t,n,F,fn(t))}else Sl(t,n,l,fn(t))}catch(K){Sl(t,n,{then:function(){},status:"rejected",reason:K},fn())}finally{at.p=f,Q.T=v}}function lE(){}function Ch(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=Tg(t).queue;Eg(t,c,n,pt,a===null?lE:function(){return Sg(t),a(l)})}function Tg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Sg(t){var n=Tg(t).next.queue;Sl(t,n,{},fn())}function Nh(){return He(Bl)}function bg(){return ye().memoizedState}function Ag(){return ye().memoizedState}function oE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=ea(a);var l=na(n,t,a);l!==null&&(dn(l,n,a),pl(l,n,a)),n={cache:ah()},t.payload=n;return}n=n.return}}function uE(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},au(t)?wg(n,a):(a=Xc(t,n,a,l),a!==null&&(dn(a,t,l),Cg(a,n,l)))}function Rg(t,n,a){var l=fn();Sl(t,n,a,l)}function Sl(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(au(t))wg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return ko(t,n,c,0),Jt===null&&Bo(),!1}catch{}finally{}if(a=Xc(t,n,c,l),a!==null)return dn(a,t,l),Cg(a,n,l),!0}return!1}function Dh(t,n,a,l){if(l={lane:2,revertLane:of(),action:l,hasEagerState:!1,eagerState:null,next:null},au(t)){if(n)throw Error(s(479))}else n=Xc(t,a,l,2),n!==null&&dn(n,t,2)}function au(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function wg(t,n){nr=Jo=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Cg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qi(t,a)}}var su={readContext:He,use:tu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Ng={readContext:He,use:tu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:hg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,iu(4194308,4,gg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return iu(4194308,4,t,n)},useInsertionEffect:function(t,n){iu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(fs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(fs){gn(!0);try{a(n)}finally{gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=uE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=bh(t);var n=t.queue,a=Rg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Rh,useDeferredValue:function(t,n){var a=tn();return wh(a,t,n)},useTransition:function(){var t=bh(!1);return t=Eg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=tn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ot&124)!==0||Km(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,hg($m.bind(null,l,f,t),[t]),l.flags|=2048,ar(9,nu(),Zm.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(jt){var a=Ti,l=Ei;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=Wo++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=iE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Nh,useFormState:rg,useActionState:rg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Dh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Eh,useCacheRefresh:function(){return tn().memoizedState=oE.bind(null,wt)}},Dg={readContext:He,use:tu,useCallback:yg,useContext:He,useEffect:fg,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:eu,useRef:cg,useState:function(){return eu(Ai)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ye();return vg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=eu(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Nh,useFormState:lg,useActionState:lg,useOptimistic:function(t,n){var a=ye();return tg(a,Ft,t,n)},useMemoCache:Eh,useCacheRefresh:Ag},cE={readContext:He,use:tu,useCallback:yg,useContext:He,useEffect:fg,useImperativeHandle:pg,useInsertionEffect:dg,useLayoutEffect:mg,useMemo:_g,useReducer:Sh,useRef:cg,useState:function(){return Sh(Ai)},useDebugValue:Rh,useDeferredValue:function(t,n){var a=ye();return Ft===null?wh(a,t,n):vg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Sh(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:El(t),n]},useSyncExternalStore:Xm,useId:bg,useHostTransitionStatus:Nh,useFormState:ug,useActionState:ug,useOptimistic:function(t,n){var a=ye();return Ft!==null?tg(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Eh,useCacheRefresh:Ag},sr=null,bl=0;function ru(t){var n=bl;return bl+=1,sr===null&&(sr=[]),Bm(sr,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function lu(t,n){throw n.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ig(t){var n=t._init;return n(t._payload)}function Mg(t){function n(x,M){if(t){var L=x.deletions;L===null?(x.deletions=[M],x.flags|=16):L.push(M)}}function a(x,M){if(!t)return null;for(;M!==null;)n(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function c(x,M){return x=vi(x,M),x.index=0,x.sibling=null,x}function f(x,M,L){return x.index=L,t?(L=x.alternate,L!==null?(L=L.index,L<M?(x.flags|=67108866,M):L):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,M,L,Y){return M===null||M.tag!==6?(M=Zc(L,x.mode,Y),M.return=x,M):(M=c(M,L),M.return=x,M)}function R(x,M,L,Y){var ct=L.type;return ct===W?F(x,M,L.props.children,Y,L.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ig(ct)===M.type)?(M=c(M,L.props),Al(M,L),M.return=x,M):(M=Ho(L.type,L.key,L.props,null,x.mode,Y),Al(M,L),M.return=x,M)}function z(x,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=$c(L,x.mode,Y),M.return=x,M):(M=c(M,L.children||[]),M.return=x,M)}function F(x,M,L,Y,ct){return M===null||M.tag!==7?(M=as(L,x.mode,Y,ct),M.return=x,M):(M=c(M,L),M.return=x,M)}function K(x,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zc(""+M,x.mode,L),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return L=Ho(M.type,M.key,M.props,null,x.mode,L),Al(L,M),L.return=x,L;case q:return M=$c(M,x.mode,L),M.return=x,M;case A:var Y=M._init;return M=Y(M._payload),K(x,M,L)}if(ee(M)||U(M))return M=as(M,x.mode,L,null),M.return=x,M;if(typeof M.then=="function")return K(x,ru(M),L);if(M.$$typeof===tt)return K(x,Yo(x,M),L);lu(x,M)}return null}function B(x,M,L,Y){var ct=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ct!==null?null:E(x,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case N:return L.key===ct?R(x,M,L,Y):null;case q:return L.key===ct?z(x,M,L,Y):null;case A:return ct=L._init,L=ct(L._payload),B(x,M,L,Y)}if(ee(L)||U(L))return ct!==null?null:F(x,M,L,Y,null);if(typeof L.then=="function")return B(x,M,ru(L),Y);if(L.$$typeof===tt)return B(x,M,Yo(x,L),Y);lu(x,L)}return null}function k(x,M,L,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(L)||null,E(M,x,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return x=x.get(Y.key===null?L:Y.key)||null,R(M,x,Y,ct);case q:return x=x.get(Y.key===null?L:Y.key)||null,z(M,x,Y,ct);case A:var Ct=Y._init;return Y=Ct(Y._payload),k(x,M,L,Y,ct)}if(ee(Y)||U(Y))return x=x.get(L)||null,F(M,x,Y,ct,null);if(typeof Y.then=="function")return k(x,M,L,ru(Y),ct);if(Y.$$typeof===tt)return k(x,M,L,Yo(M,Y),ct);lu(M,Y)}return null}function Tt(x,M,L,Y){for(var ct=null,Ct=null,dt=M,_t=M=0,Me=null;dt!==null&&_t<L.length;_t++){dt.index>_t?(Me=dt,dt=null):Me=dt.sibling;var Pt=B(x,dt,L[_t],Y);if(Pt===null){dt===null&&(dt=Me);break}t&&dt&&Pt.alternate===null&&n(x,dt),M=f(Pt,M,_t),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt,dt=Me}if(_t===L.length)return a(x,dt),jt&&rs(x,_t),ct;if(dt===null){for(;_t<L.length;_t++)dt=K(x,L[_t],Y),dt!==null&&(M=f(dt,M,_t),Ct===null?ct=dt:Ct.sibling=dt,Ct=dt);return jt&&rs(x,_t),ct}for(dt=l(dt);_t<L.length;_t++)Me=k(dt,x,_t,L[_t],Y),Me!==null&&(t&&Me.alternate!==null&&dt.delete(Me.key===null?_t:Me.key),M=f(Me,M,_t),Ct===null?ct=Me:Ct.sibling=Me,Ct=Me);return t&&dt.forEach(function(va){return n(x,va)}),jt&&rs(x,_t),ct}function yt(x,M,L,Y){if(L==null)throw Error(s(151));for(var ct=null,Ct=null,dt=M,_t=M=0,Me=null,Pt=L.next();dt!==null&&!Pt.done;_t++,Pt=L.next()){dt.index>_t?(Me=dt,dt=null):Me=dt.sibling;var va=B(x,dt,Pt.value,Y);if(va===null){dt===null&&(dt=Me);break}t&&dt&&va.alternate===null&&n(x,dt),M=f(va,M,_t),Ct===null?ct=va:Ct.sibling=va,Ct=va,dt=Me}if(Pt.done)return a(x,dt),jt&&rs(x,_t),ct;if(dt===null){for(;!Pt.done;_t++,Pt=L.next())Pt=K(x,Pt.value,Y),Pt!==null&&(M=f(Pt,M,_t),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt);return jt&&rs(x,_t),ct}for(dt=l(dt);!Pt.done;_t++,Pt=L.next())Pt=k(dt,x,_t,Pt.value,Y),Pt!==null&&(t&&Pt.alternate!==null&&dt.delete(Pt.key===null?_t:Pt.key),M=f(Pt,M,_t),Ct===null?ct=Pt:Ct.sibling=Pt,Ct=Pt);return t&&dt.forEach(function(hT){return n(x,hT)}),jt&&rs(x,_t),ct}function Xt(x,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case N:t:{for(var ct=L.key;M!==null;){if(M.key===ct){if(ct=L.type,ct===W){if(M.tag===7){a(x,M.sibling),Y=c(M,L.props.children),Y.return=x,x=Y;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===A&&Ig(ct)===M.type){a(x,M.sibling),Y=c(M,L.props),Al(Y,L),Y.return=x,x=Y;break t}a(x,M);break}else n(x,M);M=M.sibling}L.type===W?(Y=as(L.props.children,x.mode,Y,L.key),Y.return=x,x=Y):(Y=Ho(L.type,L.key,L.props,null,x.mode,Y),Al(Y,L),Y.return=x,x=Y)}return v(x);case q:t:{for(ct=L.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){a(x,M.sibling),Y=c(M,L.children||[]),Y.return=x,x=Y;break t}else{a(x,M);break}else n(x,M);M=M.sibling}Y=$c(L,x.mode,Y),Y.return=x,x=Y}return v(x);case A:return ct=L._init,L=ct(L._payload),Xt(x,M,L,Y)}if(ee(L))return Tt(x,M,L,Y);if(U(L)){if(ct=U(L),typeof ct!="function")throw Error(s(150));return L=ct.call(L),yt(x,M,L,Y)}if(typeof L.then=="function")return Xt(x,M,ru(L),Y);if(L.$$typeof===tt)return Xt(x,M,Yo(x,L),Y);lu(x,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(a(x,M.sibling),Y=c(M,L),Y.return=x,x=Y):(a(x,M),Y=Zc(L,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,M)}return function(x,M,L,Y){try{bl=0;var ct=Xt(x,M,L,Y);return sr=null,ct}catch(dt){if(dt===ml||dt===Ko)throw dt;var Ct=on(29,dt,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var rr=Mg(!0),Vg=Mg(!1),An=J(null),Wn=null;function aa(t){var n=t.alternate;it(Re,Re.current&1),it(An,t),Wn===null&&(n===null||er.current!==null||n.memoizedState!==null)&&(Wn=t)}function Og(t){if(t.tag===22){if(it(Re,Re.current),it(An,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else sa()}function sa(){it(Re,Re.current),it(An,An.current)}function Ri(t){lt(An),Wn===t&&(Wn=null),lt(Re)}var Re=J(0);function ou(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ef(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Ih(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Mh={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=ea(l);c.payload=n,a!=null&&(c.callback=a),n=na(t,c,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=ea(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=na(t,c,l),n!==null&&(dn(n,t,l),pl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=ea(a);l.tag=2,n!=null&&(l.callback=n),n=na(t,l,a),n!==null&&(dn(n,t,a),pl(n,t,a))}};function xg(t,n,a,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!rl(a,l)||!rl(c,f):!0}function Ug(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Mh.enqueueReplaceState(n,n.state,null)}function ds(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var uu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Lg(t){uu(t)}function Pg(t){console.error(t)}function zg(t){uu(t)}function cu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Vh(t,n,a){return a=ea(a),a.tag=3,a.payload={element:null},a.callback=function(){cu(t,n)},a}function Bg(t){return t=ea(t),t.tag=3,t}function kg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){jg(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){jg(n,a,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function hE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&hl(n,a,c,!0),a=An.current,a!==null){switch(a.tag){case 13:return Wn===null?nf():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===lh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),sf(t,l,c)),!1;case 22:return a.flags|=65536,l===lh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),sf(t,l,c)),!1}throw Error(s(435,a.tag))}return sf(t,l,c),nf(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==th&&(t=Error(s(422),{cause:l}),cl(En(t,a)))):(l!==th&&(n=Error(s(423),{cause:l}),cl(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Vh(t.stateNode,l,c),ch(t,c),oe!==4&&(oe=2)),!1;var f=Error(s(520),{cause:l});if(f=En(f,a),Ml===null?Ml=[f]:Ml.push(f),oe!==4&&(oe=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Vh(a.stateNode,l,t),ch(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Bg(c),kg(c,t,a,l),ch(a,c),!1}a=a.return}while(a!==null);return!1}var qg=Error(s(461)),De=!1;function Ue(t,n,a,l){n.child=t===null?Vg(n,null,a,l):rr(n,t.child,a,l)}function Hg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return cs(n),l=gh(t,n,a,v,f,c),E=ph(),t!==null&&!De?(yh(t,n,c),wi(t,n,c)):(jt&&E&&Jc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function Gg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Kc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,Qg(t,n,f,l,c)):(t=Ho(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Bh(t,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(v,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Qg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(rl(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Bh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Oh(t,n,a,l,c)}function Fg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Yg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xo(n,f!==null?f.cachePool:null),f!==null?Qm(n,f):fh(),Og(n);else return n.lanes=n.childLanes=536870912,Yg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Xo(n,f.cachePool),Qm(n,f),sa(),n.memoizedState=null):(t!==null&&Xo(n,null),fh(),sa());return Ue(t,n,c,a),n.child}function Yg(t,n,a,l){var c=rh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Xo(n,null),fh(),Og(n),t!==null&&hl(t,n,l,!0),null}function hu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Oh(t,n,a,l,c){return cs(n),a=gh(t,n,a,l,void 0,c),l=ph(),t!==null&&!De?(yh(t,n,c),wi(t,n,c)):(jt&&l&&Jc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Xg(t,n,a,l,c,f){return cs(n),n.updateQueue=null,a=Ym(n,l,a,c),Fm(t),l=ph(),t!==null&&!De?(yh(t,n,f),wi(t,n,f)):(jt&&l&&Jc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function Kg(t,n,a,l,c){if(cs(n),n.stateNode===null){var f=Zs,v=a.contextType;typeof v=="object"&&v!==null&&(f=He(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Mh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},oh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?He(v):Zs,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Ih(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Mh.enqueueReplaceState(f,f.state,null),_l(n,l,f,c),yl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ds(a,E);f.props=R;var z=f.context,F=a.contextType;v=Zs,typeof F=="object"&&F!==null&&(v=He(F));var K=a.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==v)&&Ug(n,f,l,v),ta=!1;var B=n.memoizedState;f.state=B,_l(n,l,f,c),yl(),z=n.memoizedState,E||B!==z||ta?(typeof K=="function"&&(Ih(n,a,K,l),z=n.memoizedState),(R=ta||xg(n,a,R,l,B,z,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,uh(t,n),v=n.memoizedProps,F=ds(a,v),f.props=F,K=n.pendingProps,B=f.context,z=a.contextType,R=Zs,typeof z=="object"&&z!==null&&(R=He(z)),E=a.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||B!==R)&&Ug(n,f,l,R),ta=!1,B=n.memoizedState,f.state=B,_l(n,l,f,c),yl();var k=n.memoizedState;v!==K||B!==k||ta||t!==null&&t.dependencies!==null&&Fo(t.dependencies)?(typeof E=="function"&&(Ih(n,a,E,l),k=n.memoizedState),(F=ta||xg(n,a,F,l,B,k,R)||t!==null&&t.dependencies!==null&&Fo(t.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,hu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=rr(n,t.child,null,c),n.child=rr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Zg(t,n,a,l){return ul(),n.flags|=256,Ue(t,n,a,l),n.child}var xh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uh(t){return{baseLanes:t,cachePool:Pm()}}function Lh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function $g(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?aa(n):sa(),jt){var E=le,R;if(R=E){t:{for(R=E,E=Jn;R.nodeType!==8;){if(!E){E=null;break t}if(R=zn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ss!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,le=null,R=!0):R=!1}R||os(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Ef(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(sa(),c=n.mode,E=fu({mode:"hidden",children:E},c),l=as(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Uh(a),c.childLanes=Lh(t,v,a),n.memoizedState=xh,l):(aa(n),Ph(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(aa(n),n.flags&=-257,n=zh(t,n,a)):n.memoizedState!==null?(sa(),n.child=t.child,n.flags|=128,n=null):(sa(),c=l.fallback,E=n.mode,l=fu({mode:"visible",children:l.children},E),c=as(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,rr(n,t.child,null,a),l=n.child,l.memoizedState=Uh(a),l.childLanes=Lh(t,v,a),n.memoizedState=xh,n=c);else if(aa(n),Ef(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,cl({value:l,source:null,stack:null}),n=zh(t,n,a)}else if(De||hl(t,n,a,!1),v=(a&t.childLanes)!==0,De||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:Hr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ks(t,l),dn(v,t,l),qg;E.data==="$?"||nf(),n=zh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=zn(E.nextSibling),Je=n,jt=!0,ls=null,Jn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ss,Ei=t.id,Ti=t.overflow,ss=n),n=Ph(n,l.children),n.flags|=4096);return n}return c?(sa(),c=l.fallback,E=n.mode,R=t.child,z=R.sibling,l=vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?c=vi(z,c):(c=as(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Uh(a):(R=E.cachePool,R!==null?(z=Ae._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=Pm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Lh(t,v,a),n.memoizedState=xh,l):(aa(n),a=t.child,t=a.sibling,a=vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Ph(t,n){return n=fu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function fu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function zh(t,n,a){return rr(n,t.child,null,a),t=Ph(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),nh(t.return,n,a)}function jh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Wg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jg(t,a,n);else if(t.tag===19)Jg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(Re,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&ou(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),jh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&ou(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}jh(n,!0,a,null,f);break;case"together":jh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ca|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(hl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Fo(t)))}function fE(t,n,a){switch(n.tag){case 3:Gt(n,n.stateNode.containerInfo),Wi(n,Ae,t.memoizedState.cache),ul();break;case 27:case 5:jr(n);break;case 4:Gt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(aa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?$g(t,n,a):(aa(n),t=wi(t,n,a),t!==null?t.sibling:null);aa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(hl(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Wg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Fg(t,n,a);case 24:Wi(n,Ae,t.memoizedState.cache)}return wi(t,n,a)}function tp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Bh(t,a)&&(n.flags&128)===0)return De=!1,fE(t,n,a);De=(t.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&Im(n,Qo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Kc(l)?(t=ds(l,t),n.tag=1,n=Kg(null,n,l,t,a)):(n.tag=0,n=Oh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===ft){n.tag=11,n=Hg(null,n,l,t,a);break t}else if(c===I){n.tag=14,n=Gg(null,n,l,t,a);break t}}throw n=re(l)||l,Error(s(306,n,""))}}return n;case 0:return Oh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ds(l,n.pendingProps),Kg(t,n,l,c,a);case 3:t:{if(Gt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,uh(t,n),_l(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Wi(n,Ae,l),l!==f.cache&&ih(n,[Ae],a,!0),yl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zg(t,n,l,a);break t}else if(l!==c){c=En(Error(s(424)),n),cl(c),n=Zg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=zn(t.firstChild),Je=n,jt=!0,ls=null,Jn=!0,a=Vg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ul(),l===c){n=wi(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return hu(t,n),t===null?(a=ay(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=wu(Et.current).createElement(a),l[ce]=n,l[xe]=t,Pe(l,a,t),he(l),n.stateNode=l):n.memoizedState=ay(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return jr(n),t===null&&jt&&(l=n.stateNode=ey(n.type,n.pendingProps,Et.current),Je=n,Jn=!0,c=le,ma(n.type)?(Tf=c,le=zn(l.firstChild)):le=c),Ue(t,n,n.pendingProps.children,a),hu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=le)&&(l=BE(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Je=n,le=zn(l.firstChild),Jn=!1,c=!0):c=!1),c||os(n)),jr(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,yf(c,f)?l=null:v!==null&&yf(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=gh(t,n,aE,null,null,a),Bl._currentValue=c),hu(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=le)&&(a=kE(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,Je=n,le=null,t=!0):t=!1),t||os(n)),null;case 13:return $g(t,n,a);case 4:return Gt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=rr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return Hg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,cs(n),c=He(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return Gg(t,n,n.type,n.pendingProps,a);case 15:return Qg(t,n,n.type,n.pendingProps,a);case 19:return Wg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=fu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=vi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Fg(t,n,a);case 24:return cs(n),l=He(Ae),t===null?(c=rh(),c===null&&(c=Jt,f=ah(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},oh(n),Wi(n,Ae,c)):((t.lanes&a)!==0&&(uh(t,n),_l(n,null,null,a),yl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wi(n,Ae,l)):(l=f.cache,Wi(n,Ae,l),l!==c.cache&&ih(n,[Ae],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Ci(t){t.flags|=4}function ep(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!uy(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?Wn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Wn))throw gl=lh,zm;t.flags|=8192}}function du(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,cr|=n)}function Rl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function dE(t,n,a){var l=n.pendingProps;switch(Wc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Ae),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ol(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Om())),ae(n),null;case 26:return a=n.memoizedState,t===null?(Ci(n),a!==null?(ae(n),ep(n,a)):(ae(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ci(n),ae(n),ep(n,a)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ae(n),n.flags&=-16777217),null;case 27:Ds(n),a=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}t=mt.current,ol(n)?Mm(n):(t=ey(c,l,a),n.stateNode=t,Ci(n))}return ae(n),null;case 5:if(Ds(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ae(n),null}if(t=mt.current,ol(n))Mm(n);else{switch(c=wu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ce]=n,t[xe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=Et.current,ol(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Xp(t.nodeValue,a)),t||os(n)}else t=wu(t).createTextNode(l),t[ce]=n,n.stateNode=t}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ol(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[ce]=n}else ul(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=Om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),du(n,n.updateQueue),ae(n),null;case 4:return Nn(),t===null&&ff(n.stateNode.containerInfo),ae(n),null;case 10:return bi(n.type),ae(n),null;case 19:if(lt(Re),c=n.memoizedState,c===null)return ae(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Rl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=ou(t),f!==null){for(n.flags|=128,Rl(c,!1),t=f.updateQueue,n.updateQueue=t,du(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Dm(a,t),a=a.sibling;return it(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>pu&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304)}else{if(!l)if(t=ou(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,du(n,t),Rl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ae(n),null}else 2*We()-c.renderingStartTime>pu&&a!==536870912&&(n.flags|=128,l=!0,Rl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Re.current,it(Re,l?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return Ri(n),dh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&du(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&lt(hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bi(Ae),ae(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function mE(t,n){switch(Wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Ae),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ds(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ul()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return lt(Re),null;case 4:return Nn(),null;case 10:return bi(n.type),null;case 22:case 23:return Ri(n),dh(),t!==null&&lt(hs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Ae),null;case 25:return null;default:return null}}function np(t,n){switch(Wc(n),n.tag){case 3:bi(Ae),Nn();break;case 26:case 27:case 5:Ds(n);break;case 4:Nn();break;case 13:Ri(n);break;case 19:lt(Re);break;case 10:bi(n.type);break;case 22:case 23:Ri(n),dh(),t!==null&&lt(hs);break;case 24:bi(Ae)}}function wl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function ra(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=a,z=E;try{z()}catch(F){Kt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Kt(n,n.return,F)}}function ip(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Gm(n,a)}catch(l){Kt(t,t.return,l)}}}function ap(t,n,a){a.props=ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Cl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function sp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function kh(t,n,a){try{var l=t.stateNode;UE(l,t.type,a,n),l[xe]=n}catch(c){Kt(t,t.return,c)}}function rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function qh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Ru));else if(l!==4&&(l===27&&ma(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hh(t,n,a),t=t.sibling;t!==null;)Hh(t,n,a),t=t.sibling}function mu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mu(t,n,a),t=t.sibling;t!==null;)mu(t,n,a),t=t.sibling}function lp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ce]=t,n[xe]=a}catch(f){Kt(t,t.return,f)}}var Ni=!1,me=!1,Gh=!1,op=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function gE(t,n){if(t=t.containerInfo,gf=Vu,t=vm(t),qc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,z=0,F=0,K=t,B=null;e:for(;;){for(var k;K!==a||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===a&&++z===c&&(E=v),B===f&&++F===l&&(R=v),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(pf={focusedElem:t,selectionRange:a},Vu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=ds(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Kt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)vf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function up(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a),l&4&&wl(5,a);break;case 1:if(la(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Kt(a,a.return,v)}else{var c=ds(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(a,a.return,v)}}l&64&&ip(a),l&512&&Cl(a,a.return);break;case 3:if(la(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Gm(t,n)}catch(v){Kt(a,a.return,v)}}break;case 27:n===null&&l&4&&lp(a);case 26:case 5:la(t,a),n===null&&l&4&&sp(a),l&512&&Cl(a,a.return);break;case 12:la(t,a);break;case 13:la(t,a),l&4&&fp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AE.bind(null,a),qE(t,a))));break;case 22:if(l=a.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||me,c=Ni;var f=me;Ni=l,(me=n)&&!f?oa(t,a,(a.subtreeFlags&8772)!==0):la(t,a),Ni=c,me=f}break;case 30:break;default:la(t,a)}}function cp(t){var n=t.alternate;n!==null&&(t.alternate=null,cp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&xs(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Di(t,n,a){for(a=a.child;a!==null;)hp(t,n,a),a=a.sibling}function hp(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 26:me||ti(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ti(a,n);var l=ne,c=en;ma(a.type)&&(ne=a.stateNode,en=!1),Di(t,n,a),Ll(a.stateNode),ne=l,en=c;break;case 5:me||ti(a,n);case 6:if(l=ne,c=en,ne=null,Di(t,n,a),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:ne!==null&&(en?(t=ne,Wp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gl(t)):Wp(ne,a.stateNode));break;case 4:l=ne,c=en,ne=a.stateNode.containerInfo,en=!0,Di(t,n,a),ne=l,en=c;break;case 0:case 11:case 14:case 15:me||ra(2,a,n),me||ra(4,a,n),Di(t,n,a);break;case 1:me||(ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ap(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:me=(l=me)||a.memoizedState!==null,Di(t,n,a),me=l;break;default:Di(t,n,a)}}function fp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(a){Kt(n,n.return,a)}}function pE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new op),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new op),n;default:throw Error(s(435,t.tag))}}function Qh(t,n){var a=pE(t);n.forEach(function(l){var c=RE.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ma(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(s(160));hp(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)dp(n,t),n=n.sibling}var Pn=null;function dp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ra(3,t,t.return),wl(3,t),ra(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Pn;if(un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Hi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ce]=t,he(f),l=f;break t;case"link":var v=ly("link","href",c).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(v=ly("meta","content",c).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(s(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else oy(c,t.type,t.stateNode);else t.stateNode=ry(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?oy(c,t.type,t.stateNode):ry(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&kh(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),a!==null&&l&4&&kh(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,kh(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Gh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(Du=null,c=Pn,Pn=Cu(n.containerInfo),un(n,t),Pn=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(k){Kt(t,t.return,k)}Gh&&(Gh=!1,mp(t));break;case 4:l=Pn,Pn=Cu(t.stateNode.containerInfo),un(n,t),cn(t),Pn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&($h=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=Ni,F=me;if(Ni=z||c,me=F||R,un(n,t),me=F,Ni=z,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Ni||me||ms(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Kt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Qh(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Qh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(rp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,f=qh(t);mu(t,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=qh(t);mu(t,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,z=qh(t);Hh(t,z,R);break;default:throw Error(s(161))}}catch(F){Kt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function la(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)up(t,n.alternate,n),n=n.sibling}function ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),ms(n);break;case 1:ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ap(n,n.return,a),ms(n);break;case 27:Ll(n.stateNode);case 26:case 5:ti(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}t=t.sibling}}function oa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:oa(c,f,a),wl(4,f);break;case 1:if(oa(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Kt(l,l.return,z)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Hm(R[c],E)}catch(z){Kt(l,l.return,z)}}a&&v&64&&ip(f),Cl(f,f.return);break;case 27:lp(f);case 26:case 5:oa(c,f,a),a&&l===null&&v&4&&sp(f),Cl(f,f.return);break;case 12:oa(c,f,a);break;case 13:oa(c,f,a),a&&v&4&&fp(c,f);break;case 22:f.memoizedState===null&&oa(c,f,a),Cl(f,f.return);break;case 30:break;default:oa(c,f,a)}n=n.sibling}}function Fh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function Yh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t))}function ei(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gp(t,n,a,l),n=n.sibling}function gp(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,a,l),c&2048&&wl(9,n);break;case 1:ei(t,n,a,l);break;case 3:ei(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&fl(t)));break;case 12:if(c&2048){ei(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else ei(t,n,a,l);break;case 13:ei(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,a,l):Nl(t,n):f._visibility&2?ei(t,n,a,l):(f._visibility|=2,lr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Fh(v,n);break;case 24:ei(t,n,a,l),c&2048&&Yh(n.alternate,n);break;default:ei(t,n,a,l)}}function lr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,R=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:lr(f,v,E,R,c),wl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?lr(f,v,E,R,c):Nl(f,v):(F._visibility|=2,lr(f,v,E,R,c)),c&&z&2048&&Fh(v.alternate,v);break;case 24:lr(f,v,E,R,c),c&&z&2048&&Yh(v.alternate,v);break;default:lr(f,v,E,R,c)}n=n.sibling}}function Nl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Nl(a,l),c&2048&&Fh(l.alternate,l);break;case 24:Nl(a,l),c&2048&&Yh(l.alternate,l);break;default:Nl(a,l)}n=n.sibling}}var Dl=8192;function or(t){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)pp(t),t=t.sibling}function pp(t){switch(t.tag){case 26:or(t),t.flags&Dl&&t.memoizedState!==null&&eT(Pn,t.memoizedState,t.memoizedProps);break;case 5:or(t);break;case 3:case 4:var n=Pn;Pn=Cu(t.stateNode.containerInfo),or(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Dl,Dl=16777216,or(t),Dl=n):or(t));break;default:or(t)}}function yp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Il(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,vp(l,t)}yp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_p(t),t=t.sibling}function _p(t){switch(t.tag){case 0:case 11:case 15:Il(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Il(t);break;case 12:Il(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,gu(t)):Il(t);break;default:Il(t)}}function gu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,vp(l,t)}yp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),gu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,gu(n));break;default:gu(n)}t=t.sibling}}function vp(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(cp(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var yE={getCacheForType:function(t){var n=He(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},_E=typeof WeakMap=="function"?WeakMap:Map,qt=0,Jt=null,Nt=null,Ot=0,Ht=0,hn=null,ua=!1,ur=!1,Xh=!1,Ii=0,oe=0,ca=0,gs=0,Kh=0,Rn=0,cr=0,Ml=null,nn=null,Zh=!1,$h=0,pu=1/0,yu=null,ha=null,Le=0,fa=null,hr=null,fr=0,Jh=0,Wh=null,Ep=null,Vl=0,tf=null;function fn(){if((qt&2)!==0&&Ot!==0)return Ot&-Ot;if(Q.T!==null){var t=Ws;return t!==0?t:of()}return fi()}function Tp(){Rn===0&&(Rn=(Ot&536870912)===0||jt?qr():536870912);var t=An.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,a){(t===Jt&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)&&(dr(t,0),da(t,Ot,Rn,!1)),ue(t,a),((qt&2)===0||t!==Jt)&&(t===Jt&&((qt&2)===0&&(gs|=a),oe===4&&da(t,Ot,Rn,!1)),ni(t))}function Sp(t,n,a){if((qt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||ji(t,n),c=l?TE(t,n):af(t,n,!0),f=l;do{if(c===0){ur&&!l&&da(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!vE(a)){c=af(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Ml;var R=E.current.memoizedState.isDehydrated;if(R&&(dr(E,v).flags|=256),v=af(E,v,!1),v!==2){if(Xh&&!R){E.errorRecoveryDisabledLanes|=f,gs|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){dr(t,0),da(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:da(l,n,Rn,!ua);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=$h+300-We(),10<c)){if(da(l,n,Rn,!ua),pn(l,0,!0)!==0)break t;l.timeoutHandle=$p(bp.bind(null,l,a,nn,yu,Zh,n,Rn,gs,cr,ua,f,2,-0,0),c);break t}bp(l,a,nn,yu,Zh,n,Rn,gs,cr,ua,f,0,-0,0)}}break}while(!0);ni(t)}function bp(t,n,a,l,c,f,v,E,R,z,F,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:tT},pp(n),K=nT(),K!==null)){t.cancelPendingCommit=K(Ip.bind(null,t,n,f,a,l,c,v,E,R,F,1,B,k)),da(t,f,v,!z);return}Ip(t,n,f,a,l,c,v,E,R)}function vE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function da(t,n,a,l){n&=~Kh,n&=~gs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&ki(t,a,n)}function _u(){return(qt&6)===0?(Ol(0),!1):!0}function ef(){if(Nt!==null){if(Ht===0)var t=Nt.return;else t=Nt,Si=us=null,_h(t),sr=null,bl=0,t=Nt;for(;t!==null;)np(t.alternate,t),t=t.return;Nt=null}}function dr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ef(),Jt=t,Nt=a=vi(t.current,null),Ot=n,Ht=0,hn=null,ua=!1,ur=ji(t,n),Xh=!1,cr=Rn=Kh=gs=ca=oe=0,nn=Ml=null,Zh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Bo(),a}function Ap(t,n){wt=null,Q.H=su,n===ml||n===Ko?(n=km(),Ht=3):n===zm?(n=km(),Ht=4):Ht=n===qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(oe=1,cu(t,En(n,t.current)))}function Rp(){var t=Q.H;return Q.H=su,t===null?su:t}function wp(){var t=Q.A;return Q.A=yE,t}function nf(){oe=4,ua||(Ot&4194048)!==Ot&&An.current!==null||(ur=!0),(ca&134217727)===0&&(gs&134217727)===0||Jt===null||da(Jt,Ot,Rn,!1)}function af(t,n,a){var l=qt;qt|=2;var c=Rp(),f=wp();(Jt!==t||Ot!==n)&&(yu=null,dr(t,n)),n=!1;var v=oe;t:do try{if(Ht!==0&&Nt!==null){var E=Nt,R=hn;switch(Ht){case 8:ef(),v=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var z=Ht;if(Ht=0,hn=null,mr(t,E,R,z),a&&ur){v=0;break t}break;default:z=Ht,Ht=0,hn=null,mr(t,E,R,z)}}EE(),v=oe;break}catch(F){Ap(t,F)}while(!0);return n&&t.shellSuspendCounter++,Si=us=null,qt=l,Q.H=c,Q.A=f,Nt===null&&(Jt=null,Ot=0,Bo()),v}function EE(){for(;Nt!==null;)Cp(Nt)}function TE(t,n){var a=qt;qt|=2;var l=Rp(),c=wp();Jt!==t||Ot!==n?(yu=null,pu=We()+500,dr(t,n)):ur=ji(t,n);t:do try{if(Ht!==0&&Nt!==null){n=Nt;var f=hn;e:switch(Ht){case 1:Ht=0,hn=null,mr(t,n,f,1);break;case 2:case 9:if(jm(f)){Ht=0,hn=null,Np(n);break}n=function(){Ht!==2&&Ht!==9||Jt!==t||(Ht=7),ni(t)},f.then(n,n);break t;case 3:Ht=7;break t;case 4:Ht=5;break t;case 7:jm(f)?(Ht=0,hn=null,Np(n)):(Ht=0,hn=null,mr(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||uy(v)){Ht=0,hn=null;var R=E.sibling;if(R!==null)Nt=R;else{var z=E.return;z!==null?(Nt=z,vu(z)):Nt=null}break e}}Ht=0,hn=null,mr(t,n,f,5);break;case 6:Ht=0,hn=null,mr(t,n,f,6);break;case 8:ef(),oe=6;break t;default:throw Error(s(462))}}SE();break}catch(F){Ap(t,F)}while(!0);return Si=us=null,Q.H=l,Q.A=c,qt=a,Nt!==null?0:(Jt=null,Ot=0,Bo(),oe)}function SE(){for(;Nt!==null&&!Mc();)Cp(Nt)}function Cp(t){var n=tp(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function Np(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Xg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Xg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:_h(n);default:np(a,n),n=Nt=Dm(n,Ii),n=tp(a,n,Ii)}t.memoizedProps=t.pendingProps,n===null?vu(t):Nt=n}function mr(t,n,a,l){Si=us=null,_h(n),sr=null,bl=0;var c=n.return;try{if(hE(t,c,n,a,Ot)){oe=1,cu(t,En(a,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;oe=1,cu(t,En(a,t.current)),Nt=null;return}n.flags&32768?(jt||l===1?t=!0:ur||(Ot&536870912)!==0?t=!1:(ua=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Dp(n,t)):vu(n)}function vu(t){var n=t;do{if((n.flags&32768)!==0){Dp(n,ua);return}t=n.return;var a=dE(n.alternate,n,Ii);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);oe===0&&(oe=5)}function Dp(t,n){do{var a=mE(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);oe=6,Nt=null}function Ip(t,n,a,l,c,f,v,E,R){t.cancelPendingCommit=null;do Eu();while(Le!==0);if((qt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Yc,bo(t,a,f,v,E,R),t===Jt&&(Nt=Jt=null,Ot=0),hr=n,fa=t,fr=a,Jh=f,Wh=c,Ep=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wE(hi,function(){return Up(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,c=at.p,at.p=2,v=qt,qt|=4;try{gE(t,n,a)}finally{qt=v,at.p=c,Q.T=l}}Le=1,Mp(),Vp(),Op()}}function Mp(){if(Le===1){Le=0;var t=fa,n=hr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var c=qt;qt|=4;try{dp(n,t);var f=pf,v=vm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&_m(E.ownerDocument.documentElement,E)){if(R!==null&&qc(E)){var z=R.start,F=R.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),Tt=E.textContent.length,yt=Math.min(R.start,Tt),Xt=R.end===void 0?yt:Math.min(R.end,Tt);!k.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var x=ym(E,yt),M=ym(E,Xt);if(x&&M&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==M.node||k.focusOffset!==M.offset)){var L=K.createRange();L.setStart(x.node,x.offset),k.removeAllRanges(),yt>Xt?(k.addRange(L),k.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),k.addRange(L))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Vu=!!gf,pf=gf=null}finally{qt=c,at.p=l,Q.T=a}}t.current=n,Le=2}}function Vp(){if(Le===2){Le=0;var t=fa,n=hr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=at.p;at.p=2;var c=qt;qt|=4;try{up(t,n.alternate,n)}finally{qt=c,at.p=l,Q.T=a}}Le=3}}function Op(){if(Le===4||Le===3){Le=0,Br();var t=fa,n=hr,a=fr,l=Ep;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,hr=fa=null,xp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ha=null),Gr(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=Q.T,c=at.p,at.p=2,Q.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{Q.T=n,at.p=c}}(fr&3)!==0&&Eu(),ni(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===tf?Vl++:(Vl=0,tf=t):Vl=0,Ol(0)}}function xp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,fl(n)))}function Eu(t){return Mp(),Vp(),Op(),Up()}function Up(){if(Le!==5)return!1;var t=fa,n=Jh;Jh=0;var a=Gr(fr),l=Q.T,c=at.p;try{at.p=32>a?32:a,Q.T=null,a=Wh,Wh=null;var f=fa,v=fr;if(Le=0,hr=fa=null,fr=0,(qt&6)!==0)throw Error(s(331));var E=qt;if(qt|=4,_p(f.current),gp(f,f.current,v,a),qt=E,Ol(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pi,f)}catch{}return!0}finally{at.p=c,Q.T=l,xp(t,n)}}function Lp(t,n,a){n=En(a,n),n=Vh(t.stateNode,n,2),t=na(t,n,2),t!==null&&(ue(t,2),ni(t))}function Kt(t,n,a){if(t.tag===3)Lp(t,t,a);else for(;n!==null;){if(n.tag===3){Lp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=En(a,t),a=Bg(2),l=na(n,a,2),l!==null&&(kg(a,l,n,t),ue(l,2),ni(l));break}}n=n.return}}function sf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new _E;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Xh=!0,c.add(a),t=bE.bind(null,t,n,a),n.then(t,t))}function bE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ot&a)===a&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>We()-$h?(qt&2)===0&&dr(t,0):Kh|=a,cr===Ot&&(cr=0)),ni(t)}function Pp(t,n){n===0&&(n=Bi()),t=Ks(t,n),t!==null&&(ue(t,n),ni(t))}function AE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Pp(t,a)}function RE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Pp(t,a)}function wE(t,n){return xa(t,n)}var Tu=null,gr=null,rf=!1,Su=!1,lf=!1,ps=0;function ni(t){t!==gr&&t.next===null&&(gr===null?Tu=gr=t:gr=gr.next=t),Su=!0,rf||(rf=!0,NE())}function Ol(t,n){if(!lf&&Su){lf=!0;do for(var a=!1,l=Tu;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,kp(l,f))}else f=Ot,f=pn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ji(l,f)||(a=!0,kp(l,f));l=l.next}while(a);lf=!1}}function CE(){zp()}function zp(){Su=rf=!1;var t=0;ps!==0&&(LE()&&(t=ps),ps=0);for(var n=We(),a=null,l=Tu;l!==null;){var c=l.next,f=jp(l,n);f===0?(l.next=null,a===null?Tu=c:a.next=c,c===null&&(gr=a)):(a=l,(t!==0||(f&3)!==0)&&(Su=!0)),l=c}Ol(t)}function jp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,R=c[v];R===-1?((E&a)===0||(E&l)!==0)&&(c[v]=Vs(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Ot,a=pn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ht===2||Ht===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ms(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ji(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Ms(l),Gr(a)){case 2:case 8:a=Ce;break;case 32:a=hi;break;case 268435456:a=kr;break;default:a=hi}return l=Bp.bind(null,t),a=xa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Ms(l),t.callbackPriority=2,t.callbackNode=null,2}function Bp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Eu()&&t.callbackNode!==a)return null;var l=Ot;return l=pn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Sp(t,l,n),jp(t,We()),t.callbackNode!=null&&t.callbackNode===a?Bp.bind(null,t):null)}function kp(t,n){if(Eu())return null;Sp(t,n,!0)}function NE(){zE(function(){(qt&6)!==0?xa(Se,CE):zp()})}function of(){return ps===0&&(ps=qr()),ps}function qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Vn(""+t)}function Hp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function DE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=qp((c[xe]||null).action),v=l.submitter;v&&(n=(n=v[xe]||null)?qp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ka("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var R=v?Hp(c,v):new FormData(c);Ch(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Hp(c,v):new FormData(c),Ch(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var uf=0;uf<Fc.length;uf++){var cf=Fc[uf],IE=cf.toLowerCase(),ME=cf[0].toUpperCase()+cf.slice(1);Ln(IE,"on"+ME)}Ln(Sm,"onAnimationEnd"),Ln(bm,"onAnimationIteration"),Ln(Am,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(X0,"onTransitionRun"),Ln(K0,"onTransitionStart"),Ln(Z0,"onTransitionCancel"),Ln(Rm,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Gp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,z=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){uu(F)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,z=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=z;try{f(c)}catch(F){uu(F)}c.currentTarget=null,f=R}}}}function Dt(t,n){var a=n[La];a===void 0&&(a=n[La]=new Set);var l=t+"__bubble";a.has(l)||(Qp(n,t,2,!1),a.add(l))}function hf(t,n,a){var l=0;n&&(l|=4),Qp(a,t,l,n)}var bu="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[bu]){t[bu]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(VE.has(a)||hf(a,!1,t),hf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[bu]||(n[bu]=!0,hf("selectionchange",!1,n))}}function Qp(t,n,a,l){switch(gy(n)){case 2:var c=sT;break;case 8:c=rT;break;default:c=wf}a=c.bind(null,n,a,t),c=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function df(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=Qn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Fa(function(){var z=f,F=$r(a),K=[];t:{var B=wm.get(t);if(B!==void 0){var k=Ka,Tt=t;switch(t){case"keypress":if(Ya(a)===0)break t;case"keydown":case"keyup":k=Qs;break;case"focusin":Tt="focus",k=qs;break;case"focusout":Tt="blur",k=qs;break;case"beforeblur":case"afterblur":k=qs;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Mo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ji;break;case Sm:case bm:case Am:k=Wr;break;case Rm:k=m;break;case"scroll":case"scrollend":k=$a;break;case"wheel":k=S;break;case"copy":case"cut":case"paste":k=Oo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=nl;break;case"toggle":case"beforetoggle":k=H}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),x=yt?B!==null?B+"Capture":null:B;yt=[];for(var M=z,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||x===null||(Y=Zi(M,x),Y!=null&&yt.push(Ul(M,Y,L))),Xt)break;M=M.return}0<yt.length&&(B=new k(B,Tt,null,a,F),K.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==Zr&&(Tt=a.relatedTarget||a.fromElement)&&(Qn(Tt)||Tt[di]))break t;if((k||B)&&(B=F.window===F?F:(B=F.ownerDocument)?B.defaultView||B.parentWindow:window,k?(Tt=a.relatedTarget||a.toElement,k=z,Tt=Tt?Qn(Tt):null,Tt!==null&&(Xt=h(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(k=null,Tt=z),k!==Tt)){if(yt=ts,Y="onMouseLeave",x="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=nl,Y="onPointerLeave",x="onPointerEnter",M="pointer"),Xt=k==null?B:Gi(k),L=Tt==null?B:Gi(Tt),B=new yt(Y,M+"leave",k,a,F),B.target=Xt,B.relatedTarget=L,Y=null,Qn(F)===z&&(yt=new yt(x,M+"enter",Tt,a,F),yt.target=L,yt.relatedTarget=Xt,Y=yt),Xt=Y,k&&Tt)e:{for(yt=k,x=Tt,M=0,L=yt;L;L=pr(L))M++;for(L=0,Y=x;Y;Y=pr(Y))L++;for(;0<M-L;)yt=pr(yt),M--;for(;0<L-M;)x=pr(x),L--;for(;M--;){if(yt===x||x!==null&&yt===x.alternate)break e;yt=pr(yt),x=pr(x)}yt=null}else yt=null;k!==null&&Fp(K,B,k,yt,!1),Tt!==null&&Xt!==null&&Fp(K,Xt,Tt,yt,!0)}}t:{if(B=z?Gi(z):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ct=hm;else if(um(B))if(fm)ct=Q0;else{ct=H0;var Ct=q0}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&js(z.elementType)&&(ct=hm):ct=G0;if(ct&&(ct=ct(t,z))){cm(K,ct,a,F);break t}Ct&&Ct(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Yr(B,"number",B.value)}switch(Ct=z?Gi(z):window,t){case"focusin":(um(Ct)||Ct.contentEditable==="true")&&(Fs=Ct,Hc=z,ll=null);break;case"focusout":ll=Hc=Fs=null;break;case"mousedown":Gc=!0;break;case"contextmenu":case"mouseup":case"dragend":Gc=!1,Em(K,a,F);break;case"selectionchange":if(Y0)break;case"keydown":case"keyup":Em(K,a,F)}var dt;if(bt)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Un?On(t,a)&&(_t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(fe&&a.locale!=="ko"&&(Un||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Un&&(dt=Io()):(vn=F,$t="value"in vn?vn.value:vn.textContent,Un=!0)),Ct=Au(z,_t),0<Ct.length&&(_t=new el(_t,t,null,a,F),K.push({event:_t,listeners:Ct}),dt?_t.data=dt:(dt=xn(a),dt!==null&&(_t.data=dt)))),(dt=kt?il(t,a):j0(t,a))&&(_t=Au(z,"onBeforeInput"),0<_t.length&&(Ct=new el("onBeforeInput","beforeinput",null,a,F),K.push({event:Ct,listeners:_t}),Ct.data=dt)),DE(K,t,z,a,F)}Gp(K,n)})}function Ul(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Au(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zi(t,a),c!=null&&l.unshift(Ul(t,c,f)),c=Zi(t,n),c!=null&&l.push(Ul(t,c,f))),t.tag===3)return l;t=t.return}return[]}function pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fp(t,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,z=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||z===null||(R=z,c?(z=Zi(a,f),z!=null&&v.unshift(Ul(a,z,R))):c||(z=Zi(a,f),z!=null&&v.push(Ul(a,z,R)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var OE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(OE,`
`).replace(xE,"")}function Xp(t,n){return n=Yp(n),Yp(t)===n}function Ru(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":ka(t,"class",l);break;case"tabIndex":ka(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ka(t,a,l);break;case"style":Kr(t,l,f);break;case"data":if(n!=="object"){ka(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Vn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Vn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Co.get(a)||a,Ba(t,a,l))}}function mf(t,n,a,l,c,f){switch(a){case"style":Kr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ru);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,f,v,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=v=c=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,n));break;default:Yt(t,n,l,F,a,null)}}Fr(t,f,E,R,z,v,c,!1),Yi(t);return;case"select":Dt("invalid",t),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(t,n,v,E,a,null)}wo(t,l,c,f),Yi(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)Dt(xl[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(t,n,z,l,a,null)}return;default:if(js(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&mf(t,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function UE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,z=null,F=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=a[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":z=k;break;case"defaultChecked":F=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}Qr(t,v,E,R,z,F,f,c);return;case"select":k=v=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=v,l=k,B!=null?Xi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}Ro(t,B,k);return;case"option":for(var Tt in a)if(B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Yt(t,n,Tt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&Yt(t,n,yt,null,l,B);for(z in l)if(B=l[z],k=a[z],l.hasOwnProperty(z)&&B!==k&&(B!=null||k!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Yt(t,n,z,B,l,k)}return;default:if(js(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&mf(t,n,Xt,void 0,l,B);for(F in l)B=l[F],k=a[F],!l.hasOwnProperty(F)||B===k||B===void 0&&k===void 0||mf(t,n,F,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(K in l)B=l[K],k=a[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var gf=null,pf=null;function wu(t){return t.nodeType===9?t:t.ownerDocument}function Kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function yf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _f=null;function LE(){var t=window.event;return t&&t.type==="popstate"?t===_f?!1:(_f=t,!0):(_f=null,!1)}var $p=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,Jp=typeof Promise=="function"?Promise:void 0,zE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jp<"u"?function(t){return Jp.resolve(null).then(t).catch(jE)}:$p;function jE(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function Wp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Ll(v.documentElement),a&2&&Ll(v.body),a&4)for(a=v.head,Ll(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[Hi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){t.removeChild(f),Gl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Gl(n)}function vf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vf(a),xs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BE(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function kE(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Ef(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function qE(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Tf=null;function ty(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ey(t,n,a){switch(n=wu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);xs(t)}var wn=new Map,ny=new Set;function Cu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Mi=at.d;at.d={f:HE,r:GE,D:QE,C:FE,L:YE,m:XE,X:ZE,S:KE,M:$E};function HE(){var t=Mi.f(),n=_u();return t||n}function GE(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Mi.r(t)}var yr=typeof document>"u"?null:document;function iy(t,n,a){var l=yr;if(l&&typeof n=="string"&&n){var c=Ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),ny.has(c)||(ny.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function QE(t){Mi.D(t),iy("dns-prefetch",t,null)}function FE(t,n){Mi.C(t,n),iy("preconnect",t,n)}function YE(t,n,a){Mi.L(t,n,a);var l=yr;if(l&&t&&n){var c='link[rel="preload"][as="'+Ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ne(a.imageSizes)+'"]')):c+='[href="'+Ne(t)+'"]';var f=c;switch(n){case"style":f=_r(t);break;case"script":f=vr(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Pl(f))||n==="script"&&l.querySelector(zl(f))||(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function XE(t,n){Mi.m(t,n);var a=yr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=vr(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(f)))return}l=a.createElement("link"),Pe(l,"link",t),he(l),a.head.appendChild(l)}}}function KE(t,n,a){Mi.S(t,n,a);var l=yr;if(l&&t){var c=Qi(l).hoistableStyles,f=_r(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Pl(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&Sf(t,a);var R=v=l.createElement("link");he(R),Pe(R,"link",t),R._p=new Promise(function(z,F){R.onload=z,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Nu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function ZE(t,n){Mi.X(t,n);var a=yr;if(a&&t){var l=Qi(a).hoistableScripts,c=vr(t),f=l.get(c);f||(f=a.querySelector(zl(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&bf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function $E(t,n){Mi.M(t,n);var a=yr;if(a&&t){var l=Qi(a).hoistableScripts,c=vr(t),f=l.get(c);f||(f=a.querySelector(zl(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&bf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ay(t,n,a,l){var c=(c=Et.current)?Cu(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_r(a.href),a=Qi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=_r(a.href);var f=Qi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Pl(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||JE(c,t,a,v.state))),n&&l===null)throw Error(s(528,""));return v}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=vr(a),a=Qi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function _r(t){return'href="'+Ne(t)+'"'}function Pl(t){return'link[rel="stylesheet"]['+t+"]"}function sy(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function JE(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),he(n),t.head.appendChild(n))}function vr(t){return'[src="'+Ne(t)+'"]'}function zl(t){return"script[async]"+t}function ry(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(l)return n.instance=l,he(l),l;var c=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Pe(l,"style",c),Nu(l,a.precedence,t),n.instance=l;case"stylesheet":c=_r(a.href);var f=t.querySelector(Pl(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=sy(a),(c=wn.get(c))&&Sf(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Nu(f,a.precedence,t),n.instance=f;case"script":return f=vr(a.src),(c=t.querySelector(zl(f)))?(n.instance=c,he(c),c):(l=a,(c=wn.get(f))&&(l=T({},a),bf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Nu(l,a.precedence,t));return n.instance}function Nu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Sf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function bf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Du=null;function ly(t,n,a){if(Du===null){var l=new Map,c=Du=new Map;c.set(a,l)}else c=Du,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[Hi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function oy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WE(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jl=null;function tT(){}function eT(t,n,a){if(jl===null)throw Error(s(475));var l=jl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=_r(a.href),f=t.querySelector(Pl(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Iu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,a=sy(a),(c=wn.get(c))&&Sf(a,c),f=f.createElement("link"),he(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Iu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function nT(){if(jl===null)throw Error(s(475));var t=jl;return t.stylesheets&&t.count===0&&Af(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Af(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Iu(){if(this.count--,this.count===0){if(this.stylesheets)Af(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Mu=null;function Af(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Mu=new Map,n.forEach(iT,t),Mu=null,Iu.call(t))}function iT(t,n){if(!(n.state.loading&4)){var a=Mu.get(t);if(a)var l=a.get(null);else{a=new Map,Mu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=Iu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Bl={$$typeof:tt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function aT(t,n,a,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Os(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Os(0),this.hiddenUpdates=Os(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function cy(t,n,a,l,c,f,v,E,R,z,F,K){return t=new aT(t,n,a,v,E,R,z,K),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=ah(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},oh(f),t}function hy(t){return t?(t=Zs,t):Zs}function fy(t,n,a,l,c,f){c=hy(c),l.context===null?l.context=c:l.pendingContext=c,l=ea(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=na(t,l,n),a!==null&&(dn(a,t,n),pl(a,t,n))}function dy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Rf(t,n){dy(t,n),(t=t.alternate)&&dy(t,n)}function my(t){if(t.tag===13){var n=Ks(t,67108864);n!==null&&dn(n,t,67108864),Rf(t,67108864)}}var Vu=!0;function sT(t,n,a,l){var c=Q.T;Q.T=null;var f=at.p;try{at.p=2,wf(t,n,a,l)}finally{at.p=f,Q.T=c}}function rT(t,n,a,l){var c=Q.T;Q.T=null;var f=at.p;try{at.p=8,wf(t,n,a,l)}finally{at.p=f,Q.T=c}}function wf(t,n,a,l){if(Vu){var c=Cf(l);if(c===null)df(t,n,l,Ou,a),py(t,l);else if(oT(c,t,n,a,l))l.stopPropagation();else if(py(t,l),n&4&&-1<lT.indexOf(t)){for(;c!==null;){var f=Fn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Xe(v);E.entanglements[1]|=R,v&=~R}ni(f),(qt&6)===0&&(pu=We()+500,Ol(0))}}break;case 13:E=Ks(f,2),E!==null&&dn(E,f,2),_u(),Rf(f,2)}if(f=Cf(l),f===null&&df(t,n,l,Ou,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else df(t,n,l,null,a)}}function Cf(t){return t=$r(t),Nf(t)}var Ou=null;function Nf(t){if(Ou=null,t=Qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ou=t,null}function gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eo()){case Se:return 2;case Ce:return 8;case hi:case Vc:return 32;case kr:return 268435456;default:return 32}default:return 32}}var Df=!1,ga=null,pa=null,ya=null,kl=new Map,ql=new Map,_a=[],lT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function py(t,n){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(n.pointerId)}}function Hl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Fn(n),n!==null&&my(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function oT(t,n,a,l,c){switch(n){case"focusin":return ga=Hl(ga,t,n,a,l,c),!0;case"dragenter":return pa=Hl(pa,t,n,a,l,c),!0;case"mouseover":return ya=Hl(ya,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return kl.set(f,Hl(kl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,ql.set(f,Hl(ql.get(f)||null,t,n,a,l,c)),!0}return!1}function yy(t){var n=Qn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Uc(t.priority,function(){if(a.tag===13){var l=fn();l=Hr(l);var c=Ks(a,l);c!==null&&dn(c,a,l),Rf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Cf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Zr=l,a.target.dispatchEvent(l),Zr=null}else return n=Fn(a),n!==null&&my(n),t.blockedOn=a,!1;n.shift()}return!0}function _y(t,n,a){xu(t)&&a.delete(n)}function uT(){Df=!1,ga!==null&&xu(ga)&&(ga=null),pa!==null&&xu(pa)&&(pa=null),ya!==null&&xu(ya)&&(ya=null),kl.forEach(_y),ql.forEach(_y)}function Uu(t,n){t.blockedOn===n&&(t.blockedOn=null,Df||(Df=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,uT)))}var Lu=null;function vy(t){Lu!==t&&(Lu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Nf(l||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,Ch(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Gl(t){function n(R){return Uu(R,t)}ga!==null&&Uu(ga,t),pa!==null&&Uu(pa,t),ya!==null&&Uu(ya,t),kl.forEach(n),ql.forEach(n);for(var a=0;a<_a.length;a++){var l=_a[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)yy(a),a.blockedOn===null&&_a.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[xe]||null;if(typeof f=="function")v||vy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[xe]||null)E=v.formAction;else if(Nf(c)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),vy(a)}}}function If(t){this._internalRoot=t}Pu.prototype.render=If.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=fn();fy(a,l,t,n,null,null)},Pu.prototype.unmount=If.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;fy(t.current,2,null,t,null,null),_u(),n[di]=null}};function Pu(t){this._internalRoot=t}Pu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<_a.length&&n!==0&&n<_a[a].priority;a++);_a.splice(a,0,t),a===0&&yy(t)}};var Ey=e.version;if(Ey!=="19.1.1")throw Error(s(527,Ey,"19.1.1"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var cT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zu.isDisabled&&zu.supportsFiber)try{Pi=zu.inject(cT),ke=zu}catch{}}return Fl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",c=Lg,f=Pg,v=zg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=cy(t,1,!1,null,null,a,l,c,f,v,E,null),t[di]=n.current,ff(t),new If(n)},Fl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,c="",f=Lg,v=Pg,E=zg,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=cy(t,1,!0,n,a??null,l,c,f,v,E,R,z),n.context=hy(null),a=n.current,l=fn(),l=Hr(l),c=ea(l),c.callback=null,na(a,c,l),a=l,n.current.lanes=a,ue(n,a),ni(n),t[di]=n.current,ff(t),new Pu(n)},Fl.version="19.1.1",Fl}var Iy;function ET(){if(Iy)return Of.exports;Iy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Of.exports=vT(),Of.exports}var TT=ET();const ST=()=>{};var My={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},bT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const h=r[i++];e[s++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const h=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},X_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const h=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=h>>2,b=(h&3)<<4|g>>4;let N=(g&15)<<2|y>>6,q=y&63;p||(q=64,d||(N=64)),s.push(i[T],i[b],i[N],i[q])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Y_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const h=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const b=o<r.length?i[r.charAt(o)]:64;if(++o,h==null||g==null||y==null||b==null)throw new AT;const N=h<<2|g>>4;if(s.push(N),y!==64){const q=g<<4&240|y>>2;if(s.push(q),b!==64){const W=y<<6&192|b;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class AT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RT=function(r){const e=Y_(r);return X_.encodeByteArray(e,!0)},Ju=function(r){return RT(r).replace(/\./g,"")},wT=function(r){try{return X_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=()=>CT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof My>"u")return;const r=My.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},IT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&wT(r[1]);return e&&JSON.parse(e)},Td=()=>{try{return ST()||NT()||DT()||IT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},MT=r=>Td()?.emulatorHosts?.[r],VT=r=>{const e=MT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},K_=()=>Td()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,h=r.sub||r.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ju(JSON.stringify(i)),Ju(JSON.stringify(d)),""].join(".")}const Jl={};function LT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Jl))Jl[e]?r.emulator.push(e):r.prod.push(e);return r}function PT(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let Vy=!1;function zT(r,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||Jl[r]===e||Jl[r]||Vy)return;Jl[r]=e;function i(N){return`__firebase__banner__${N}`}const s="__firebase__banner",h=LT().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,q){N.setAttribute("width","24"),N.setAttribute("id",q),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{Vy=!0,d()},N}function T(N,q){N.setAttribute("id",q),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function b(){const N=PT(s),q=i("text"),W=document.getElementById(q)||document.createElement("span"),nt=i("learnmore"),G=document.getElementById(nt)||document.createElement("a"),st=i("preprendIcon"),rt=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const tt=N.element;g(tt),T(G,nt);const ft=y();p(rt,st),tt.append(rt,W,G,ft),document.body.appendChild(tt)}h?(W.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BT(){const r=Td()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kT(){return!BT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch{return!1}}function HT(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="FirebaseError";class Or extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=GT,Object.setPrototypeOf(this,Or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z_.prototype.create)}}class Z_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?QT(h,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Or(o,g,s)}}function QT(r,e){return r.replace(FT,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FT=/\{\$([^}]+)}/g;function Wu(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const h=r[o],d=e[o];if(Oy(h)&&Oy(d)){if(!Wu(h,d))return!1}else if(h!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Oy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(r){return r&&r._delegate?r._delegate:r}class io{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new OT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KT(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});s.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(o)}return o}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const h=this.instances.get(s);return h&&e(h,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(r){return r===ys?void 0:r}function KT(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new YT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const $T={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},JT=Ut.INFO,WT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},t1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=WT[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $_{constructor(e){this.name=e,this._logLevel=JT,this._logHandler=t1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$T[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const e1=(r,e)=>e.some(i=>r instanceof i);let xy,Uy;function n1(){return xy||(xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1(){return Uy||(Uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const J_=new WeakMap,Yf=new WeakMap,W_=new WeakMap,Pf=new WeakMap,bd=new WeakMap;function a1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",h),r.removeEventListener("error",d)},h=()=>{i(Ta(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",h),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&J_.set(i,r)}).catch(()=>{}),bd.set(e,r),e}function s1(r){if(Yf.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",h),r.removeEventListener("error",d),r.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",h),r.addEventListener("error",d),r.addEventListener("abort",d)});Yf.set(r,e)}let Xf={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Yf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||W_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ta(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function r1(r){Xf=r(Xf)}function l1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(zf(this),e,...i);return W_.set(s,e.sort?e.sort():[e]),Ta(s)}:i1().includes(r)?function(...e){return r.apply(zf(this),e),Ta(J_.get(this))}:function(...e){return Ta(r.apply(zf(this),e))}}function o1(r){return typeof r=="function"?l1(r):(r instanceof IDBTransaction&&s1(r),e1(r,n1())?new Proxy(r,Xf):r)}function Ta(r){if(r instanceof IDBRequest)return a1(r);if(Pf.has(r))return Pf.get(r);const e=o1(r);return e!==r&&(Pf.set(r,e),bd.set(e,r)),e}const zf=r=>bd.get(r);function u1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:h}={}){const d=indexedDB.open(r,e),g=Ta(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Ta(d.result),p.oldVersion,p.newVersion,Ta(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const c1=["get","getKey","getAll","getAllKeys","count"],h1=["put","add","delete","clear"],jf=new Map;function Ly(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=h1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||c1.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return jf.set(e,h),h}r1(r=>({...r,get:(e,i,s)=>Ly(e,i)||r.get(e,i,s),has:(e,i)=>!!Ly(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(d1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function d1(r){return r.getComponent()?.type==="VERSION"}const Kf="@firebase/app",Py="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new $_("@firebase/app"),m1="@firebase/app-compat",g1="@firebase/analytics-compat",p1="@firebase/analytics",y1="@firebase/app-check-compat",_1="@firebase/app-check",v1="@firebase/auth",E1="@firebase/auth-compat",T1="@firebase/database",S1="@firebase/data-connect",b1="@firebase/database-compat",A1="@firebase/functions",R1="@firebase/functions-compat",w1="@firebase/installations",C1="@firebase/installations-compat",N1="@firebase/messaging",D1="@firebase/messaging-compat",I1="@firebase/performance",M1="@firebase/performance-compat",V1="@firebase/remote-config",O1="@firebase/remote-config-compat",x1="@firebase/storage",U1="@firebase/storage-compat",L1="@firebase/firestore",P1="@firebase/ai",z1="@firebase/firestore-compat",j1="firebase",B1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",k1={[Kf]:"fire-core",[m1]:"fire-core-compat",[p1]:"fire-analytics",[g1]:"fire-analytics-compat",[_1]:"fire-app-check",[y1]:"fire-app-check-compat",[v1]:"fire-auth",[E1]:"fire-auth-compat",[T1]:"fire-rtdb",[S1]:"fire-data-connect",[b1]:"fire-rtdb-compat",[A1]:"fire-fn",[R1]:"fire-fn-compat",[w1]:"fire-iid",[C1]:"fire-iid-compat",[N1]:"fire-fcm",[D1]:"fire-fcm-compat",[I1]:"fire-perf",[M1]:"fire-perf-compat",[V1]:"fire-rc",[O1]:"fire-rc-compat",[x1]:"fire-gcs",[U1]:"fire-gcs-compat",[L1]:"fire-fst",[z1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[j1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,q1=new Map,$f=new Map;function zy(r,e){try{r.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function ec(r){const e=r.name;if($f.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,r);for(const i of tc.values())zy(i,r);for(const i of q1.values())zy(i,r);return!0}function H1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function G1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new Z_("app","Firebase",Q1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=B1;function tv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Zf,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(i||(i=K_()),!i)throw Sa.create("no-options");const h=tc.get(o);if(h){if(Wu(i,h.options)&&Wu(s,h.config))return h;throw Sa.create("duplicate-app",{appName:o})}const d=new ZT(o);for(const p of $f.values())d.addComponent(p);const g=new F1(i,s,d);return tc.set(o,g),g}function X1(r=Zf){const e=tc.get(r);if(!e&&r===Zf&&K_())return tv();if(!e)throw Sa.create("no-app",{appName:r});return e}function Rr(r,e,i){let s=k1[r]??r;i&&(s+=`-${i}`);const o=s.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(d.join(" "));return}ec(new io(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-heartbeat-database",Z1=1,ao="firebase-heartbeat-store";let Bf=null;function ev(){return Bf||(Bf=u1(K1,Z1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ao)}catch(i){console.warn(i)}}}}).catch(r=>{throw Sa.create("idb-open",{originalErrorMessage:r.message})})),Bf}async function $1(r){try{const i=(await ev()).transaction(ao),s=await i.objectStore(ao).get(nv(r));return await i.done,s}catch(e){if(e instanceof Or)Vi.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e?.message});Vi.warn(i.message)}}}async function jy(r,e){try{const s=(await ev()).transaction(ao,"readwrite");await s.objectStore(ao).put(e,nv(r)),await s.done}catch(i){if(i instanceof Or)Vi.warn(i.message);else{const s=Sa.create("idb-set",{originalErrorMessage:i?.message});Vi.warn(s.message)}}}function nv(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1024,W1=30;class tS{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new nS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=By();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>W1){const o=iS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Vi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=By(),{heartbeatsToSend:i,unsentEntries:s}=eS(this._heartbeatsCache.heartbeats),o=Ju(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Vi.warn(e),""}}}function By(){return new Date().toISOString().substring(0,10)}function eS(r,e=J1){const i=[];let s=r.slice();for(const o of r){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),ky(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),ky(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class nS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qT()?HT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await $1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return jy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function ky(r){return Ju(JSON.stringify({version:2,heartbeats:r})).length}function iS(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(r){ec(new io("platform-logger",e=>new f1(e),"PRIVATE")),ec(new io("heartbeat",e=>new tS(e),"PRIVATE")),Rr(Kf,Py,r),Rr(Kf,Py,"esm2020"),Rr("fire-js","")}aS("");var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,iv;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function w(){}w.prototype=A.prototype,I.F=A.prototype,I.prototype=new w,I.prototype.constructor=I,I.D=function(O,V,U){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return A.prototype[V].apply(O,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,w){w||(w=0);const O=Array(16);if(typeof A=="string")for(var V=0;V<16;++V)O[V]=A.charCodeAt(w++)|A.charCodeAt(w++)<<8|A.charCodeAt(w++)<<16|A.charCodeAt(w++)<<24;else for(V=0;V<16;++V)O[V]=A[w++]|A[w++]<<8|A[w++]<<16|A[w++]<<24;A=I.g[0],w=I.g[1],V=I.g[2];let U=I.g[3],C;C=A+(U^w&(V^U))+O[0]+3614090360&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(V^A&(w^V))+O[1]+3905402710&4294967295,U=A+(C<<12&4294967295|C>>>20),C=V+(w^U&(A^w))+O[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(A^V&(U^A))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=A+(U^w&(V^U))+O[4]+4118548399&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(V^A&(w^V))+O[5]+1200080426&4294967295,U=A+(C<<12&4294967295|C>>>20),C=V+(w^U&(A^w))+O[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(A^V&(U^A))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=A+(U^w&(V^U))+O[8]+1770035416&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(V^A&(w^V))+O[9]+2336552879&4294967295,U=A+(C<<12&4294967295|C>>>20),C=V+(w^U&(A^w))+O[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(A^V&(U^A))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=A+(U^w&(V^U))+O[12]+1804603682&4294967295,A=w+(C<<7&4294967295|C>>>25),C=U+(V^A&(w^V))+O[13]+4254626195&4294967295,U=A+(C<<12&4294967295|C>>>20),C=V+(w^U&(A^w))+O[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(A^V&(U^A))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=A+(V^U&(w^V))+O[1]+4129170786&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(A^w))+O[6]+3225465664&4294967295,U=A+(C<<9&4294967295|C>>>23),C=V+(A^w&(U^A))+O[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(V^U))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=A+(V^U&(w^V))+O[5]+3593408605&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(A^w))+O[10]+38016083&4294967295,U=A+(C<<9&4294967295|C>>>23),C=V+(A^w&(U^A))+O[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(V^U))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=A+(V^U&(w^V))+O[9]+568446438&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(A^w))+O[14]+3275163606&4294967295,U=A+(C<<9&4294967295|C>>>23),C=V+(A^w&(U^A))+O[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(V^U))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=A+(V^U&(w^V))+O[13]+2850285829&4294967295,A=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(A^w))+O[2]+4243563512&4294967295,U=A+(C<<9&4294967295|C>>>23),C=V+(A^w&(U^A))+O[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^A&(V^U))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=A+(w^V^U)+O[5]+4294588738&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^V)+O[8]+2272392833&4294967295,U=A+(C<<11&4294967295|C>>>21),C=V+(U^A^w)+O[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^A)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=A+(w^V^U)+O[1]+2763975236&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^V)+O[4]+1272893353&4294967295,U=A+(C<<11&4294967295|C>>>21),C=V+(U^A^w)+O[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^A)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=A+(w^V^U)+O[13]+681279174&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^V)+O[0]+3936430074&4294967295,U=A+(C<<11&4294967295|C>>>21),C=V+(U^A^w)+O[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^A)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=A+(w^V^U)+O[9]+3654602809&4294967295,A=w+(C<<4&4294967295|C>>>28),C=U+(A^w^V)+O[12]+3873151461&4294967295,U=A+(C<<11&4294967295|C>>>21),C=V+(U^A^w)+O[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^A)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=A+(V^(w|~U))+O[0]+4096336452&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~V))+O[7]+1126891415&4294967295,U=A+(C<<10&4294967295|C>>>22),C=V+(A^(U|~w))+O[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~A))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=A+(V^(w|~U))+O[12]+1700485571&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~V))+O[3]+2399980690&4294967295,U=A+(C<<10&4294967295|C>>>22),C=V+(A^(U|~w))+O[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~A))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=A+(V^(w|~U))+O[8]+1873313359&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~V))+O[15]+4264355552&4294967295,U=A+(C<<10&4294967295|C>>>22),C=V+(A^(U|~w))+O[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~A))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=A+(V^(w|~U))+O[4]+4149444226&4294967295,A=w+(C<<6&4294967295|C>>>26),C=U+(w^(A|~V))+O[11]+3174756917&4294967295,U=A+(C<<10&4294967295|C>>>22),C=V+(A^(U|~w))+O[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~A))+O[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+V&4294967295,I.g[3]=I.g[3]+U&4294967295}s.prototype.v=function(I,A){A===void 0&&(A=I.length);const w=A-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<A;){if(V==0)for(;U<=w;)o(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<A;)if(O[V++]=I.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<A;)if(O[V++]=I[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=A},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;A=this.o*8;for(var w=I.length-8;w<I.length;++w)I[w]=A&255,A/=256;for(this.v(I),I=Array(16),A=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)I[A++]=this.g[w]>>>O&255;return I};function h(I,A){var w=g;return Object.prototype.hasOwnProperty.call(w,I)?w[I]:w[I]=A(I)}function d(I,A){this.h=A;const w=[];let O=!0;for(let V=I.length-1;V>=0;V--){const U=I[V]|0;O&&U==A||(w[V]=U,O=!1)}this.g=w}var g={};function p(I){return-128<=I&&I<128?h(I,function(A){return new d([A|0],A<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return b;if(I<0)return G(y(-I));const A=[];let w=1;for(let O=0;I>=w;O++)A[O]=I/w|0,w*=4294967296;return new d(A,0)}function T(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return G(T(I.substring(1),A));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=y(Math.pow(A,8));let O=b;for(let U=0;U<I.length;U+=8){var V=Math.min(8,I.length-U);const C=parseInt(I.substring(U,U+V),A);V<8?(V=y(Math.pow(A,V)),O=O.j(V).add(y(C))):(O=O.j(w),O=O.add(y(C)))}return O}var b=p(0),N=p(1),q=p(16777216);r=d.prototype,r.m=function(){if(nt(this))return-G(this).m();let I=0,A=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);I+=(O>=0?O:4294967296+O)*A,A*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(nt(this))return"-"+G(this).toString(I);const A=y(Math.pow(I,6));var w=this;let O="";for(;;){const V=ft(w,A).g;w=st(w,V.j(A));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(I);if(w=V,W(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=st(this,I),nt(I)?-1:W(I)?0:1};function G(I){const A=I.g.length,w=[];for(let O=0;O<A;O++)w[O]=~I.g[O];return new d(w,~I.h).add(N)}r.abs=function(){return nt(this)?G(this):this},r.add=function(I){const A=Math.max(this.g.length,I.g.length),w=[];let O=0;for(let V=0;V<=A;V++){let U=O+(this.i(V)&65535)+(I.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(I.i(V)>>>16);O=C>>>16,U&=65535,C&=65535,w[V]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function st(I,A){return I.add(G(A))}r.j=function(I){if(W(this)||W(I))return b;if(nt(this))return nt(I)?G(this).j(G(I)):G(G(this).j(I));if(nt(I))return G(this.j(G(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const A=this.g.length+I.g.length,w=[];for(var O=0;O<2*A;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<I.g.length;V++){const U=this.i(O)>>>16,C=this.i(O)&65535,re=I.i(V)>>>16,ee=I.i(V)&65535;w[2*O+2*V]+=C*ee,rt(w,2*O+2*V),w[2*O+2*V+1]+=U*ee,rt(w,2*O+2*V+1),w[2*O+2*V+1]+=C*re,rt(w,2*O+2*V+1),w[2*O+2*V+2]+=U*re,rt(w,2*O+2*V+2)}for(I=0;I<A;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=A;I<2*A;I++)w[I]=0;return new d(w,0)};function rt(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function tt(I,A){this.g=I,this.h=A}function ft(I,A){if(W(A))throw Error("division by zero");if(W(I))return new tt(b,b);if(nt(I))return A=ft(G(I),A),new tt(G(A.g),G(A.h));if(nt(A))return A=ft(I,G(A)),new tt(G(A.g),A.h);if(I.g.length>30){if(nt(I)||nt(A))throw Error("slowDivide_ only works with positive integers.");for(var w=N,O=A;O.l(I)<=0;)w=$(w),O=$(O);var V=ht(w,1),U=ht(O,1);for(O=ht(O,2),w=ht(w,2);!W(O);){var C=U.add(O);C.l(I)<=0&&(V=V.add(w),U=C),O=ht(O,1),w=ht(w,1)}return A=st(I,V.j(A)),new tt(V,A)}for(V=b;I.l(A)>=0;){for(w=Math.max(1,Math.floor(I.m()/A.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=y(w),C=U.j(A);nt(C)||C.l(I)>0;)w-=O,U=y(w),C=U.j(A);W(U)&&(U=N),V=V.add(U),I=st(I,C)}return new tt(V,I)}r.B=function(I){return ft(this,I).h},r.and=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)&I.i(O);return new d(w,this.h&I.h)},r.or=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)|I.i(O);return new d(w,this.h|I.h)},r.xor=function(I){const A=Math.max(this.g.length,I.g.length),w=[];for(let O=0;O<A;O++)w[O]=this.i(O)^I.i(O);return new d(w,this.h^I.h)};function $(I){const A=I.g.length+1,w=[];for(let O=0;O<A;O++)w[O]=I.i(O)<<1|I.i(O-1)>>>31;return new d(w,I.h)}function ht(I,A){const w=A>>5;A%=32;const O=I.g.length-w,V=[];for(let U=0;U<O;U++)V[U]=A>0?I.i(U+w)>>>A|I.i(U+w+1)<<32-A:I.i(U+w);return new d(V,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,iv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,ba=d}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var av,Xl,sv,Gu,Jf,rv,lv,ov;(function(){var r,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in _))break t;_=_[P]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&_.push([S,m[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=p,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function b(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,P,H){for(var et=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)et[bt-2]=arguments[bt];return m.prototype[P].apply(S,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const H=P.length||0;u.length=_+H;for(let et=0;et<H;et++)u[_+et]=P[et]}else u.push(P)}}class nt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){d.setTimeout(()=>{throw u},0)}function st(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,_){const S=tt.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var tt=new nt(()=>new ft,u=>u.reset());class ft{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let $,ht=!1,I=new rt,A=()=>{const u=Promise.resolve(void 0);$=()=>{u.then(w)}};function w(){for(var u;u=st();){try{u.h.call(u.g)}catch(_){G(_)}var m=tt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ht=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(re,V),re.prototype.init=function(u,m){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),Q=0;function at(u,m,_,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=P,this.key=++Q,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function D(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function J(u){const m={};for(const _ in u)m[_]=u[_];return m}const lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)u[_]=S[_];for(let H=0;H<lt.length;H++)_=lt[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,m,_,S,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const et=Et(u,m,S,P);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new at(m,this.src,H,!!S,P),m.fa=_,u.push(m)),m};function It(u,m){const _=m.type;if(_ in u.g){var S=u.g[_],P=Array.prototype.indexOf.call(S,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(S,P,1),H&&(pt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function Et(u,m,_,S){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==S)return P}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Gt={};function Nn(u,m,_,S,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Nn(u,m[H],_,S,P);return null}return _=Eo(_),u&&u[ee]?u.J(m,_,g(S)?!!S.capture:!1,P):jr(u,m,_,!1,S,P)}function jr(u,m,_,S,P,H){if(!m)throw Error("Invalid event type");const et=g(P)?!!P.capture:!!P;let bt=Br(u);if(bt||(u[Oe]=bt=new mt(u)),_=bt.add(m,_,S,et,H),_.proxy)return _;if(S=Ds(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)U||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(Ms(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ds(){function u(_){return m.call(u.src,u.listener,_)}const m=Mc;return u}function Is(u,m,_,S,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Is(u,m[H],_,S,P);else S=g(S)?!!S.capture:!!S,_=Eo(_),u&&u[ee]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=Et(m,_,S,P),_>-1&&(pt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Br(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,_,S,P)),(_=u>-1?m[u]:null)&&xa(_))}function xa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])It(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(Ms(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Br(m))?(It(_,u),_.h==0&&(_.src=null,m[Oe]=null)):pt(u)}}}function Ms(u){return u in Gt?Gt[u]:Gt[u]="on"+u}function Mc(u,m){if(u.da)u=!0;else{m=new re(m,this);const _=u.listener,S=u.ha||u.src;u.fa&&xa(u),u=_.call(S,m)}return u}function Br(u){return u=u[Oe],u instanceof mt?u:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function Se(){O.call(this),this.i=new mt(this),this.M=this,this.G=null}b(Se,O),Se.prototype[ee]=!0,Se.prototype.removeEventListener=function(u,m,_,S){Is(this,u,m,_,S)};function Ce(u,m){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var P=m;m=new V(S,u),it(m,P)}P=!0;let H,et;if(_)for(et=_.length-1;et>=0;et--)H=m.g=_[et],P=hi(H,S,!0,m)&&P;if(H=m.g=u,P=hi(H,S,!0,m)&&P,P=hi(H,S,!1,m)&&P,_)for(et=0;et<_.length;et++)H=m.g=_[et],P=hi(H,S,!1,m)&&P}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let S=0;S<_.length;S++)pt(_[S]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},Se.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function hi(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const et=m[H];if(et&&!et.da&&et.capture==_){const bt=et.listener,te=et.ha||et.src;et.fa&&It(u.i,et),P=bt.call(te,S)!==!1&&P}}return P&&!S.defaultPrevented}function Vc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function kr(u){u.g=Vc(()=>{u.g=null,u.i&&(u.i=!1,kr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Oc extends O{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:kr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(u){O.call(this),this.h=u,this.g={}}b(Ua,O);var Pi=[];function ke(u){Lt(u.g,function(m,_){this.g.hasOwnProperty(_)&&xa(m)},u),u.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),ke(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Xe=d.JSON.parse,xc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function To(){}function So(){}var Hn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){V.call(this,"d")}b(zi,V);function Dn(){V.call(this,"c")}b(Dn,V);var pn={},ji=null;function Vs(){return ji=ji||new Se}pn.Ia="serverreachability";function qr(u){V.call(this,pn.Ia,u)}b(qr,V);function Bi(u){const m=Vs();Ce(m,new qr(m))}pn.STAT_EVENT="statevent";function Os(u,m){V.call(this,pn.STAT_EVENT,u),this.stat=m}b(Os,V);function ue(u){const m=Vs();Ce(m,new Os(m,u))}pn.Ja="timingevent";function bo(u,m){V.call(this,pn.Ja,u),this.size=m}b(bo,V);function ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qi(){this.g=!0}qi.prototype.ua=function(){this.g=!1};function Hr(u,m,_,S,P,H){u.info(function(){if(u.g)if(H){var et="",bt=H.split("&");for(let kt=0;kt<bt.length;kt++){var te=bt[kt].split("=");if(te.length>1){const fe=te[0];te=te[1];const rn=fe.split("_");et=rn.length>=2&&rn[1]=="type"?et+(fe+"="+te+"&"):et+(fe+"=redacted&")}}}else et=null;else et=H;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+_+`
`+et})}function Gr(u,m,_,S,P,H,et){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+et})}function fi(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gn(u,_)+(S?" "+S:"")})}function Uc(u,m){u.info(function(){return"TIMEOUT: "+m})}qi.prototype.info=function(){};function Gn(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<S.length;et++)S[et]=""}}}}return gn(H)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},di;function La(){}b(La,To),La.prototype.g=function(){return new XMLHttpRequest},di=new La;function Pa(u){return encodeURIComponent(String(u))}function Lc(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function In(u,m,_,S){this.j=u,this.i=m,this.l=_,this.S=S||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Hi}function Hi(){this.i=null,this.g="",this.h=!1}var xs={},Qn={};function Fn(u,m,_){u.M=1,u.A=gi(ie(m)),u.u=_,u.R=!0,Gi(u,null)}function Gi(u,m){u.F=Date.now(),za(u),u.B=ie(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Co(_.i,"t",S),u.C=0,_=u.j.L,u.h=new Hi,u.g=Gs(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Oc(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Pi[0]=P.toString()),P=Pi);for(let H=0;H<P.length;H++){const et=Nn(_,P[H],S||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?J(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Bi(),Hr(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&qe(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const bt=qe(this.g),te=this.g.ya(),kt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Ka(this.g)))){this.K||bt!=4||te==7||(te==8||kt<=0?Bi(3):Bi(2)),Xn(this);var m=this.g.ca();this.X=m;var _=Qi(this);if(this.o=m==200,Gr(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var H=S;break e}}H=null}if(u=H)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Us(this,u);else{this.o=!1,this.m=3,ue(12),Kn(this),ja(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<_.length;)if(fe=Ao(this,_),fe==Qn){bt==4&&(this.m=4,ue(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==xs){this.m=4,ue(15),fi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),Us(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||_.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,_,"[Invalid Chunked Response]"),Kn(this),ja(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),tl(et),et.P=!0,ue(11))}}else fi(this.i,this.l,_,null),Us(this,_);bt==4&&Kn(this),this.o&&!this.K&&(bt==4?el(this.j,this):(this.o=!1,za(this)))}else Za(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Kn(this),ja(this)}}}catch{}finally{}};function Qi(u){if(!he(u))return u.g.la();const m=Ka(u.g);if(m==="")return"";let _="";const S=m.length,P=qe(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Kn(u),ja(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(P&&H==S-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ao(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?Qn:(_=Number(m.substring(_,S)),isNaN(_)?xs:(S+=1,S+_>m.length?Qn:(m=m.slice(S,S+_),u.C=S+_,m)))}In.prototype.cancel=function(){this.K=!0,Kn(this)};function za(u){u.T=Date.now()+u.H,Yn(u,u.H)}function Yn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ki(y(u.aa,u),m)}function Xn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Uc(this.i,this.B),this.M!=2&&(Bi(),ue(17)),Kn(this),this.m=2,ja(this)):Yn(this,this.T-u)};function ja(u){u.j.I==0||u.K||el(u.j,u)}function Kn(u){Xn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ke(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Us(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||qa(_.h,u))){if(!u.L&&qa(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Hs(_),Zn(_);else break t;Wr(_),ue(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ki(y(_.Va,_),6e3));yn(_.h)<=1&&_.ta&&(_.ta=void 0)}else _i(_,11)}else if((u.L||_.g==u)&&Hs(_),!C(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let kt=P[m];const fe=kt[0];if(!(fe<=_.K))if(_.K=fe,kt=kt[1],_.I==2)if(kt[0]=="c"){_.M=kt[1],_.ba=kt[2];const rn=kt[3];rn!=null&&(_.ka=rn,_.j.info("VER="+_.ka));const $n=kt[4];$n!=null&&(_.za=$n,_.j.info("SVER="+_.za));const On=kt[5];On!=null&&typeof On=="number"&&On>0&&(S=1.5*On,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const xn=u.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var H=S.h;H.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Ls(H,H.h),H.h=null))}if(S.G){const il=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(S.wa=il,Qt(S.J,S.G,il))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var et=u;if(S.na=Lo(S,S.L?S.ba:null,S.W),et.L){mi(S.h,et);var bt=et,te=S.O;te&&(bt.H=te),bt.D&&(Xn(bt),za(bt)),S.g=et}else Vo(S);_.i.length>0&&ts(_)}else kt[0]!="stop"&&kt[0]!="close"||_i(_,7);else _.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?_i(_,7):Ja(_):kt[0]!="noop"&&_.l&&_.l.qa(kt),_.A=0)}}Bi(4)}catch{}}var Pc=class{constructor(u,m){this.g=u,this.map=m}};function Ba(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yn(u){return u.h?1:u.g?u.g.size:0}function qa(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ls(u,m){u.g?u.g.add(m):u.h=m}function mi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ba.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ps(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return q(u.i)}var zs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let P,H=null;S>=0?(P=u[_].substring(0,S),H=u[_].substring(S+1)):P=u[_],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Mn?(this.l=u.l,Fi(this,u.j),this.o=u.o,this.g=u.g,Ha(this,u.u),this.h=u.h,Yi(this,No(u.i)),this.m=u.m):u&&(m=String(u).match(zs))?(this.l=!1,Fi(this,m[1]||"",!0),this.o=Ga(m[2]||""),this.g=Ga(m[3]||"",!0),Ha(this,m[4]),this.h=Ga(m[5]||"",!0),Yi(this,m[6]||"",!0),this.m=Ga(m[7]||"")):(this.l=!1,this.i=new _n(null,this.l))}Mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ne(m,Fr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ne(m,Fr,!0),"@"),u.push(Pa(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ne(_,_.charAt(0)=="/"?Xi:Yr,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ne(_,wo)),u.join("")},Mn.prototype.resolve=function(u){const m=ie(this);let _=!!u.j;_?Fi(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var S=u.h;if(_)Ha(m,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let et=0;et<P.length;){const bt=P[et++];bt=="."?S&&et==P.length&&H.push(""):bt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&et==P.length&&H.push("")):(H.push(bt),S=!0)}S=H.join("/")}else S=P}return _?m.h=S:_=u.i.toString()!=="",_?Yi(m,No(u.i)):_=!!u.m,_&&(m.m=u.m),m};function ie(u){return new Mn(u)}function Fi(u,m,_){u.j=_?Ga(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ha(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yi(u,m,_){m instanceof _n?(u.i=m,Zr(u.i,u.l)):(_||(m=Ne(m,Ro)),u.i=new _n(m,u.l))}function Qt(u,m,_){u.i.set(m,_)}function gi(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ga(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ne(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,Qr),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Qr(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Fr=/[#\/\?@]/g,Yr=/[#\?:]/g,Xi=/[#\?]/g,Ro=/[#\?@]/g,wo=/#/g;function _n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&zc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=_n.prototype,r.add=function(u,m){pi(this),this.i=null,u=Vn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Xr(u,m){pi(u),m=Vn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Kr(u,m){return pi(u),m=Vn(u,m),u.g.has(m)}r.forEach=function(u,m){pi(this),this.g.forEach(function(_,S){_.forEach(function(P){u.call(m,P,S,this)},this)},this)};function js(u,m){pi(u);let _=[];if(typeof m=="string")Kr(u,m)&&(_=_.concat(u.g.get(Vn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return pi(this),this.i=null,u=Vn(this,u),Kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=js(this,u),u.length>0?String(u[0]):m):m};function Co(u,m,_){Xr(u,m),_.length>0&&(u.i=null,u.g.set(Vn(u,m),q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var _=m[S];const P=Pa(_);_=js(this,_);for(let H=0;H<_.length;H++){let et=P;_[H]!==""&&(et+="="+Pa(_[H])),u.push(et)}}return this.i=u.join("&")};function No(u){const m=new _n;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Vn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Zr(u,m){m&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(_,S){const P=S.toLowerCase();S!=P&&(Xr(this,S),Co(this,P,_))},u)),u.j=m}function $r(u,m){const _=new qi;if(d.Image){const S=new Image;S.onload=T(Ke,_,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Ke,_,"TestLoadImage: error",!1,m,S),S.onabort=T(Ke,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Ke,_,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ki(u,m){const _=new qi,S=new AbortController,P=setTimeout(()=>{S.abort(),Ke(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(P),H.ok?Ke(_,"TestPingServer: ok",!0,m):Ke(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Ke(_,"TestPingServer: error",!1,m)})}function Ke(u,m,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function Do(){this.g=new xc}function Qa(u){this.i=u.Sb||null,this.h=u.ab||!1}b(Qa,To),Qa.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Fa,Se),r=Fa.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ze(this):yi(this),this.readyState==3&&Zi(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ze(this))},r.Na=function(u){this.g&&(this.response=u,Ze(this))},r.ga=function(){this.g&&Ze(this)};function Ze(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let m="";return Lt(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function vn(u,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=$i(_),typeof u=="string"?_!=null&&Pa(_):Qt(u,m,_))}function $t(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b($t,Se);var Bs=/^https?$/i,Io=["POST","PUT"];r=$t.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():di.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ya(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Io,m,void 0)>=0)||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,et]of _)this.g.setRequestHeader(H,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ya(this,H)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xa(u),be(u)}function Xa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),be(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),be(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Jr(this):this.Xa())},r.Xa=function(){Jr(this)};function Jr(u){if(u.h&&typeof h<"u"){if(u.v&&qe(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),qe(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=H===0){let et=String(u.D).match(zs)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),S=!Bs.test(et?et.toLowerCase():"")}_=S}if(_)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var P=qe(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xa(u)}}finally{be(u)}}}}function be(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Ce(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function qe(u){return u.g?u.g.readyState:0}r.ca=function(){try{return qe(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xe(m)}};function Ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(u){const m={};u=(u.g&&qe(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var _=Lc(u[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}D(m,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ks(u){this.za=0,this.i=[],this.j=new qi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,u),this.Za=$a("retryDelaySeedMs",1e4,u),this.Ta=$a("forwardChannelMaxRetries",2,u),this.va=$a("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ba(u&&u.concurrentRequestLimit),this.Ba=new Do,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ks.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,S){ue(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=Lo(this,null,this.W),ts(this)};function Ja(u){if(Wa(u),u.I==3){var m=u.V++,_=ie(u.J);if(Qt(_,"SID",u.M),Qt(_,"RID",m),Qt(_,"TYPE","terminate"),es(u,_),m=new In(u,u.j,m),m.M=2,m.A=gi(ie(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=Gs(m.j,null),m.g.ea(m.A)),m.F=Date.now(),za(m)}Uo(u)}function Zn(u){u.g&&(tl(u),u.g.cancel(),u.g=null)}function Wa(u){Zn(u),u.v&&(d.clearTimeout(u.v),u.v=null),Hs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ts(u){if(!ka(u.h)&&!u.m){u.m=!0;var m=u.Ea;$||A(),ht||($(),ht=!0),I.add(m,u),u.D=0}}function jc(u,m){return yn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ki(y(u.Ea,u,m),xo(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new In(this,this.j,u);let H=this.o;if(this.U&&(H?(H=J(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=qs(this,P,m),_=ie(this.J),Qt(_,"RID",u),Qt(_,"CVER",22),this.G&&Qt(_,"X-HTTP-Session-Id",this.G),es(this,_),H&&(this.R?m="headers="+Pa($i(H))+"&"+m:this.u&&vn(_,this.u,H)),Ls(this.h,P),this.Ra&&Qt(_,"TYPE","init"),this.S?(Qt(_,"$req",m),Qt(_,"SID","null"),P.U=!0,Fn(P,_,null)):Fn(P,_,m),this.I=2}}else this.I==3&&(u?Mo(this,u):this.i.length==0||ka(this.h)||Mo(this))};function Mo(u,m){var _;m?_=m.l:_=u.V++;const S=ie(u.J);Qt(S,"SID",u.M),Qt(S,"RID",_),Qt(S,"AID",u.K),es(u,S),u.u&&u.o&&vn(S,u.u,u.o),_=new In(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=qs(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ls(u.h,_),Fn(_,S,m)}function es(u,m){u.H&&Lt(u.H,function(_,S){Qt(m,S,_)}),u.l&&Lt({},function(_,S){Qt(m,S,_)})}function qs(u,m,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let bt=-1;for(;;){const te=["count="+_];bt==-1?_>0?(bt=P[0].g,te.push("ofs="+bt)):bt=0:te.push("ofs="+bt);let kt=!0;for(let fe=0;fe<_;fe++){var H=P[fe].g;const rn=P[fe].map;if(H-=bt,H<0)bt=Math.max(0,P[fe].g-100),kt=!1;else try{H="req"+H+"_"||"";try{var et=rn instanceof Map?rn:Object.entries(rn);for(const[$n,On]of et){let xn=On;g(On)&&(xn=gn(On)),te.push(H+$n+"="+encodeURIComponent(xn))}}catch($n){throw te.push(H+"type="+encodeURIComponent("_badmap")),$n}}catch{S&&S(rn)}}if(kt){et=te.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function Vo(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;$||A(),ht||($(),ht=!0),I.add(m,u),u.A=0}}function Wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ki(y(u.Da,u),xo(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Oo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ki(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Zn(this),Oo(this))};function tl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Oo(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),es(u,m),u.u&&u.o&&vn(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=gi(ie(m)),_.u=null,_.R=!0,Gi(_,u)}r.Va=function(){this.C!=null&&(this.C=null,Zn(this),Wr(this),ue(19))};function Hs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function el(u,m){var _=null;if(u.g==m){Hs(u),tl(u),u.g=null;var S=2}else if(qa(u.h,m))_=m.G,mi(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=Vs(),Ce(S,new bo(S,_)),ts(u)}else Vo(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&jc(u,m)||S==2&&Wr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function xo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),S=u.Ua;const P=!S;S=new Mn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fi(S,"https"),gi(S),P?$r(S.toString(),_):Ki(S.toString(),_)}else ue(2);u.I=0,u.l&&u.l.pa(m),Uo(u),Wa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Uo(u){if(u.I=0,u.ja=[],u.l){const m=Ps(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Lo(u,m,_){var S=_ instanceof Mn?ie(_):new Mn(_);if(S.g!="")m&&(S.g=m+"."+S.g),Ha(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Mn(null);S&&Fi(H,S),m&&(H.g=m),P&&Ha(H,P),_&&(H.h=_),S=H}return _=u.G,m=u.wa,_&&m&&Qt(S,_,m),Qt(S,"VER",u.ka),es(u,S),S}function Gs(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Qa({ab:_})):new $t(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Po(){}r=Po.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Qs(){}Qs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){Se.call(this),this.g=new ks(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}b($e,Se),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ja(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=gn(u),u=_);m.i.push(new Pc(m.Ya++,u)),m.I==3&&ts(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ja(this.g),delete this.g,$e.Z.N.call(this)};function nl(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(nl,zi);function zo(){Dn.call(this),this.status=1}b(zo,Dn);function Ji(u){this.g=u}b(Ji,Po),Ji.prototype.ra=function(){Ce(this.g,"a")},Ji.prototype.qa=function(u){Ce(this.g,new nl(u))},Ji.prototype.pa=function(u){Ce(this.g,new zo)},Ji.prototype.oa=function(){Ce(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,ov=function(){return new Qs},lv=function(){return Vs()},rv=pn,Jf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Gu=ce,xe.COMPLETE="complete",sv=xe,So.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Xl=So,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,av=$t}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const Hy="@firebase/firestore",Gy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new $_("@firebase/firestore");function Er(){return Ss.logLevel}function ut(r,...e){if(Ss.logLevel<=Ut.DEBUG){const i=e.map(Ad);Ss.debug(`Firestore (${xr}): ${r}`,...i)}}function Oi(r,...e){if(Ss.logLevel<=Ut.ERROR){const i=e.map(Ad);Ss.error(`Firestore (${xr}): ${r}`,...i)}}function Cr(r,...e){if(Ss.logLevel<=Ut.WARN){const i=e.map(Ad);Ss.warn(`Firestore (${xr}): ${r}`,...i)}}function Ad(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,uv(r,s,i)}function uv(r,e,i){let s=`FIRESTORE (${xr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Oi(s),new Error(s)}function Bt(r,e,i,s){let o="Unexpected state";typeof i=="string"?o=i:s=i,r||uv(e,o,s)}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Or{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class rS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class lS{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let h=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Aa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Aa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Bt(typeof s.accessToken=="string",31837,{l:s}),new cv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class oS{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class uS{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new oS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Qy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,G1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const s=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>s(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Qy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Qy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=hS(40);for(let h=0;h<o.length;++h)s.length<20&&o[h]<i&&(s+=e.charAt(o[h]%62))}return s}}function Mt(r,e){return r<e?-1:r>e?1:0}function Wf(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const o=r.charAt(s),h=e.charAt(s);if(o!==h)return kf(o)===kf(h)?Mt(o,h):kf(o)?1:-1}return Mt(r.length,e.length)}const fS=55296,dS=57343;function kf(r){const e=r.charCodeAt(0);return e>=fS&&e<=dS}function Nr(r,e,i){return r.length===e.length&&r.every(((s,o)=>i(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&vt(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Mt(e.length,i.length)}static compareSegments(e,i){const s=ii.isNumericId(e),o=ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Wf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class Wt extends ii{construct(e,i,s){return new Wt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const mS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ii{construct(e,i,s){return new je(e,i,s)}static isValidIdentifier(e){return mS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new je([Fy])}static fromServerFormat(e){const i=[];let s="",o=0;const h=()=>{if(s.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(h(),o++)}if(h(),d)throw new ot(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r,e,i){if(!i)throw new ot(X.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function gS(r,e,i,s){if(e===!0&&s===!0)throw new ot(X.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Yy(r){if(!gt.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Xy(r){if(gt.isDocumentKey(r))throw new ot(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function fv(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function mc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function ai(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=mc(r);throw new ot(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e){const i={typeString:r};return e&&(i.value=e),i}function ho(r,e){if(!fv(r))throw new ot(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const o=e[s].typeString,h="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(o&&typeof d!==o){i=`JSON field '${s}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${s}' field to equal '${h.value}'`;break}}if(i)throw new ot(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=-62135596800,Zy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Zy);return new Zt(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ky)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Zy}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ho(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ky;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Ee("string",Zt._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Zt(0,0))}static max(){return new St(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so=-1;function pS(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=St.fromTimestamp(s===1e9?new Zt(i+1,0):new Zt(i,s));return new wa(o,gt.empty(),e)}function yS(r){return new wa(r.readTime,r.key,so)}class wa{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wa(St.min(),gt.empty(),so)}static max(){return new wa(St.max(),gt.empty(),so)}}function _S(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Mt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ES{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ur(r){if(r.code!==X.FAILED_PRECONDITION||r.message!==vS)throw r;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((s,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(s,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,s)=>{i(e)}))}static reject(e){return new Z(((i,s)=>{s(e)}))}static waitFor(e){return new Z(((i,s)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(p=>s(p)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next((o=>o?Z.resolve(o):s()));return i}static forEach(e,i){const s=[];return e.forEach(((o,h)=>{s.push(i.call(this,o,h))})),this.waitFor(s)}static mapArray(e,i){return new Z(((s,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(e[y]).next((T=>{d[y]=T,++g,g===h&&s(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((s,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):s()};h()}))}}function TS(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Lr(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}gc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wd=-1;function pc(r){return r==null}function nc(r){return r===0&&1/r==-1/0}function SS(r){return typeof r=="number"&&Number.isInteger(r)&&!nc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="";function bS(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=$y(e)),e=AS(r.get(i),e);return $y(e)}function AS(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const h=r.charAt(o);switch(h){case"\0":i+="";break;case dv:i+="";break;default:i+=h}}return i}function $y(r){return r+dv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Va(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function mv(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?s(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,h){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,h){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const h=s(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,s),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,s,o,h){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(je.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Nr(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new gv("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const RS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(r){if(Bt(!!r,39018),typeof r=="string"){let e=0;const i=RS.exec(r);if(Bt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Na(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="server_timestamp",yv="__type__",_v="__previous_value__",vv="__local_write_time__";function Cd(r){return(r?.mapValue?.fields||{})[yv]?.stringValue===pv}function yc(r){const e=r.mapValue.fields[_v];return Cd(e)?yc(e):e}function ro(r){const e=Ca(r.mapValue.fields[vv].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,s,o,h,d,g,p,y,T){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const ic="(default)";class lo{constructor(e,i){this.projectId=e,this.database=i||ic}static empty(){return new lo("","")}get isDefaultDatabase(){return this.database===ic}isEqual(e){return e instanceof lo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="__type__",CS="__max__",ku={mapValue:{}},Tv="__vector__",ac="value";function Da(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cd(r)?4:DS(r)?9007199254740991:NS(r)?10:11:vt(28295,{value:r})}function ci(r,e){if(r===e)return!0;const i=Da(r);if(i!==Da(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ro(r).isEqual(ro(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ca(o.timestampValue),g=Ca(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,h){return Na(o.bytesValue).isEqual(Na(h.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(r,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?nc(d)===nc(g):isNaN(d)&&isNaN(g)}return!1})(r,e);case 9:return Nr(r.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Jy(d)!==Jy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0})(r,e);default:return vt(52216,{left:r})}}function oo(r,e){return(r.values||[]).find((i=>ci(i,e)))!==void 0}function Dr(r,e){if(r===e)return 0;const i=Da(r),s=Da(e);if(i!==s)return Mt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(r,e);case 3:return t_(r.timestampValue,e.timestampValue);case 4:return t_(ro(r),ro(e));case 5:return Wf(r.stringValue,e.stringValue);case 6:return(function(h,d){const g=Na(h),p=Na(d);return g.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Mt(g[y],p[y]);if(T!==0)return T}return Mt(g.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Mt(ge(h.latitude),ge(d.latitude));return g!==0?g:Mt(ge(h.longitude),ge(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return e_(r.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},p=d.fields||{},y=g[ac]?.arrayValue,T=p[ac]?.arrayValue,b=Mt(y?.values?.length||0,T?.values?.length||0);return b!==0?b:e_(y,T)})(r.mapValue,e.mapValue);case 11:return(function(h,d){if(h===ku.mapValue&&d===ku.mapValue)return 0;if(h===ku.mapValue)return 1;if(d===ku.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const N=Wf(p[b],T[b]);if(N!==0)return N;const q=Dr(g[p[b]],y[T[b]]);if(q!==0)return q}return Mt(p.length,T.length)})(r.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function t_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Mt(r,e);const i=Ca(r),s=Ca(e),o=Mt(i.seconds,s.seconds);return o!==0?o:Mt(i.nanos,s.nanos)}function e_(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const h=Dr(i[o],s[o]);if(h)return h}return Mt(i.length,s.length)}function Ir(r){return td(r)}function td(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ca(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Na(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",o=!0;for(const h of i.values||[])o?o=!1:s+=",",s+=td(h);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of s)h?h=!1:o+=",",o+=`${d}:${td(i.fields[d])}`;return o+"}"})(r.mapValue):vt(61005,{value:r})}function Qu(r){switch(Da(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yc(r);return e?16+Qu(e):16;case 5:return 2*r.stringValue.length;case 6:return Na(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,h)=>o+Qu(h)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return Va(s.fields,((h,d)=>{o+=h.length+Qu(d)})),o})(r.mapValue);default:throw vt(13486,{value:r})}}function n_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ed(r){return!!r&&"integerValue"in r}function Nd(r){return!!r&&"arrayValue"in r}function i_(r){return!!r&&"nullValue"in r}function a_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fu(r){return!!r&&"mapValue"in r}function NS(r){return(r?.mapValue?.fields||{})[Ev]?.stringValue===Tv}function Wl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Va(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=Wl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wl(r.arrayValue.values[i]);return e}return{...r}}function DS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===CS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!Fu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(i)}setAll(e){let i=je.emptyPath(),s={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Wl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,s,o)}delete(e){const i=this.field(e.popLast());Fu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];Fu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Va(i,((o,h)=>e[o]=h));for(const o of s)delete e[o]}clone(){return new sn(Wl(this.value))}}function Sv(r){const e=[];return Va(r.fields,((i,s)=>{const o=new je([i]);if(Fu(s)){const h=Sv(s.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,h,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,St.min(),St.min(),St.min(),sn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,St.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,St.min(),St.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,St.min(),St.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i){this.position=e,this.inclusive=i}}function s_(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const h=e[o],d=r.position[o];if(h.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=Dr(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function r_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ci(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i="asc"){this.field=e,this.dir=i}}function IS(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{}class ve extends bv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new VS(e,i,s):i==="array-contains"?new US(e,s):i==="in"?new LS(e,s):i==="not-in"?new PS(e,s):i==="array-contains-any"?new zS(e,s):new ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new OS(e,s):new xS(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Dr(i,this.value)):i!==null&&Da(this.value)===Da(i)&&this.matchesComparison(Dr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends bv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bn(e,i)}matches(e){return Av(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Av(r){return r.op==="and"}function Rv(r){return MS(r)&&Av(r)}function MS(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function nd(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Ir(r.value);if(Rv(r))return r.filters.map((e=>nd(e))).join(",");{const e=r.filters.map((i=>nd(i))).join(",");return`${r.op}(${e})`}}function wv(r,e){return r instanceof ve?(function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ci(s.value,o.value)})(r,e):r instanceof Bn?(function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((h,d,g)=>h&&wv(d,o.filters[g])),!0):!1})(r,e):void vt(19439)}function Cv(r){return r instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ir(i.value)}`})(r):r instanceof Bn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Cv).join(" ,")+"}"})(r):"Filter"}class VS extends ve{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class OS extends ve{constructor(e,i){super(e,"in",i),this.keys=Nv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class xS extends ve{constructor(e,i){super(e,"not-in",i),this.keys=Nv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Nv(r,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class US extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Nd(i)&&oo(i.arrayValue,this.value)}}class LS extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&oo(this.value.arrayValue,i)}}class PS extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!oo(this.value.arrayValue,i)}}class zS extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>oo(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,i=null,s=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function l_(r,e=null,i=[],s=[],o=null,h=null,d=null){return new jS(r,e,i,s,o,h,d)}function Dd(r){const e=At(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>nd(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(h){return h.field.canonicalString()+h.dir})(s))).join(","),pc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Ir(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Ir(s))).join(",")),e.Te=i}return e.Te}function Id(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!IS(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!wv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!r_(r.startAt,e.startAt)&&r_(r.endAt,e.endAt)}function id(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i=null,s=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BS(r,e,i,s,o,h,d,g){return new fo(r,e,i,s,o,h,d,g)}function Md(r){return new fo(r)}function o_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Dv(r){return r.collectionGroup!==null}function to(r){const e=At(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(je.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new rc(h,s))})),i.has(je.keyField().canonicalString())||e.Ie.push(new rc(je.keyField(),s))}return e.Ie}function si(r){const e=At(r);return e.Ee||(e.Ee=kS(e,to(r))),e.Ee}function kS(r,e){if(r.limitType==="F")return l_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new rc(o.field,h)}));const i=r.endAt?new sc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sc(r.startAt.position,r.startAt.inclusive):null;return l_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ad(r,e){const i=r.filters.concat([e]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function sd(r,e,i){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function _c(r,e){return Id(si(r),si(e))&&r.limitType===e.limitType}function Iv(r){return`${Dd(si(r))}|lt:${r.limitType}`}function Tr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((o=>Cv(o))).join(", ")}]`),pc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((o=>Ir(o))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((o=>Ir(o))).join(",")),`Target(${s})`})(si(r))}; limitType=${r.limitType})`}function vc(r,e){return e.isFoundDocument()&&(function(s,o){const h=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):gt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)})(r,e)&&(function(s,o){for(const h of to(s))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const h of s.filters)if(!h.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(d,g,p){const y=s_(d,g,p);return d.inclusive?y<=0:y<0})(s.startAt,to(s),o)||s.endAt&&!(function(d,g,p){const y=s_(d,g,p);return d.inclusive?y>=0:y>0})(s.endAt,to(s),o))})(r,e)}function qS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Mv(r){return(e,i)=>{let s=!1;for(const o of to(r)){const h=HS(o,e,i);if(h!==0)return h;s=s||o.field.isKeyField()}return 0}}function HS(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Dr(p,y):vt(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,h]of s)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Va(this.inner,((i,s)=>{for(const[o,h]of s)e(o,h)}))}isEmpty(){return mv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new se(gt.comparator);function xi(){return GS}const Vv=new se(gt.comparator);function Kl(...r){let e=Vv;for(const i of r)e=e.insert(i.key,i);return e}function Ov(r){let e=Vv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function _s(){return eo()}function xv(){return eo()}function eo(){return new ws((r=>r.toString()),((r,e)=>r.isEqual(e)))}const QS=new se(gt.comparator),FS=new we(gt.comparator);function Vt(...r){let e=FS;for(const i of r)e=e.add(i);return e}const YS=new we(Mt);function XS(){return YS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nc(e)?"-0":e}}function Uv(r){return{integerValue:""+r}}function KS(r,e){return SS(e)?Uv(e):Vd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this._=void 0}}function ZS(r,e,i){return r instanceof lc?(function(o,h){const d={fields:{[yv]:{stringValue:pv},[vv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Cd(h)&&(h=yc(h)),h&&(d.fields[_v]=h),{mapValue:d}})(i,e):r instanceof uo?Pv(r,e):r instanceof co?zv(r,e):(function(o,h){const d=Lv(o,h),g=u_(d)+u_(o.Ae);return ed(d)&&ed(o.Ae)?Uv(g):Vd(o.serializer,g)})(r,e)}function $S(r,e,i){return r instanceof uo?Pv(r,e):r instanceof co?zv(r,e):i}function Lv(r,e){return r instanceof oc?(function(s){return ed(s)||(function(h){return!!h&&"doubleValue"in h})(s)})(e)?e:{integerValue:0}:null}class lc extends Ec{}class uo extends Ec{constructor(e){super(),this.elements=e}}function Pv(r,e){const i=jv(e);for(const s of r.elements)i.some((o=>ci(o,s)))||i.push(s);return{arrayValue:{values:i}}}class co extends Ec{constructor(e){super(),this.elements=e}}function zv(r,e){let i=jv(e);for(const s of r.elements)i=i.filter((o=>!ci(o,s)));return{arrayValue:{values:i}}}class oc extends Ec{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function u_(r){return ge(r.integerValue||r.doubleValue)}function jv(r){return Nd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function JS(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof uo&&o instanceof uo||s instanceof co&&o instanceof co?Nr(s.elements,o.elements,ci):s instanceof oc&&o instanceof oc?ci(s.Ae,o.Ae):s instanceof lc&&o instanceof lc})(r.transform,e.transform)}class WS{constructor(e,i){this.version=e,this.transformResults=i}}class jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yu(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Tc{}function Bv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Od(r.key,jn.none()):new mo(r.key,r.data,jn.none());{const i=r.data,s=sn.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),o=o.add(h)}return new Oa(r.key,s,new mn(o.toArray()),jn.none())}}function tb(r,e,i){r instanceof mo?(function(o,h,d){const g=o.value.clone(),p=h_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,e,i):r instanceof Oa?(function(o,h,d){if(!Yu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=h_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(kv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function no(r,e,i,s){return r instanceof mo?(function(h,d,g,p){if(!Yu(h.precondition,d))return g;const y=h.value.clone(),T=f_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,e,i,s):r instanceof Oa?(function(h,d,g,p){if(!Yu(h.precondition,d))return g;const y=f_(h.fieldTransforms,p,d),T=d.data;return T.setAll(kv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((b=>b.field)))})(r,e,i,s):(function(h,d,g){return Yu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,e,i)}function eb(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),h=Lv(s.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(s.field,h))}return i||null}function c_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Nr(s,o,((h,d)=>JS(h,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mo extends Tc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends Tc{constructor(e,i,s,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function kv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function h_(r,e,i){const s=new Map;Bt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const h=r[o],d=h.transform,g=e.data.field(h.field);s.set(h.field,$S(d,g,i[o]))}return s}function f_(r,e,i){const s=new Map;for(const o of r){const h=o.transform,d=i.data.field(o.field);s.set(o.field,ZS(h,d,e))}return s}class Od extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nb extends Tc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&tb(h,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=no(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=no(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=xv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=Bv(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Vt())}isEqual(e){return this.batchId===e.batchId&&Nr(this.mutations,e.mutations,((i,s)=>c_(i,s)))&&Nr(this.baseMutations,e.baseMutations,((i,s)=>c_(i,s)))}}class xd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Bt(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return QS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,s[d].version);return new xd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,xt;function rb(r){switch(r){case X.OK:return vt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function qv(r){if(r===void 0)return Oi("GRPC error has no .code"),X.UNKNOWN;switch(r){case _e.OK:return X.OK;case _e.CANCELLED:return X.CANCELLED;case _e.UNKNOWN:return X.UNKNOWN;case _e.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _e.INTERNAL:return X.INTERNAL;case _e.UNAVAILABLE:return X.UNAVAILABLE;case _e.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _e.NOT_FOUND:return X.NOT_FOUND;case _e.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _e.ABORTED:return X.ABORTED;case _e.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _e.DATA_LOSS:return X.DATA_LOSS;default:return vt(39323,{code:r})}}(xt=_e||(_e={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=new ba([4294967295,4294967295],0);function d_(r){const e=lb().encode(r),i=new iv;return i.update(e),new Uint8Array(i.digest())}function m_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ba([i,s],0),new ba([o,h],0)]}class Ud{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zl(`Invalid padding: ${i}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ba.fromNumber(this.ge)}ye(e,i,s){let o=e.add(i.multiply(ba.fromNumber(s)));return o.compare(ob)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=d_(e),[s,o]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);if(!this.we(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Ud(h,o,i);return s.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=d_(e),[s,o]=m_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(s,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i,s,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,go.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Sc(St.min(),o,new se(Mt),xi(),Vt())}}class go{constructor(e,i,s,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new go(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,i,s,o){this.be=e,this.removedTargetIds=i,this.key=s,this.De=o}}class Hv{constructor(e,i){this.targetId=e,this.Ce=i}}class Gv{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class g_{constructor(){this.ve=0,this.Fe=p_(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Vt(),i=Vt(),s=Vt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:vt(38017,{changeType:h})}})),new go(this.Me,this.xe,e,i,s)}qe(){this.Oe=!1,this.Fe=p_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ub{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=qu(),this.He=qu(),this.Ye=new se(Mt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,s=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(id(h))if(s===0){const d=new gt(h.path);this.et(i,d,Ye.newNoDocument(d,St.min()))}else Bt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Na(s).toUint8Array()}catch(p){if(p instanceof gv)return Cr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Ud(d,o,h)}catch(p){return Cr(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let o=0;return s.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&id(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ye.newNoDocument(p,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let s=Vt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new Sc(e,i,this.Ye,this.je,s);return this.je=xi(),this.Je=qu(),this.He=qu(),this.Ye=new se(Mt),o}Xe(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new g_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Mt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Mt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new g_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function qu(){return new se(gt.comparator)}function p_(){return new se(gt.comparator)}const cb={asc:"ASCENDING",desc:"DESCENDING"},hb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fb={and:"AND",or:"OR"};class db{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function rd(r,e){return r.useProto3Json||pc(e)?e:{value:e}}function uc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Qv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function mb(r,e){return uc(r,e.toTimestamp())}function ri(r){return Bt(!!r,49232),St.fromTimestamp((function(i){const s=Ca(i);return new Zt(s.seconds,s.nanos)})(r))}function Ld(r,e){return ld(r,e).canonicalString()}function ld(r,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?i:i.child(e)}function Fv(r){const e=Wt.fromString(r);return Bt($v(e),10190,{key:e.toString()}),e}function od(r,e){return Ld(r.databaseId,e.path)}function qf(r,e){const i=Fv(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(Xv(i))}function Yv(r,e){return Ld(r.databaseId,e)}function gb(r){const e=Fv(r);return e.length===4?Wt.emptyPath():Xv(e)}function ud(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Xv(r){return Bt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function y_(r,e,i){return{name:od(r,e),fields:i.value.mapValue.fields}}function pb(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(y,T){return y.useProto3Json?(Bt(T===void 0||typeof T=="string",58123),Be.fromBase64String(T||"")):(Bt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Be.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?X.UNKNOWN:qv(y.code);return new ot(T,y.message||"")})(d);i=new Gv(s,o,h,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=qf(r,s.document.name),h=ri(s.document.updateTime),d=s.document.createTime?ri(s.document.createTime):St.min(),g=new sn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,h,d,g),y=s.targetIds||[],T=s.removedTargetIds||[];i=new Xu(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=qf(r,s.document),h=s.readTime?ri(s.readTime):St.min(),d=Ye.newNoDocument(o,h),g=s.removedTargetIds||[];i=new Xu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=qf(r,s.document),h=s.removedTargetIds||[];i=new Xu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:h}=s,d=new sb(o,h),g=s.targetId;i=new Hv(g,d)}}return i}function yb(r,e){let i;if(e instanceof mo)i={update:y_(r,e.key,e.value)};else if(e instanceof Od)i={delete:od(r,e.key)};else if(e instanceof Oa)i={update:y_(r,e.key,e.data),updateMask:wb(e.fieldMask)};else{if(!(e instanceof nb))return vt(16599,{Vt:e.type});i={verify:od(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(h,d){const g=d.transform;if(g instanceof lc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof co)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof oc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:mb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(r,e.precondition)),i}function _b(r,e){return r&&r.length>0?(Bt(e!==void 0,14353),r.map((i=>(function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(St.min())&&(d=ri(h)),new WS(d,o.transformResults||[])})(i,e)))):[]}function vb(r,e){return{documents:[Yv(r,e.path)]}}function Eb(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Yv(r,o);const h=(function(y){if(y.length!==0)return Zv(Bn.create(y,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((T=>(function(N){return{field:Sr(N.field),direction:bb(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=rd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:i,parent:o}}function Tb(r){let e=gb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Bt(s===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(b){const N=Kv(b);return N instanceof Bn&&Rv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((N=>(function(W){return new rc(br(W.field),(function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(b){let N;return N=typeof b=="object"?b.value:b,pc(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(b){const N=!!b.before,q=b.values||[];return new sc(q,N)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const N=!b.before,q=b.values||[];return new sc(q,N)})(i.endAt)),BS(e,o,d,h,g,"F",p,y)}function Sb(r,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=br(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=br(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=br(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=br(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return ve.create(br(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bn.create(i.compositeFilter.filters.map((s=>Kv(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function bb(r){return cb[r]}function Ab(r){return hb[r]}function Rb(r){return fb[r]}function Sr(r){return{fieldPath:r.canonicalString()}}function br(r){return je.fromServerFormat(r.fieldPath)}function Zv(r){return r instanceof ve?(function(i){if(i.op==="=="){if(a_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NAN"}};if(i_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(a_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NAN"}};if(i_(i.value))return{unaryFilter:{field:Sr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sr(i.field),op:Ab(i.op),value:i.value}}})(r):r instanceof Bn?(function(i){const s=i.getFilters().map((o=>Zv(o)));return s.length===1?s[0]:{compositeFilter:{op:Rb(i.op),filters:s}}})(r):vt(54877,{filter:r})}function wb(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function $v(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i,s,o,h=St.min(),d=St.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e){this.yt=e}}function Nb(r){const e=Tb({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Cn=new Ib}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(wa.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Ib{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(s);return this.index[i]=o.add(s),h}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Jv=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Jv,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Mr(0)}static cr(){return new Mr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="LruGarbageCollector",Mb=1048576;function E_([r,e],[i,s]){const o=Mt(r,i);return o===0?Mt(e,s):o}class Vb{constructor(e){this.Ir=e,this.buffer=new we(E_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();E_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ob{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ut(v_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Lr(i)?ut(v_,"Ignoring IndexedDB error during garbage collection: ",i):await Ur(i)}await this.Vr(3e5)}))}}class xb{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(gc.ce);const s=new Vb(i);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.mr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(__)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),__):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let s,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,d=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,g=Date.now(),this.removeTargets(e,s,i)))).next((b=>(h=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(y=Date.now(),Er()<=Ut.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:b}))))}}function Ub(r,e){return new xb(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.changes=new ws((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(s!==null&&no(s.mutation,o,mn.empty(),Zt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Vt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Vt()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,s).next((h=>{let d=Kl();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=_s();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Vt())))}populateOverlays(e,i,s){const o=[];return s.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,s,o){let h=xi();const d=eo(),g=(function(){return eo()})();return i.forEach(((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof Oa)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),no(T.mutation,y,T.mutation.getFieldMask(),Zt.now())):d.set(y.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((p=>(p.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new Pb(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,i){const s=eo();let o=new se(((d,g)=>d-g)),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let T=s.get(p)||mn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const b=(o.get(g.batchId)||Vt()).add(p);o=o.insert(g.batchId,b)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,b=xv();T.forEach((N=>{if(!h.has(N)){const q=Bv(i.get(N),s.get(N));q!==null&&b.set(N,q),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,b))}return Z.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Dv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-h.size):Z.resolve(_s());let g=so,p=h;return d.next((y=>Z.forEach(y,((T,b)=>(g<b.largestBatchId&&(g=b.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(e,y,h))).next((()=>this.computeViews(e,p,y,Vt()))).next((T=>({batchId:g,changes:Ov(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const h=i.collectionGroup;let d=Kl();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(p=>{const y=(function(b,N){return new fo(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((b,N)=>{d=d.insert(b,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,h,o)))).next((d=>{h.forEach(((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))}));let g=Kl();return d.forEach(((p,y)=>{const T=h.get(p);T!==void 0&&no(T.mutation,y,mn.empty(),Zt.now()),vc(i,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Nb(o.bundledQuery),readTime:ri(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.overlays=new se(gt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&s.set(o,h)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=_s(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let h=new se(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let T=h.get(y.largestBatchId);T===null&&(T=_s(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=_s(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ab(i,s));let h=this.qr.get(i);h===void 0&&(h=Vt(),this.qr.set(i,h)),this.qr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(){this.Qr=new we(Ve.$r),this.Ur=new we(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const s=new Ve(e,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Gr(new Ve(e,i))}zr(e,i){e.forEach((s=>this.removeReference(s,i)))}jr(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1),h=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),s=new Ve(i,e),o=new Ve(i,e+1);let h=Vt();return this.Ur.forEachInRange([s,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Ve(e,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ve{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Mt(e.Yr,i.Yr)}static Kr(e,i){return Mt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Ve.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ib(h,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ve(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.ei(s),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?wd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([s,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new we(Mt);return i.forEach((o=>{const h=new Ve(o,0),d=new Ve(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{s=s.add(g.Yr)}))})),Z.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let h=s;gt.isDocumentKey(h)||(h=h.child(""));const d=new Ve(new gt(h),0);let g=new we(Mt);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Ve(o.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,i){const s=new Ve(i,0),o=this.Zr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e){this.ri=e,this.docs=(function(){return new se(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=xi();return i.forEach((o=>{const h=this.docs.get(o);s=s.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let h=xi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||_S(yS(T),s)<=0||(o.has(T.key)||vc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,s,o){vt(9500)}ii(e,i){return Z.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new Gb(this)}getSize(e){return Z.resolve(this.size)}}class Gb extends Lb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e){this.persistence=e,this.si=new ws((i=>Dd(i)),Id),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Pd,this.targetCount=0,this.ai=Mr.ur()}forEachTarget(e,i){return this.si.forEach(((s,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Mr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.si.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this._i.Wr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this._i.zr(i,s);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this._i.Hr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i){this.ui={},this.overlays={},this.ci=new gc(0),this.li=!1,this.li=!0,this.hi=new kb,this.referenceDelegate=e(this),this.Pi=new Qb(this),this.indexManager=new Db,this.remoteDocumentCache=(function(o){return new Hb(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Cb(i),this.Ii=new jb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Bb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.ui[e.toKey()];return s||(s=new qb(i,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const o=new Fb(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,i))))}}class Fb extends ES{constructor(e){super(),this.currentSequenceNumber=e}}class zd{constructor(e){this.persistence=e,this.Ri=new Pd,this.Vi=null}static mi(e){return new zd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>s.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(s=>{const o=gt.fromPath(s);return this.gi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class cc{constructor(e,i){this.persistence=e,this.pi=new ws((s=>bS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=Ub(this,i)}static mi(e,i){return new cc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((o=>s+o))))}wr(e){let i=0;return this.pr(e,(s=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((s,o)=>this.br(e,s,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(s++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.pi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Qu(e.data.value)),i}br(e,i,s){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Es=s,this.ds=o}static As(e,i){let s=Vt(),o=Vt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new jd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kT()?8:TS(jT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,s).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Yb;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,s,o){return s.documentReadCount<this.fs?(Er()<=Ut.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Tr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(Er()<=Ut.DEBUG&&ut("QueryEngine","Query:",Tr(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Er()<=Ut.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Tr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):Z.resolve())}ys(e,i){if(o_(i))return Z.resolve(null);let s=si(i);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=sd(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((h=>{const d=Vt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(i,g);return this.Cs(i,y,d,p.readTime)?this.ys(e,sd(i,null,"F")):this.vs(e,y,i,p)}))))})))))}ws(e,i,s,o){return o_(i)||o.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(e,s).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,s,o)?Z.resolve(null):(Er()<=Ut.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Tr(i)),this.vs(e,d,i,pS(o,so)).next((g=>g)))}))}Ds(e,i){let s=new we(Mv(e));return i.forEach(((o,h)=>{vc(e,h)&&(s=s.add(h))})),s}Cs(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,s){return Er()<=Ut.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Tr(i)),this.ps.getDocumentsMatchingQuery(e,i,wa.min(),s)}vs(e,i,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd="LocalStore",Kb=3e8;class Zb{constructor(e,i,s,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new se(Mt),this.xs=new ws((h=>Dd(h)),Id),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function $b(r,e,i,s){return new Zb(r,e,i,s)}async function t0(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(s)))).next((h=>{const d=[],g=[];let p=Vt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function Jb(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,T){const b=y.batch,N=b.keys();let q=Z.resolve();return N.forEach((W=>{q=q.next((()=>T.getEntry(p,W))).next((nt=>{const G=y.docVersions.get(W);Bt(G!==null,48541),nt.version.compareTo(G)<0&&(b.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),T.addEntry(nt)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,b)))})(i,s,e,h).next((()=>h.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(s,o)))}))}function e0(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Wb(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,b)=>{const N=o.get(b);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,b))));let q=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(b)!==null?q=q.withResumeToken(Be.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,s)),o=o.insert(b,q),(function(nt,G,st){return nt.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Kb?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0})(N,q,T)&&g.push(i.Pi.updateTargetData(h,q))}));let p=xi(),y=Vt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(tA(h,d,e.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!s.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((b=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,s)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,y))).next((()=>p))})).then((h=>(i.Ms=o,h)))}function tA(r,e,i){let s=Vt(),o=Vt();return i.forEach((h=>s=s.add(h))),e.getEntries(r,s).next((h=>{let d=xi();return i.forEach(((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ut(Bd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function eA(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=wd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function nA(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return i.Pi.getTargetData(s,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(s).next((d=>(o=new Ea(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=i.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(e,s.targetId)),s}))}async function cd(r,e,i){const s=At(r),o=s.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Lr(d))throw d;ut(Bd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function T_(r,e,i){const s=At(r);let o=St.min(),h=Vt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,T){const b=At(p),N=b.xs.get(T);return N!==void 0?Z.resolve(b.Ms.get(N)):b.Pi.getTargetData(y,T)})(s,d,si(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Vt()))).next((g=>(iA(s,qS(e),g),{documents:g,Qs:h})))))}function iA(r,e,i){let s=r.Os.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)})),r.Os.set(e,s)}class S_{constructor(){this.activeTargetIds=XS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aA{constructor(){this.Mo=new S_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,s){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="ConnectivityMonitor";class A_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(b_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ut(b_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function hd(){return Hu===null?Hu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hf="RestConnection",rA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class lA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ic?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,i,s,o,h){const d=hd(),g=this.zo(e,i.toUriEncodedString());ut(Hf,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,h);const{host:y}=new URL(g),T=Sd(y);return this.Jo(e,g,p,s,T).then((b=>(ut(Hf,`Received RPC '${e}' ${d}: `,b),b)),(b=>{throw Cr(Hf,`RPC '${e}' ${d} failed with error: `,b,"url: ",g,"request:",s),b}))}Ho(e,i,s,o,h,d){return this.Go(e,i,s,o,h)}jo(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),s&&s.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const s=rA[e];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class uA extends lA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,s,o,h){const d=hd();return new Promise(((g,p)=>{const y=new av;y.setWithCredentials(!0),y.listenOnce(sv.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Gu.NO_ERROR:const b=y.getResponseJson();ut(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(b)),g(b);break;case Gu.TIMEOUT:ut(Qe,`RPC '${e}' ${d} timed out`),p(new ot(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const N=y.getStatus();if(ut(Qe,`RPC '${e}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q?.error;if(W&&W.status&&W.message){const nt=(function(st){const rt=st.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(rt)>=0?rt:X.UNKNOWN})(W.status);p(new ot(nt,W.message))}else p(new ot(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ot(X.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Qe,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ut(Qe,`RPC '${e}' ${d} sending request:`,o),y.send(i,"POST",T,s,15)}))}T_(e,i,s){const o=hd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=ov(),g=lv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const T=h.join("");ut(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=d.createWebChannel(T,p);this.I_(b);let N=!1,q=!1;const W=new oA({Yo:G=>{q?ut(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(N||(ut(Qe,`Opening RPC '${e}' stream ${o} transport.`),b.open(),N=!0),ut(Qe,`RPC '${e}' stream ${o} sending:`,G),b.send(G))},Zo:()=>b.close()}),nt=(G,st,rt)=>{G.listen(st,(tt=>{try{rt(tt)}catch(ft){setTimeout((()=>{throw ft}),0)}}))};return nt(b,Xl.EventType.OPEN,(()=>{q||(ut(Qe,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),nt(b,Xl.EventType.CLOSE,(()=>{q||(q=!0,ut(Qe,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(b))})),nt(b,Xl.EventType.ERROR,(G=>{q||(q=!0,Cr(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),W.a_(new ot(X.UNAVAILABLE,"The operation could not be completed")))})),nt(b,Xl.EventType.MESSAGE,(G=>{if(!q){const st=G.data[0];Bt(!!st,16349);const rt=st,tt=rt?.error||rt[0]?.error;if(tt){ut(Qe,`RPC '${e}' stream ${o} received error:`,tt);const ft=tt.status;let $=(function(A){const w=_e[A];if(w!==void 0)return qv(w)})(ft),ht=tt.message;$===void 0&&($=X.INTERNAL,ht="Unknown error status: "+ft+" with message "+tt.message),q=!0,W.a_(new ot($,ht)),b.close()}else ut(Qe,`RPC '${e}' stream ${o} received:`,st),W.u_(st)}})),nt(g,rv.STAT_EVENT,(G=>{G.stat===Jf.PROXY?ut(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Jf.NOPROXY&&ut(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Gf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(r){return new db(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e,i,s=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=s,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-s);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="PersistentStream";class i0{constructor(e,i,s,o,h,d,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new n0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===i&&this.G_(s,o)}),(s=>{e((()=>{const o=new ot(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,i){const s=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(R_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ut(R_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cA extends i0{constructor(e,i,s,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=pb(this.serializer,e),s=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ri(d.readTime):St.min()})(e);return this.listener.H_(i,s)}Y_(e){const i={};i.database=ud(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=id(p)?{documents:vb(h,p)}:{query:Eb(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Qv(h,d.resumeToken);const y=rd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=uc(h,d.snapshotVersion.toTimestamp());const y=rd(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=Sb(this.serializer,e);s&&(i.labels=s),this.q_(i)}Z_(e){const i={};i.database=ud(this.serializer),i.removeTarget=e,this.q_(i)}}class hA extends i0{constructor(e,i,s,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=_b(e.writeResults,e.commitTime),s=ri(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=ud(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>yb(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{}class dA extends fA{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,ld(i,s),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ot(X.UNKNOWN,h.toString())}))}Ho(e,i,s,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,ld(i,s),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class mA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class gA{constructor(e,i,s,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{Cs(this)&&(ut(bs,"Restarting streams for network reachability change."),await(async function(p){const y=At(p);y.Ea.add(4),await po(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ac(y)})(this))}))})),this.Ra=new mA(s,o)}}async function Ac(r){if(Cs(r))for(const e of r.da)await e(!0)}async function po(r){for(const e of r.da)await e(!1)}function a0(r,e){const i=At(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Gd(i)?Hd(i):Pr(i).O_()&&qd(i,e))}function kd(r,e){const i=At(r),s=Pr(i);i.Ia.delete(e),s.O_()&&s0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Cs(i)&&i.Ra.set("Unknown"))}function qd(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Pr(r).Y_(e)}function s0(r,e){r.Va.Ue(e),Pr(r).Z_(e)}function Hd(r){r.Va=new ub({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Pr(r).start(),r.Ra.ua()}function Gd(r){return Cs(r)&&!Pr(r).x_()&&r.Ia.size>0}function Cs(r){return At(r).Ea.size===0}function r0(r){r.Va=void 0}async function pA(r){r.Ra.set("Online")}async function yA(r){r.Ia.forEach(((e,i)=>{qd(r,e)}))}async function _A(r,e){r0(r),Gd(r)?(r.Ra.ha(e),Hd(r)):r.Ra.set("Unknown")}async function vA(r,e,i){if(r.Ra.set("Online"),e instanceof Gv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,e)}catch(s){ut(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hc(r,s)}else if(e instanceof Xu?r.Va.Ze(e):e instanceof Hv?r.Va.st(e):r.Va.tt(e),!i.isEqual(St.min()))try{const s=await e0(r.localStore);i.compareTo(s)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ia.get(y);T&&h.Ia.set(y,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,y)=>{const T=h.Ia.get(p);if(!T)return;h.Ia.set(p,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),s0(h,p);const b=new Ea(T.target,p,y,T.sequenceNumber);qd(h,b)})),h.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){ut(bs,"Failed to raise snapshot:",s),await hc(r,s)}}async function hc(r,e,i){if(!Lr(e))throw e;r.Ea.add(1),await po(r),r.Ra.set("Offline"),i||(i=()=>e0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(bs,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ac(r)}))}function l0(r,e){return e().catch((i=>hc(r,i,e)))}async function Rc(r){const e=At(r),i=Ia(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:wd;for(;EA(e);)try{const o=await eA(e.localStore,s);if(o===null){e.Ta.length===0&&i.L_();break}s=o.batchId,TA(e,o)}catch(o){await hc(e,o)}o0(e)&&u0(e)}function EA(r){return Cs(r)&&r.Ta.length<10}function TA(r,e){r.Ta.push(e);const i=Ia(r);i.O_()&&i.X_&&i.ea(e.mutations)}function o0(r){return Cs(r)&&!Ia(r).x_()&&r.Ta.length>0}function u0(r){Ia(r).start()}async function SA(r){Ia(r).ra()}async function bA(r){const e=Ia(r);for(const i of r.Ta)e.ea(i.mutations)}async function AA(r,e,i){const s=r.Ta.shift(),o=xd.from(s,e,i);await l0(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Rc(r)}async function RA(r,e){e&&Ia(r).X_&&await(async function(s,o){if((function(d){return rb(d)&&d!==X.ABORTED})(o.code)){const h=s.Ta.shift();Ia(s).B_(),await l0(s,(()=>s.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Rc(s)}})(r,e),o0(r)&&u0(r)}async function w_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),ut(bs,"RemoteStore received new credentials");const s=Cs(i);i.Ea.add(3),await po(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ac(i)}async function wA(r,e){const i=At(r);e?(i.Ea.delete(2),await Ac(i)):e||(i.Ea.add(2),await po(i),i.Ra.set("Unknown"))}function Pr(r){return r.ma||(r.ma=(function(i,s,o){const h=At(i);return h.sa(),new cA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:pA.bind(null,r),t_:yA.bind(null,r),r_:_A.bind(null,r),H_:vA.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Gd(r)?Hd(r):r.Ra.set("Unknown")):(await r.ma.stop(),r0(r))}))),r.ma}function Ia(r){return r.fa||(r.fa=(function(i,s,o){const h=At(i);return h.sa(),new hA(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:SA.bind(null,r),r_:RA.bind(null,r),ta:bA.bind(null,r),na:AA.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await Rc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(bs,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=h,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,h){const d=Date.now()+s,g=new Qd(e,i,d,o,h);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fd(r,e){if(Oi("AsyncQueue",`${e}: ${r}`),Lr(r))return new ot(X.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{static emptySet(e){return new wr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=Kl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=s.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new wr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(){this.ga=new se(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Vr{constructor(e,i,s,o,h,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Vr(e,i,wr.emptySet(i),d,s,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_c(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NA{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const o=At(i),h=o.queries;o.queries=N_(),h.forEach(((d,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ot(X.ABORTED,"Firestore shutting down"))}}function N_(){return new ws((r=>Iv(r)),_c)}async function c0(r,e){const i=At(r);let s=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(s=2):(h=new CA,s=e.Da()?0:1);try{switch(s){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Fd(d,`Initialization of query '${Tr(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&Yd(i)}async function h0(r,e){const i=At(r),s=e.query;let o=3;const h=i.queries.get(s);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function DA(r,e){const i=At(r);let s=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(s=!0);d.wa=o}}s&&Yd(i)}function IA(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);s.queries.delete(e)}function Yd(r){r.Ca.forEach((e=>{e.next()}))}var fd,D_;(D_=fd||(fd={})).Ma="default",D_.Cache="cache";class f0{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Vr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Vr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this.key=e}}class m0{constructor(e){this.key=e}}class MA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=Mv(e),this.tu=new wr(this.eu)}get nu(){return this.Ya}ru(e,i){const s=i?i.iu:new C_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,b)=>{const N=o.get(T),q=vc(this.query,b)?b:null,W=!!N&&this.mutatedKeys.has(N.key),nt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let G=!1;N&&q?N.data.isEqual(q.data)?W!==nt&&(s.track({type:3,doc:q}),G=!0):this.su(N,q)||(s.track({type:2,doc:q}),G=!0,(p&&this.eu(q,p)>0||y&&this.eu(q,y)<0)&&(g=!0)):!N&&q?(s.track({type:0,doc:q}),G=!0):N&&!q&&(s.track({type:1,doc:N}),G=!0,(p||y)&&(g=!0)),G&&(q?(d=d.add(q),h=nt?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,b)=>(function(q,W){const nt=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:G})}};return nt(q)-nt(W)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Vr(this.query,e.tu,h,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new C_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Vt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return e.forEach((s=>{this.Xa.has(s)||i.push(new m0(s))})),this.Xa.forEach((s=>{e.has(s)||i.push(new d0(s))})),i}cu(e){this.Ya=e.Qs,this.Xa=Vt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Vr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xd="SyncEngine";class VA{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class OA{constructor(e){this.key=e,this.hu=!1}}class xA{constructor(e,i,s,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ws((g=>Iv(g)),_c),this.Iu=new Map,this.Eu=new Set,this.du=new se(gt.comparator),this.Au=new Map,this.Ru=new Pd,this.Vu={},this.mu=new Map,this.fu=Mr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function UA(r,e,i=!0){const s=E0(r);let o;const h=s.Tu.get(e);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await g0(s,e,i,!0),o}async function LA(r,e){const i=E0(r);await g0(i,e,!0,!1)}async function g0(r,e,i,s){const o=await nA(r.localStore,si(e)),h=o.targetId,d=r.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await PA(r,e,h,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&a0(r.remoteStore,o),g}async function PA(r,e,i,s,o){r.pu=(b,N,q)=>(async function(nt,G,st,rt){let tt=G.view.ru(st);tt.Cs&&(tt=await T_(nt.localStore,G.query,!1).then((({documents:I})=>G.view.ru(I,tt))));const ft=rt&&rt.targetChanges.get(G.targetId),$=rt&&rt.targetMismatches.get(G.targetId)!=null,ht=G.view.applyChanges(tt,nt.isPrimaryClient,ft,$);return M_(nt,G.targetId,ht.au),ht.snapshot})(r,b,N,q);const h=await T_(r.localStore,e,!0),d=new MA(e,h.Qs),g=d.ru(h.documents),p=go.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);M_(r,i,y.au);const T=new VA(e,i,d);return r.Tu.set(e,T),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),y.snapshot}async function zA(r,e,i){const s=At(r),o=s.Tu.get(e),h=s.Iu.get(o.targetId);if(h.length>1)return s.Iu.set(o.targetId,h.filter((d=>!_c(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cd(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),i&&kd(s.remoteStore,o.targetId),dd(s,o.targetId)})).catch(Ur)):(dd(s,o.targetId),await cd(s.localStore,o.targetId,!0))}async function jA(r,e){const i=At(r),s=i.Tu.get(e),o=i.Iu.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),kd(i.remoteStore,s.targetId))}async function BA(r,e,i){const s=YA(r);try{const o=await(function(d,g){const p=At(d),y=Zt.now(),T=g.reduce(((q,W)=>q.add(W.key)),Vt());let b,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=xi(),nt=Vt();return p.Ns.getEntries(q,T).next((G=>{W=G,W.forEach(((st,rt)=>{rt.isValidDocument()||(nt=nt.add(st))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,W))).next((G=>{b=G;const st=[];for(const rt of g){const tt=eb(rt,b.get(rt.key).overlayedDocument);tt!=null&&st.push(new Oa(rt.key,tt,Sv(tt.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(q,y,st,g)})).next((G=>{N=G;const st=G.applyToLocalDocumentSet(b,nt);return p.documentOverlayCache.saveOverlays(q,G.batchId,st)}))})).then((()=>({batchId:N.batchId,changes:Ov(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new se(Mt)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,i),await yo(s,o.changes),await Rc(s.remoteStore)}catch(o){const h=Fd(o,"Failed to persist write");i.reject(h)}}async function p0(r,e){const i=At(r);try{const s=await Wb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Bt(d.hu,14607):o.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await yo(i,s,e)}catch(s){await Ur(s)}}function I_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let y=!1;p.queries.forEach(((T,b)=>{for(const N of b.Sa)N.va(g)&&(y=!0)})),y&&Yd(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kA(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Au.get(e),h=o&&o.key;if(h){let d=new se(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,St.min()));const g=Vt().add(h),p=new Sc(St.min(),new Map,new se(Mt),d,g);await p0(s,p),s.du=s.du.remove(h),s.Au.delete(e),Kd(s)}else await cd(s.localStore,e,!1).then((()=>dd(s,e,i))).catch(Ur)}async function qA(r,e){const i=At(r),s=e.batch.batchId;try{const o=await Jb(i.localStore,e);_0(i,s,null),y0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await yo(i,o)}catch(o){await Ur(o)}}async function HA(r,e,i){const s=At(r);try{const o=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next((b=>(Bt(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);_0(s,e,i),y0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await yo(s,o)}catch(o){await Ur(o)}}function y0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function _0(r,e,i){const s=At(r);let o=s.Vu[s.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function dd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||v0(r,s)}))}function v0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.du.get(e);i!==null&&(kd(r.remoteStore,i),r.du=r.du.remove(e),r.Au.delete(i),Kd(r))}function M_(r,e,i){for(const s of i)s instanceof d0?(r.Ru.addReference(s.key,e),GA(r,s)):s instanceof m0?(ut(Xd,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||v0(r,s.key)):vt(19791,{wu:s})}function GA(r,e){const i=e.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(ut(Xd,"New document in limbo: "+i),r.Eu.add(s),Kd(r))}function Kd(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(Wt.fromString(e)),s=r.fu.next();r.Au.set(s,new OA(i)),r.du=r.du.insert(i,s),a0(r.remoteStore,new Ea(si(Md(i.path)),s,"TargetPurposeLimboResolution",gc.ce))}}async function yo(r,e,i){const s=At(r),o=[],h=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{d.push(s.pu(p,e,i).then((y=>{if((y||i)&&s.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=jd.As(p.targetId,y);h.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(p,y){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>Z.forEach(y,(N=>Z.forEach(N.Es,(q=>T.persistence.referenceDelegate.addReference(b,N.targetId,q))).next((()=>Z.forEach(N.ds,(q=>T.persistence.referenceDelegate.removeReference(b,N.targetId,q)))))))))}catch(b){if(!Lr(b))throw b;ut(Bd,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const q=T.Ms.get(N),W=q.snapshotVersion,nt=q.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(N,nt)}}})(s.localStore,h))}async function QA(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){ut(Xd,"User change. New user:",e.toKey());const s=await t0(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((p=>{p.reject(new ot(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yo(i,s.Ls)}}function FA(r,e){const i=At(r),s=i.Au.get(e);if(s&&s.hu)return Vt().add(s.key);{let o=Vt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function E0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=p0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kA.bind(null,e),e.Pu.H_=DA.bind(null,e.eventManager),e.Pu.yu=IA.bind(null,e.eventManager),e}function YA(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=HA.bind(null,e),e}class fc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return $b(this.persistence,new Xb,e.initialUser,this.serializer)}Cu(e){return new Wv(zd.mi,this.serializer)}Du(e){return new aA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fc.provider={build:()=>new fc};class XA extends fc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof cc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Ob(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Wv((s=>cc.mi(s,i)),this.serializer)}}class md{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>I_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QA.bind(null,this.syncEngine),await wA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NA})()}createDatastore(e){const i=bc(e.databaseInfo.databaseId),s=(function(h){return new uA(h)})(e.databaseInfo);return(function(h,d,g,p){return new dA(h,d,g,p)})(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,o,h,d,g){return new gA(s,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>I_(this.syncEngine,i,0)),(function(){return A_.v()?new A_:new sA})())}createSyncEngine(e,i){return(function(o,h,d,g,p,y,T){const b=new xA(o,h,d,g,p,y);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);ut(bs,"RemoteStore shutting down."),s.Ea.add(5),await po(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}md.provider={build:()=>new md};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma="FirestoreClient";class KA{constructor(e,i,s,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Rd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,(async d=>{ut(Ma,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(Ma,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Fd(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Qf(r,e){r.asyncQueue.verifyOperationInProgress(),ut(Ma,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await t0(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function V_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await ZA(r);ut(Ma,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>w_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>w_(e.remoteStore,o))),r._onlineComponents=e}async function ZA(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(Ma,"Using user provided OfflineComponentProvider");try{await Qf(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Cr("Error using user provided cache. Falling back to memory cache: "+i),await Qf(r,new fc)}}else ut(Ma,"Using default OfflineComponentProvider"),await Qf(r,new XA(void 0));return r._offlineComponents}async function S0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(Ma,"Using user provided OnlineComponentProvider"),await V_(r,r._uninitializedComponentsProvider._online)):(ut(Ma,"Using default OnlineComponentProvider"),await V_(r,new md))),r._onlineComponents}function $A(r){return S0(r).then((e=>e.syncEngine))}async function gd(r){const e=await S0(r),i=e.eventManager;return i.onListen=UA.bind(null,e.syncEngine),i.onUnlisten=zA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=LA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=jA.bind(null,e.syncEngine),i}function JA(r,e,i={}){const s=new Aa;return r.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,p,y){const T=new T0({next:N=>{T.Nu(),d.enqueueAndForget((()=>h0(h,b))),N.fromCache&&p.source==="server"?y.reject(new ot(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new f0(g,T,{includeMetadataChanges:!0,qa:!0});return c0(h,b)})(await gd(r),r.asyncQueue,e,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0="firestore.googleapis.com",x_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=A0,this.ssl=x_}else this.host=e.host,this.ssl=e.ssl??x_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Jv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Mb)throw new ot(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ot(X.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new sS;switch(s.type){case"firstParty":return new uS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=O_.get(i);s&&(ut("ComponentProvider","Removing Datastore"),O_.delete(i),s.terminate())})(this),Promise.resolve()}}function WA(r,e,i,s={}){r=ai(r,wc);const o=Sd(e),h=r._getSettings(),d={...h,emulatorOptions:r._getEmulatorOptions()},g=`${e}:${i}`;o&&(xT(`https://${g}`),zT("Firestore",!0)),h.host!==A0&&h.host!==g&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:o,emulatorOptions:s};if(!Wu(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Fe.MOCK_USER;else{y=UT(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ot(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(b)}r._authCredentials=new rS(new cv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ns(this.firestore,e,this._query)}}class Te{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Te(this.firestore,e,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(ho(i,Te._jsonSchema))return new Te(e,s||null,new gt(Wt.fromString(i.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ee("string",Te._jsonSchemaVersion),referencePath:Ee("string")};class Ra extends Ns{constructor(e,i,s){super(e,i,Md(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Te(this.firestore,null,new gt(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function kn(r,e,...i){if(r=ui(r),hv("collection","path",e),r instanceof wc){const s=Wt.fromString(e,...i);return Xy(s),new Ra(r,null,s)}{if(!(r instanceof Te||r instanceof Ra))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return Xy(s),new Ra(r.firestore,null,s)}}function t2(r,e,...i){if(r=ui(r),arguments.length===1&&(e=Rd.newId()),hv("doc","path",e),r instanceof wc){const s=Wt.fromString(e,...i);return Yy(s),new Te(r,null,new gt(s))}{if(!(r instanceof Te||r instanceof Ra))throw new ot(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(e,...i));return Yy(s),new Te(r.firestore,r instanceof Ra?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="AsyncQueue";class P_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new n0(this,"async_queue_retry"),this._c=()=>{const s=Gf();s&&ut(L_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Gf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Gf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Lr(e))throw e;ut(L_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",z_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Qd.createAndSchedule(this,e,i,s,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:z_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function z_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j_(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of s)if(h in o&&typeof o[h]=="function")return!0;return!1})(r,["next","error","complete"])}class As extends wc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new P_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new P_(e),this._firestoreClient=void 0,await e}}}function e2(r,e){const i=typeof r=="object"?r:X1(),s=typeof r=="string"?r:ic,o=H1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const h=VT("firestore");h&&WA(o,...h)}return o}function Zd(r){if(r._terminated)throw new ot(X.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||n2(r),r._firestoreClient}function n2(r){const e=r._freezeSettings(),i=(function(o,h,d,g){return new wS(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,b0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new KA(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Be.fromBase64String(e))}catch(i){throw new ot(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ho(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(ho(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Ee("string",li._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ho(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new ot(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ee("string",oi._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2=/^__.*__$/;class a2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms):new mo(e,this.data,i,this.fieldTransforms)}}class R0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function w0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Jd{constructor(e,i,s,o,h,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Jd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.gc(e),s}yc(e){const i=this.path?.child(e),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return dc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(w0(this.Ac)&&i2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class s2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||bc(e)}Cc(e,i,s,o=!1){return new Jd({Ac:e,methodName:i,Dc:s,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wd(r){const e=r._freezeSettings(),i=bc(r._databaseId);return new s2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function r2(r,e,i,s,o,h={}){const d=r.Cc(h.merge||h.mergeFields?2:0,e,i,o);tm("Data must be an object, but it was:",d,s);const g=C0(s,d);let p,y;if(h.merge)p=new mn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const b of h.mergeFields){const N=pd(e,b,i);if(!d.contains(N))throw new ot(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);D0(T,N)||T.push(N)}p=new mn(T),y=d.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,y=d.fieldTransforms;return new a2(new sn(g),p,y)}class Nc extends $d{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nc}}function l2(r,e,i,s){const o=r.Cc(1,e,i);tm("Data must be an object, but it was:",o,s);const h=[],d=sn.empty();Va(s,((p,y)=>{const T=em(e,p,i);y=ui(y);const b=o.yc(T);if(y instanceof Nc)h.push(T);else{const N=_o(y,b);N!=null&&(h.push(T),d.set(T,N))}}));const g=new mn(h);return new R0(d,g,o.fieldTransforms)}function o2(r,e,i,s,o,h){const d=r.Cc(1,e,i),g=[pd(e,s,i)],p=[o];if(h.length%2!=0)throw new ot(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(pd(e,h[N])),p.push(h[N+1]);const y=[],T=sn.empty();for(let N=g.length-1;N>=0;--N)if(!D0(y,g[N])){const q=g[N];let W=p[N];W=ui(W);const nt=d.yc(q);if(W instanceof Nc)y.push(q);else{const G=_o(W,nt);G!=null&&(y.push(q),T.set(q,G))}}const b=new mn(y);return new R0(T,b,d.fieldTransforms)}function u2(r,e,i,s=!1){return _o(i,r.Cc(s?4:3,e))}function _o(r,e){if(N0(r=ui(r)))return tm("Unsupported field value:",e,r),C0(r,e);if(r instanceof $d)return(function(s,o){if(!w0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const h=[];let d=0;for(const g of s){let p=_o(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(r,e)}return(function(s,o){if((s=ui(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return KS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Zt.fromDate(s);return{timestampValue:uc(o.serializer,h)}}if(s instanceof Zt){const h=new Zt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uc(o.serializer,h)}}if(s instanceof li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Cn)return{bytesValue:Qv(o.serializer,s._byteString)};if(s instanceof Te){const h=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ld(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(d,g){return{mapValue:{fields:{[Ev]:{stringValue:Tv},[ac]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Vd(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${mc(s)}`)})(r,e)}function C0(r,e){const i={};return mv(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Va(r,((s,o)=>{const h=_o(o,e.mc(s));h!=null&&(i[s]=h)})),{mapValue:{fields:i}}}function N0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Zt||r instanceof li||r instanceof Cn||r instanceof Te||r instanceof $d||r instanceof oi)}function tm(r,e,i){if(!N0(i)||!fv(i)){const s=mc(i);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function pd(r,e,i){if((e=ui(e))instanceof Cc)return e._internalPath;if(typeof e=="string")return em(r,e);throw dc("Field path arguments must be of type string or ",r,!1,void 0,i)}const c2=new RegExp("[~\\*/\\[\\]]");function em(r,e,i){if(e.search(c2)>=0)throw dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Cc(...e.split("."))._internalPath}catch{throw dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function dc(r,e,i,s,o){const h=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ot(X.INVALID_ARGUMENT,g+r+p)}function D0(r,e){return r.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,i,s,o,h){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new h2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class h2 extends I0{data(){return super.data()}}function nm(r,e){return typeof e=="string"?em(r,e):e instanceof Cc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class im{}class f2 extends im{}function Ui(r,e,...i){let s=[];e instanceof im&&s.push(e),s=s.concat(i),(function(h){const d=h.filter((p=>p instanceof am)).length,g=h.filter((p=>p instanceof Dc)).length;if(d>1||d>0&&g>0)throw new ot(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Dc extends f2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Dc(e,i,s)}_apply(e){const i=this._parse(e);return V0(e._query,i),new Ns(e.firestore,e.converter,ad(e._query,i))}_parse(e){const i=Wd(e.firestore);return(function(h,d,g,p,y,T,b){let N;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ot(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){k_(b,T);const W=[];for(const nt of b)W.push(B_(p,h,nt));N={arrayValue:{values:W}}}else N=B_(p,h,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||k_(b,T),N=u2(g,d,b,T==="in"||T==="not-in");return ve.create(y,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(r,e,i){const s=e,o=nm("where",r);return Dc._create(o,s,i)}class am extends im{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new am(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const p of g)V0(d,p),d=ad(d,p)})(e._query,i),new Ns(e.firestore,e.converter,ad(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function B_(r,e,i){if(typeof(i=ui(i))=="string"){if(i==="")throw new ot(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dv(e)&&i.indexOf("/")!==-1)throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(s))throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return n_(r,new gt(s))}if(i instanceof Te)return n_(r,i._key);throw new ot(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${mc(i)}.`)}function k_(r,e){if(!Array.isArray(r)||r.length===0)throw new ot(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V0(r,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class d2{convertValue(e,i="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Va(e,((o,h)=>{s[o]=this.convertValue(h,i)})),s}convertVectorValue(e){const i=e.fields?.[ac].arrayValue?.values?.map((s=>ge(s.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=yc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ro(e));default:return null}}convertTimestamp(e){const i=Ca(e);return new Zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Wt.fromString(e);Bt($v(s),9688,{name:e});const o=new lo(s.get(1),s.get(3)),h=new gt(s.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class $l{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends I0{constructor(e,i,s,o,h,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(nm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Ee("string",vs._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Ku extends vs{data(e={}){return super.data(e)}}class Es{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new Ku(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new Ku(o._firestore,o._userDataWriter,g.doc.key,g.doc,new $l(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:g2(g.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Es._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),s.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function g2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:Ee("string",Es._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class sm extends d2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Te(this.firestore,null,i)}}function Rs(r){r=ai(r,Ns);const e=ai(r.firestore,As),i=Zd(e),s=new sm(e);return M0(r._query),JA(i,r._query).then((o=>new Es(e,s,r,o)))}function Ic(r,e,i,...s){r=ai(r,Te);const o=ai(r.firestore,As),h=Wd(o);let d;return d=typeof(e=ui(e))=="string"||e instanceof Cc?o2(h,"updateDoc",r._key,e,i,s):l2(h,"updateDoc",r._key,e),rm(o,[d.toMutation(r._key,jn.exists(!0))])}function yd(r){return rm(ai(r.firestore,As),[new Od(r._key,jn.none())])}function O0(r,e){const i=ai(r.firestore,As),s=t2(r),o=m2(r.converter,e);return rm(i,[r2(Wd(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,jn.exists(!1))]).then((()=>s))}function x0(r,...e){r=ui(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||j_(e[s])||(i=e[s++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(j_(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let h,d,g;if(r instanceof Te)d=ai(r.firestore,As),g=Md(r._key.path),h={next:p=>{e[s]&&e[s](p2(d,r,p))},error:e[s+1],complete:e[s+2]};else{const p=ai(r,Ns);d=ai(p.firestore,As),g=p._query;const y=new sm(d);h={next:T=>{e[s]&&e[s](new Es(d,y,p,T))},error:e[s+1],complete:e[s+2]},M0(r._query)}return(function(y,T,b,N){const q=new T0(N),W=new f0(T,q,b);return y.asyncQueue.enqueueAndForget((async()=>c0(await gd(y),W))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>h0(await gd(y),W)))}})(Zd(d),g,o,h)}function rm(r,e){return(function(s,o){const h=new Aa;return s.asyncQueue.enqueueAndForget((async()=>BA(await $A(s),o,h))),h.promise})(Zd(r),e)}function p2(r,e,i){const s=i.docs.get(e._key),o=new sm(r);return new vs(r,o,e._key,s,new $l(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){xr=o})(Y1),ec(new io("firestore",((s,{instanceIdentifier:o,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new As(new lS(s.getProvider("auth-internal")),new cS(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lo(y.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Rr(Hy,Gy,e),Rr(Hy,Gy,"esm2020")})();var y2="firebase",_2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr(y2,_2,"app");const v2={apiKey:"AIzaSyAxeBAxKalFCIl6Buut5y5eG7Kee47mENs",authDomain:"chem-card-game.firebaseapp.com",projectId:"chem-card-game",storageBucket:"chem-card-game.firebasestorage.app",messagingSenderId:"484362725443",appId:"1:484362725443:web:3274afc3c009e271b8ccf6",measurementId:"G-099MXETX8X"},E2=v2,T2=tv(E2),qn=e2(T2);function Zu(r){return Math.ceil(r.atomicMass/100)}const lm=[{name:"Hydrogen",atomicNumber:1,atomicSymbol:"H",atomicMass:1.007,family:"Nonmetal",positiveIon:1,negativeIon:1},{name:"Helium",atomicNumber:2,atomicSymbol:"He",atomicMass:4.002,family:"Noble Gas"},{name:"Lithium",atomicNumber:3,atomicSymbol:"Li",atomicMass:6.941,family:"Alkali Metal",positiveIon:1},{name:"Beryllium",atomicNumber:4,atomicSymbol:"Be",atomicMass:9.012,family:"Alkaline Earth Metal",positiveIon:2},{name:"Boron",atomicNumber:5,atomicSymbol:"B",atomicMass:10.811,family:"Metalloid"},{name:"Carbon",atomicNumber:6,atomicSymbol:"C",atomicMass:12.011,family:"Nonmetal"},{name:"Nitrogen",atomicNumber:7,atomicSymbol:"N",atomicMass:14.007,family:"Nonmetal",negativeIon:3},{name:"Oxygen",atomicNumber:8,atomicSymbol:"O",atomicMass:15.999,family:"Nonmetal",negativeIon:2},{name:"Fluorine",atomicNumber:9,atomicSymbol:"F",atomicMass:18.998,family:"Halogen",negativeIon:1},{name:"Neon",atomicNumber:10,atomicSymbol:"Ne",atomicMass:20.18,family:"Noble Gas"},{name:"Sodium",atomicNumber:11,atomicSymbol:"Na",atomicMass:22.99,family:"Alkali Metal",positiveIon:1},{name:"Magnesium",atomicNumber:12,atomicSymbol:"Mg",atomicMass:24.305,family:"Alkaline Earth Metal",positiveIon:2},{name:"Aluminum",atomicNumber:13,atomicSymbol:"Al",atomicMass:26.982,family:"Metal",positiveIon:3},{name:"Silicon",atomicNumber:14,atomicSymbol:"Si",atomicMass:28.086,family:"Metalloid"},{name:"Phosphorus",atomicNumber:15,atomicSymbol:"P",atomicMass:30.974,family:"Nonmetal",negativeIon:3},{name:"Sulfur",atomicNumber:16,atomicSymbol:"S",atomicMass:32.065,family:"Nonmetal",negativeIon:2},{name:"Chlorine",atomicNumber:17,atomicSymbol:"Cl",atomicMass:35.453,family:"Halogen",negativeIon:1},{name:"Argon",atomicNumber:18,atomicSymbol:"Ar",atomicMass:39.948,family:"Noble Gas"},{name:"Potassium",atomicNumber:19,atomicSymbol:"K",atomicMass:39.098,family:"Alkali Metal",positiveIon:1},{name:"Calcium",atomicNumber:20,atomicSymbol:"Ca",atomicMass:40.078,family:"Alkaline Earth Metal",positiveIon:2},{name:"Scandium",atomicNumber:21,atomicSymbol:"Sc",atomicMass:44.956,family:"Transition Metal",positiveIon:3},{name:"Titanium",atomicNumber:22,atomicSymbol:"Ti",atomicMass:47.867,family:"Transition Metal"},{name:"Vanadium",atomicNumber:23,atomicSymbol:"V",atomicMass:50.942,family:"Transition Metal"},{name:"Chromium",atomicNumber:24,atomicSymbol:"Cr",atomicMass:51.996,family:"Transition Metal"},{name:"Manganese",atomicNumber:25,atomicSymbol:"Mn",atomicMass:54.938,family:"Transition Metal"},{name:"Iron",atomicNumber:26,atomicSymbol:"Fe",atomicMass:55.845,family:"Transition Metal"},{name:"Cobalt",atomicNumber:27,atomicSymbol:"Co",atomicMass:58.933,family:"Transition Metal"},{name:"Nickel",atomicNumber:28,atomicSymbol:"Ni",atomicMass:58.693,family:"Transition Metal"},{name:"Copper",atomicNumber:29,atomicSymbol:"Cu",atomicMass:63.546,family:"Transition Metal"},{name:"Zinc",atomicNumber:30,atomicSymbol:"Zn",atomicMass:65.38,family:"Transition Metal"},{name:"Gallium",atomicNumber:31,atomicSymbol:"Ga",atomicMass:69.723,family:"Metal"},{name:"Germanium",atomicNumber:32,atomicSymbol:"Ge",atomicMass:72.64,family:"Metalloid"},{name:"Arsenic",atomicNumber:33,atomicSymbol:"As",atomicMass:74.922,family:"Metalloid",negativeIon:3},{name:"Selenium",atomicNumber:34,atomicSymbol:"Se",atomicMass:78.96,family:"Nonmetal",negativeIon:2},{name:"Bromine",atomicNumber:35,atomicSymbol:"Br",atomicMass:79.904,family:"Halogen",negativeIon:1},{name:"Krypton",atomicNumber:36,atomicSymbol:"Kr",atomicMass:83.798,family:"Noble Gas"},{name:"Rubidium",atomicNumber:37,atomicSymbol:"Rb",atomicMass:85.468,family:"Alkali Metal",positiveIon:1},{name:"Strontium",atomicNumber:38,atomicSymbol:"Sr",atomicMass:87.62,family:"Alkaline Earth Metal",positiveIon:2},{name:"Yttrium",atomicNumber:39,atomicSymbol:"Y",atomicMass:88.906,family:"Transition Metal",positiveIon:3},{name:"Zirconium",atomicNumber:40,atomicSymbol:"Zr",atomicMass:91.224,family:"Transition Metal"},{name:"Niobium",atomicNumber:41,atomicSymbol:"Nb",atomicMass:92.906,family:"Transition Metal"},{name:"Molybdenum",atomicNumber:42,atomicSymbol:"Mo",atomicMass:95.96,family:"Transition Metal"},{name:"Technetium",atomicNumber:43,atomicSymbol:"Tc",atomicMass:98,radioactive:!0,family:"Transition Metal"},{name:"Ruthenium",atomicNumber:44,atomicSymbol:"Ru",atomicMass:101.07,family:"Transition Metal"},{name:"Rhodium",atomicNumber:45,atomicSymbol:"Rh",atomicMass:102.906,family:"Transition Metal"},{name:"Palladium",atomicNumber:46,atomicSymbol:"Pd",atomicMass:106.42,family:"Transition Metal"},{name:"Silver",atomicNumber:47,atomicSymbol:"Ag",atomicMass:107.868,family:"Transition Metal"},{name:"Cadmium",atomicNumber:48,atomicSymbol:"Cd",atomicMass:112.411,family:"Transition Metal"},{name:"Indium",atomicNumber:49,atomicSymbol:"In",atomicMass:114.818,family:"Metal"},{name:"Tin",atomicNumber:50,atomicSymbol:"Sn",atomicMass:118.71,family:"Metal"},{name:"Antimony",atomicNumber:51,atomicSymbol:"Sb",atomicMass:121.76,family:"Metalloid"},{name:"Tellurium",atomicNumber:52,atomicSymbol:"Te",atomicMass:127.6,family:"Metalloid",negativeIon:2},{name:"Iodine",atomicNumber:53,atomicSymbol:"I",atomicMass:126.904,family:"Halogen",negativeIon:1},{name:"Xenon",atomicNumber:54,atomicSymbol:"Xe",atomicMass:131.293,family:"Noble Gas"},{name:"Cesium",atomicNumber:55,atomicSymbol:"Cs",atomicMass:132.905,family:"Alkali Metal",positiveIon:1},{name:"Barium",atomicNumber:56,atomicSymbol:"Ba",atomicMass:137.327,family:"Alkaline Earth Metal",positiveIon:2},{name:"Lanthanum",atomicNumber:57,atomicSymbol:"La",atomicMass:138.905,family:"Lanthanide",positiveIon:3},{name:"Cerium",atomicNumber:58,atomicSymbol:"Ce",atomicMass:140.116,family:"Lanthanide"},{name:"Praseodymium",atomicNumber:59,atomicSymbol:"Pr",atomicMass:140.908,family:"Lanthanide"},{name:"Neodymium",atomicNumber:60,atomicSymbol:"Nd",atomicMass:144.242,family:"Lanthanide"},{name:"Promethium",atomicNumber:61,atomicSymbol:"Pm",atomicMass:145,radioactive:!0,family:"Lanthanide"},{name:"Samarium",atomicNumber:62,atomicSymbol:"Sm",atomicMass:150.36,family:"Lanthanide"},{name:"Europium",atomicNumber:63,atomicSymbol:"Eu",atomicMass:151.964,family:"Lanthanide"},{name:"Gadolinium",atomicNumber:64,atomicSymbol:"Gd",atomicMass:157.25,family:"Lanthanide"},{name:"Terbium",atomicNumber:65,atomicSymbol:"Tb",atomicMass:158.925,family:"Lanthanide"},{name:"Dysprosium",atomicNumber:66,atomicSymbol:"Dy",atomicMass:162.5,family:"Lanthanide"},{name:"Holmium",atomicNumber:67,atomicSymbol:"Ho",atomicMass:164.93,family:"Lanthanide"},{name:"Erbium",atomicNumber:68,atomicSymbol:"Er",atomicMass:167.259,family:"Lanthanide"},{name:"Thulium",atomicNumber:69,atomicSymbol:"Tm",atomicMass:168.934,family:"Lanthanide"},{name:"Ytterbium",atomicNumber:70,atomicSymbol:"Yb",atomicMass:173.054,family:"Lanthanide"},{name:"Lutetium",atomicNumber:71,atomicSymbol:"Lu",atomicMass:174.967,family:"Lanthanide"},{name:"Hafnium",atomicNumber:72,atomicSymbol:"Hf",atomicMass:178.49,family:"Transition Metal"},{name:"Tantalum",atomicNumber:73,atomicSymbol:"Ta",atomicMass:180.948,family:"Transition Metal"},{name:"Tungsten",atomicNumber:74,atomicSymbol:"W",atomicMass:183.84,family:"Transition Metal"},{name:"Rhenium",atomicNumber:75,atomicSymbol:"Re",atomicMass:186.207,family:"Transition Metal"},{name:"Osmium",atomicNumber:76,atomicSymbol:"Os",atomicMass:190.23,family:"Transition Metal"},{name:"Iridium",atomicNumber:77,atomicSymbol:"Ir",atomicMass:192.217,family:"Transition Metal"},{name:"Platinum",atomicNumber:78,atomicSymbol:"Pt",atomicMass:195.084,family:"Transition Metal"},{name:"Gold",atomicNumber:79,atomicSymbol:"Au",atomicMass:196.967,family:"Transition Metal"},{name:"Mercury",atomicNumber:80,atomicSymbol:"Hg",atomicMass:200.59,family:"Transition Metal"},{name:"Thallium",atomicNumber:81,atomicSymbol:"Tl",atomicMass:204.383,family:"Metal"},{name:"Lead",atomicNumber:82,atomicSymbol:"Pb",atomicMass:207.2,family:"Metal"},{name:"Bismuth",atomicNumber:83,atomicSymbol:"Bi",atomicMass:208.98,family:"Metal"},{name:"Polonium",atomicNumber:84,atomicSymbol:"Po",atomicMass:210,radioactive:!0,family:"Metalloid"},{name:"Astatine",atomicNumber:85,atomicSymbol:"At",atomicMass:210,radioactive:!0,family:"Noble Gas",negativeIon:1},{name:"Radon",atomicNumber:86,atomicSymbol:"Rn",atomicMass:222,radioactive:!0,family:"Alkali Metal"},{name:"Francium",atomicNumber:87,atomicSymbol:"Fr",atomicMass:223,radioactive:!0,family:"Alkaline Earth Metal",positiveIon:1},{name:"Radium",atomicNumber:88,atomicSymbol:"Ra",atomicMass:226,radioactive:!0,family:"Actinide",positiveIon:2},{name:"Actinium",atomicNumber:89,atomicSymbol:"Ac",atomicMass:227,radioactive:!0,family:"Actinide",positiveIon:3},{name:"Thorium",atomicNumber:90,atomicSymbol:"Th",atomicMass:232.038,radioactive:!0,family:"Actinide"},{name:"Protactinium",atomicNumber:91,atomicSymbol:"Pa",atomicMass:231.036,radioactive:!0,family:"Actinide"},{name:"Uranium",atomicNumber:92,atomicSymbol:"U",atomicMass:238.029,radioactive:!0,family:"Actinide"},{name:"Neptunium",atomicNumber:93,atomicSymbol:"Np",atomicMass:237,radioactive:!0,family:"Actinide"},{name:"Plutonium",atomicNumber:94,atomicSymbol:"Pu",atomicMass:244,radioactive:!0,family:"Actinide"},{name:"Americium",atomicNumber:95,atomicSymbol:"Am",atomicMass:243,radioactive:!0,family:"Actinide"},{name:"Curium",atomicNumber:96,atomicSymbol:"Cm",atomicMass:247,radioactive:!0,family:"Actinide"},{name:"Berkelium",atomicNumber:97,atomicSymbol:"Bk",atomicMass:247,radioactive:!0,family:"Actinide"},{name:"Californium",atomicNumber:98,atomicSymbol:"Cf",atomicMass:251,radioactive:!0,family:"Actinide"},{name:"Einsteinium",atomicNumber:99,atomicSymbol:"Es",atomicMass:252,radioactive:!0,family:"Actinide"},{name:"Fermium",atomicNumber:100,atomicSymbol:"Fm",atomicMass:257,radioactive:!0,family:"Actinide"},{name:"Mendelevium",atomicNumber:101,atomicSymbol:"Md",atomicMass:258,radioactive:!0,family:"Actinide"},{name:"Nobelium",atomicNumber:102,atomicSymbol:"No",atomicMass:259,radioactive:!0,family:"Actinide"},{name:"Lawrencium",atomicNumber:103,atomicSymbol:"Lr",atomicMass:262,radioactive:!0,family:"Actinide"}];function Ar(r){return lm.find(e=>e.atomicNumber===r)}function Ts(r){return r.map(e=>Ar(e)).filter(e=>e!==void 0)}function S2(r){const e=[...r];for(let i=e.length-1;i>0;i--){const s=Math.floor(Math.random()*(i+1));[e[i],e[s]]=[e[s],e[i]]}return e}function U0(r){return{2:{deckSize:36,handSize:15},3:{deckSize:54,handSize:15},4:{deckSize:54,handSize:13},5:{deckSize:54,handSize:10},6:{deckSize:86,handSize:14},7:{deckSize:103,handSize:14},8:{deckSize:103,handSize:12},9:{deckSize:103,handSize:11},10:{deckSize:103,handSize:10}}[r]||{deckSize:103,handSize:10}}function b2(r){const{deckSize:e,handSize:i}=U0(r),s=lm.filter(d=>d.atomicNumber<=e),o=S2([...s]),h=[];for(let d=0;d<r;d++){const g=d*i,p=g+i;h.push(o.slice(g,p).map(y=>y.atomicNumber))}return h}function A2(r){if(r.length===0)return 0;const e=[...r].sort((h,d)=>h-d);let i=1,s=1;for(let h=1;h<e.length;h++)e[h]===e[h-1]+1?(s++,i=Math.max(i,s)):s=1;const o=Math.min(Math.max(i,2),4);return o*o}function R2(r,e,i){const s=Ts(r),o=Ts(e),h=Ts(i),d=s.reduce((T,b)=>T+Zu(b),0),g=o.reduce((T,b)=>T+Zu(b),0),p=h.reduce((T,b)=>T+Zu(b),0);let y=0;return d>g&&(y+=2),d<g&&(y-=2),d>p&&(y+=2),d<p&&(y-=2),y}function w2(r,e){const s=Ts(r).map(o=>o.atomicSymbol);return L0(s,e)}function L0(r,e){return e.length===0?!0:r.some(i=>e.toLowerCase().startsWith(i.toLowerCase())&&L0(r.filter(s=>s!==i),e.slice(i.length)))}function C2(r){const i=Ts(r).filter(s=>s.radioactive).length;return i>=2?7:i===1?-3:0}function N2(r){const e=Ts(r),i={},s={};for(const h of e)h.positiveIon&&(i[h.positiveIon]=(i[h.positiveIon]||0)+1),h.negativeIon&&(s[h.negativeIon]=(s[h.negativeIon]||0)+1);let o=0;for(const h of Object.keys(i)){const d=Number.parseInt(h),g=Math.min(i[d],s[d]||0);o+=g*5}return o}function D2(r){const e=Ts(r),i={};for(const p of e)i[p.family]=(i[p.family]||0)+1;const s=Object.keys(i).length,o=Math.max(...Object.values(i)),h=Math.max(s,o),d=Math.min(h,6);return{1:0,2:1,3:3,4:6,5:10,6:15}[d]||0}function I2(r,e){if(e.length===0)return 0;const i=e.reduce((d,g)=>(d[g.round]||(d[g.round]=[]),d[g.round].push(g),d),{}),s=Object.keys(i).map(Number).sort((d,g)=>d-g),o=[8,5,2];let h=0;for(const d of s){const g=i[d],p=o[h]||0;if(g.some(y=>y.playerId===r))return p;h+=g.length}return 0}function M2(r,e,i,s=0,o=!0){const h=A2(r),d=R2(r,e,i),g=s,p=o?C2(r):0,y=N2(r),T=D2(r),b=h+d+g+p+y+T;return{atomicNumber:h,atomicMass:d,atomicSymbol:g,radioactivity:p,ionization:y,family:T,total:b}}function V2(){return Math.random().toString(36).substring(2,8).toUpperCase()}class O2{metrics={lobbiesCreated:0,gamesStarted:0,playersJoined:0,lastReset:Date.now()};RESET_INTERVAL=3600*1e3;ALERT_THRESHOLDS={lobbiesCreated:100,gamesStarted:50,playersJoined:200};track(e){this.resetIfNeeded(),this.metrics[e]++,this.checkThresholds()}resetIfNeeded(){const e=Date.now();e-this.metrics.lastReset>this.RESET_INTERVAL&&(this.metrics={lobbiesCreated:0,gamesStarted:0,playersJoined:0,lastReset:e})}checkThresholds(){for(const[e,i]of Object.entries(this.ALERT_THRESHOLDS)){const s=this.metrics[e];s>=i&&(console.warn(`🚨 USAGE ALERT: ${e} has reached ${s} (threshold: ${i})`),console.warn("This could indicate abuse or unusual traffic patterns."))}}getMetrics(){return this.resetIfNeeded(),{...this.metrics,timeRemaining:this.RESET_INTERVAL-(Date.now()-this.metrics.lastReset)}}isSuspicious(){return this.resetIfNeeded(),[this.metrics.lobbiesCreated>20&&this.metrics.gamesStarted<5,this.metrics.playersJoined>50&&this.metrics.gamesStarted<10,this.metrics.lobbiesCreated>50||this.metrics.playersJoined>100].some(i=>i)}}const Yl=new O2,om={lobbyCreated:()=>Yl.track("lobbiesCreated"),gameStarted:()=>Yl.track("gamesStarted"),playerJoined:()=>Yl.track("playersJoined"),getStatus:()=>({metrics:Yl.getMetrics(),suspicious:Yl.isSuspicious()})},vo="games",zr="lobbies";async function _d(){const r=Date.now()-72e5;try{const e=Ui(kn(qn,zr),Li("createdAt","<",r)),s=(await Rs(e)).docs.map(g=>yd(g.ref));await Promise.all(s);const o=Ui(kn(qn,vo),Li("createdAt","<",r)),d=(await Rs(o)).docs.map(g=>yd(g.ref));await Promise.all(d)}catch(e){console.warn("Failed to cleanup old games:",e)}}async function x2(){await _d();const r=V2(),e=Math.random().toString(36).substring(2,15),i=Zt.fromDate(new Date(Date.now()+7200*1e3)),s={id:r,players:[{id:e,name:"Player 1",isHost:!0}],hostId:e,createdAt:Date.now(),ttl:i};return await O0(kn(qn,zr),s),om.lobbyCreated(),{gameId:r,playerId:e}}async function U2(r){const e=Ui(kn(qn,zr),Li("id","==",r)),i=await Rs(e);if(i.empty)return{success:!1};const s=i.docs[0],o=s.data(),h=Math.random().toString(36).substring(2,15),d=o.players.length+1,g={id:h,name:`Player ${d}`,isHost:!1};return await Ic(s.ref,{players:[...o.players,g]}),om.playerJoined(),{success:!0,playerId:h}}async function L2(r,e,i){if(!i||i.length>50)throw new Error("Player name must be between 1 and 50 characters");const s=Ui(kn(qn,zr),Li("id","==",r)),o=await Rs(s);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(y=>y.id===e);if(g===-1)return!1;const p=[...d.players];return p[g]={...p[g],name:i},await Ic(h.ref,{players:p}),!0}async function P2(r){const e=Ui(kn(qn,zr),Li("id","==",r)),i=await Rs(e);if(i.empty)return!1;const s=i.docs[0],o=s.data();if(o.players.length<2)return!1;const h=b2(o.players.length),d=h[0].length,g=Zt.fromDate(new Date(Date.now()+7200*1e3)),p={id:r,phase:"drafting",players:o.players.map((y,T)=>({...y,draftedCards:[],hand:h[T]})),deck:[...lm],currentRound:1,totalRounds:d,wordSpellingWinners:[],createdAt:Date.now(),hostId:o.hostId,ttl:g};return await O0(kn(qn,vo),p),await yd(s.ref),om.gameStarted(),!0}function vd(r,e){const i=Ui(kn(qn,zr),Li("id","==",r));return x0(i,s=>{if(s.empty){e(null);return}const o=s.docs[0].data();e(o)})}function Ff(r,e){const i=Ui(kn(qn,vo),Li("id","==",r));return x0(i,s=>{if(s.empty){e(null);return}const o=s.docs[0].data();e(o)})}async function z2(r,e,i){const s=Ui(kn(qn,vo),Li("id","==",r)),o=await Rs(s);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(st=>st.id===e);if(g===-1)return!1;const p=d.players[g];if(i<0||i>=p.hand.length)return!1;const y=p.hand[i],T=p.hand.filter((st,rt)=>rt!==i),b=[...p.draftedCards,y],N=[...d.players];N[g]={...p,hand:T,draftedCards:b};const q=Math.max(...N.map(st=>st.hand.length)),W=Math.min(...N.map(st=>st.hand.length)),nt=q===W;let G={...d,players:N};if(nt)if(N.every(rt=>rt.hand.length===0))G={...G,phase:"scoring"};else{const rt=N.map(ft=>ft.hand),tt=N.map((ft,$)=>{const ht=($+1)%N.length;return{...ft,hand:rt[ht]}});G={...G,players:tt,currentRound:d.currentRound+1}}return await Ic(h.ref,G),!0}async function j2(r,e,i){if(!i||i.length!==5||!/^[A-Za-z]+$/.test(i))throw new Error("Word must be exactly 5 letters and contain only alphabetic characters");const s=Ui(kn(qn,vo),Li("id","==",r)),o=await Rs(s);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.find(T=>T.id===e);if(!g||d.wordSpellingWinners.some(T=>T.playerId===e)||i.length!==5)return!1;const p=g.draftedCards.slice(0,d.currentRound-1);if(!w2(p,i))return!1;const y=[...d.wordSpellingWinners,{playerId:e,round:d.currentRound}];return await Ic(h.ref,{wordSpellingWinners:y}),!0}function P0(){return new URLSearchParams(window.location.search).get("gameId")}function B2(){return new URLSearchParams(window.location.search).get("playerId")}function q_(r){const e=new URL(window.location.href);e.searchParams.set("gameId",r),window.history.replaceState({},"",e.toString())}function H_(r){const e=new URL(window.location.href);e.searchParams.set("playerId",r),window.history.replaceState({},"",e.toString())}function k2(r){const e=new URL(window.location.href);return e.searchParams.set("gameId",r),e.searchParams.delete("playerId"),e.toString()}function G_(){const r=new URL(window.location.href);r.search="",window.history.replaceState({},"",r.toString())}const q2=({onJoinLobby:r})=>{const[e,i]=zt.useState(""),[s,o]=zt.useState(!1),[h,d]=zt.useState(!1),[g,p]=zt.useState("");zt.useEffect(()=>{const b=P0();b&&i(b)},[]);const y=async()=>{o(!0),p("");try{const{gameId:b,playerId:N}=await x2();q_(b),H_(N),r(b,N,!0,"Player 1")}catch{p("Failed to create game. Please try again."),o(!1)}},T=async()=>{if(!e.trim()){p("Please enter a game ID");return}d(!0),p("");try{const b=await U2(e.trim().toUpperCase());b.success&&b.playerId?(q_(e.trim().toUpperCase()),H_(b.playerId),r(e.trim().toUpperCase(),b.playerId,!1,"")):(p("Game not found. Please check the game ID."),d(!1))}catch{p("Failed to join game. Please try again."),d(!1)}};return j.jsxs("div",{className:"game-setup",children:[j.jsxs("div",{className:"setup-header",children:[j.jsx("h1",{children:"Chemistry Card Game"}),j.jsx("p",{children:"Create a new game or join an existing one"})]}),j.jsxs("div",{className:"setup-form",children:[j.jsxs("div",{className:"setup-actions",children:[j.jsxs("div",{className:"create-section",children:[j.jsx("h3",{children:"Start New Game"}),j.jsx("button",{type:"button",onClick:y,disabled:s||h,className:"create-btn",children:s?"Creating...":"Create Game"})]}),j.jsxs("div",{className:"join-section",children:[j.jsx("h3",{children:"Join Existing Game"}),j.jsxs("div",{className:"input-group",children:[j.jsx("label",{htmlFor:"gameId",children:"Game ID:"}),j.jsx("input",{id:"gameId",type:"text",value:e,onChange:b=>i(b.target.value.toUpperCase()),placeholder:"Enter game ID",maxLength:6})]}),j.jsx("button",{type:"button",onClick:T,disabled:s||h,className:"join-btn",children:h?"Joining...":"Join Game"})]})]}),g&&j.jsx("div",{className:"error-message",children:g})]})]})},H2="chem-card-game-player-name",z0="chem-card-game-state";function G2(r){localStorage.setItem(H2,r)}function Q_(r){localStorage.setItem(z0,JSON.stringify(r))}function F_(){localStorage.removeItem(z0)}const Q2=({gameId:r,playerId:e,isHost:i,playerName:s,onGameStart:o,onPlayerNameChange:h})=>{const[d,g]=zt.useState(null),[p,y]=zt.useState(!1),[T,b]=zt.useState(!1),[N,q]=zt.useState(s),[W,nt]=zt.useState(!1);zt.useEffect(()=>vd(r,ht=>{if(g(ht),ht&&typeof ht!="function"&&"players"in ht&&Array.isArray(ht.players)){const I=ht.players.find(A=>A.id===e);I&&I.name!==s&&h(I.name)}}),[r,e,s,h]),zt.useEffect(()=>{q(s)},[s]);const G=async()=>{if(!i||!d||d.players.length<2)return;y(!0),await P2(r)?o():(y(!1),alert("Failed to start game. Please try again."))},st=()=>{b(!0)},rt=async()=>{if(N.trim()){const $=N.trim();await L2(r,e,$)?(G2($),h($),b(!1)):alert("Failed to update name. Please try again.")}},tt=()=>{q(s),b(!1)},ft=async()=>{const $=k2(r);try{await navigator.clipboard.writeText($),nt(!0),setTimeout(()=>nt(!1),2e3)}catch{const ht=document.createElement("textarea");ht.value=$,document.body.appendChild(ht),ht.select(),document.execCommand("copy"),document.body.removeChild(ht),nt(!0),setTimeout(()=>nt(!1),2e3)}};return d?j.jsxs("div",{className:"lobby-container",children:[j.jsxs("div",{className:"lobby-header",children:[j.jsx("h2",{children:"Game Lobby"}),j.jsxs("div",{className:"game-id",children:["Game ID: ",j.jsx("strong",{children:r})]}),j.jsx("button",{type:"button",onClick:ft,className:"copy-url-btn",children:W?"✓ Copied!":"📋 Copy Game Link"})]}),j.jsxs("div",{className:"player-name-section",children:[j.jsx("h3",{children:"Your Name:"}),T?j.jsxs("div",{className:"name-edit",children:[j.jsx("input",{type:"text",value:N,onChange:$=>q($.target.value),onKeyDown:$=>{$.key==="Enter"&&rt(),$.key==="Escape"&&tt()},maxLength:20}),j.jsx("button",{type:"button",onClick:rt,className:"save-btn",children:"Save"}),j.jsx("button",{type:"button",onClick:tt,className:"cancel-btn",children:"Cancel"})]}):j.jsxs("div",{className:"name-display",children:[j.jsx("span",{className:"current-name",children:s}),j.jsx("button",{type:"button",onClick:st,className:"edit-btn",children:"✏️"})]})]}),j.jsxs("div",{className:"players-list",children:[j.jsxs("h3",{children:["Players (",d.players.length,")"]}),j.jsx("div",{className:"players",children:d.players.map($=>j.jsxs("div",{className:`player ${$.isHost?"host":""} ${$.id===e?"current":""}`,children:[j.jsx("span",{className:"player-name",children:$.name}),$.isHost&&j.jsx("span",{className:"host-badge",children:"Host"}),$.id===e&&j.jsx("span",{className:"you-badge",children:"You"})]},$.id))})]}),i&&j.jsxs("div",{className:"lobby-actions",children:[j.jsx("button",{type:"button",onClick:G,disabled:d.players.length<2||p,className:"start-game-btn",children:p?"Starting Game...":"Start Game"}),j.jsx("p",{className:"start-hint",children:d.players.length<2?"Waiting for at least one more player...":"Ready to start!"})]}),!i&&j.jsx("div",{className:"waiting-message",children:j.jsx("p",{children:"Waiting for the host to start the game..."})})]}):j.jsx("div",{className:"lobby-container",children:j.jsx("div",{className:"loading",children:"Loading lobby..."})})},$u=({element:r,onClick:e,isSelected:i=!1,isDisabled:s=!1})=>{const o=(p,y)=>`/assets/${p}-${y}.png`,h=p=>p.toLowerCase().replaceAll(" ","-"),d=(p,y)=>{if(!p)return null;const T=y==="positive"?"➕":"➖";return new Array(p).fill(0).map((b,N)=>j.jsx("span",{children:T},N))},g=p=>new Array(p).fill(0).map((y,T)=>j.jsx("span",{className:"mass-symbol",children:j.jsx("img",{src:"/assets/weight-icon.svg",alt:"Weight"})},T));return j.jsxs("button",{type:"button",className:`card ${h(r.family)} ${i?"selected":""} ${s?"disabled":""}`,onClick:s?void 0:e,disabled:s,children:[j.jsx("div",{className:"name",children:r.name}),j.jsx("div",{className:"family",children:r.family}),j.jsx("div",{className:"cartoon",children:j.jsx("img",{src:o(r.atomicNumber,r.name),alt:r.name,onError:p=>{p.currentTarget.style.display="none"}})}),j.jsx("div",{className:"ion negative",children:d(r.negativeIon||0,"negative")}),j.jsx("div",{className:"ion positive",children:d(r.positiveIon||0,"positive")}),j.jsx("div",{className:"mass",children:g(Zu(r))}),j.jsx("div",{className:"number",children:r.atomicNumber}),j.jsx("div",{className:"symbol",children:r.atomicSymbol}),r.radioactive&&j.jsx("div",{className:"radioactive-indicator",children:"☢️"})]})},F2=({className:r=""})=>j.jsx("div",{className:`face-down-card ${r}`,children:j.jsx("div",{className:"question-mark",children:"?"})}),Y2=({game:r,currentPlayerId:e})=>{const[i,s]=zt.useState(null),[o,h]=zt.useState(!1),[d,g]=zt.useState(""),[p,y]=zt.useState(!1),[T,b]=zt.useState("");zt.useEffect(()=>{h(!1),s(null)},[r.currentRound]);const N=r.players.find(G=>G.id===e);if(!N)return j.jsx("div",{children:"Player not found"});const q=G=>{s(G)},W=async()=>{if(i===null)return;h(!0),await z2(r.id,e,i)||(alert("Failed to submit selection. Please try again."),h(!1))},nt=async G=>{if(G.preventDefault(),d.length===5&&!p){y(!0),b("");try{await j2(r.id,e,d)?g(""):b("Cannot spell this word with your drafted cards, or you have already submitted a word.")}catch(st){b("Failed to submit word. Please try again."),console.error("Word submission error:",st)}finally{y(!1)}}};return j.jsxs("div",{className:"drafting-phase",children:[j.jsxs("div",{className:"drafting-header",children:[j.jsx("h2",{children:"Drafting Phase"}),j.jsxs("div",{className:"round-info",children:["Round ",r.currentRound," of ",r.totalRounds]})]}),j.jsxs("div",{className:"drafting-content",children:[j.jsxs("div",{className:"hand-section",children:[j.jsx("h3",{children:"Your Hand - Select a card to draft:"}),j.jsx("p",{className:"drafting-info",children:"After all players select a card, hands will be passed to the next player."}),j.jsx("div",{className:"hand",children:N.hand.map((G,st)=>({atomicNumber:G,originalIndex:st})).sort((G,st)=>G.atomicNumber-st.atomicNumber).map(({atomicNumber:G,originalIndex:st})=>{const rt=Ar(G);return rt?j.jsx($u,{element:rt,onClick:()=>q(st),isSelected:i===st,isDisabled:o},`${G}-${st}`):null})}),i!==null&&j.jsx("div",{className:"selection-actions",children:j.jsx("button",{type:"button",onClick:W,disabled:o,className:"submit-selection-btn",children:o?"Waiting for others...":"Draft This Card"})})]}),j.jsxs("div",{className:"drafted-cards-section",children:[j.jsx("h3",{children:"All Players' Drafted Cards:"}),r.players.sort((G,st)=>G.id===e?-1:st.id===e?1:G.name.localeCompare(st.name)).map(G=>{const st=G.draftedCards.slice(0,r.currentRound-1),rt=G.draftedCards.slice(r.currentRound-1),tt=st.map($=>Ar($)).filter($=>$!==void 0),ft=rt.map($=>Ar($)).filter($=>$!==void 0);return j.jsxs("div",{className:"player-drafted-cards",children:[j.jsxs("h4",{className:`player-name ${G.id===e?"current-player":""}`,children:[G.name,G.id===e&&" (You)"]}),(tt.length>0||ft.length>0)&&j.jsx("div",{className:"card-group",children:j.jsxs("div",{className:"drafted-cards",children:[tt.sort(($,ht)=>$.atomicNumber-ht.atomicNumber).map(($,ht)=>j.jsx($u,{element:$},`${G.id}-revealed-${$.atomicNumber}-${ht}`)),ft.length>0&&(G.id===e?j.jsx("div",{className:"unrevealed-cards",children:ft.sort(($,ht)=>$.atomicNumber-ht.atomicNumber).map(($,ht)=>j.jsx($u,{element:$},`${G.id}-unrevealed-${$.atomicNumber}-${ht}`))}):Array.from({length:ft.length}).map(($,ht)=>j.jsx(F2,{},`${G.id}-facedown-${ht}`)))]})}),G.draftedCards.length===0&&j.jsx("div",{className:"no-cards",children:"No cards drafted yet"})]},G.id)})]}),j.jsxs("div",{className:"word-spelling-section",children:[j.jsx("h3",{children:"Word Spelling Bonus"}),(()=>{const rt=N.draftedCards.slice(0,r.currentRound-1).map(tt=>Ar(tt)).filter(tt=>tt!==void 0).map(tt=>tt.atomicSymbol.length).reduce((tt,ft)=>tt+ft,0)>=5;return j.jsx(j.Fragment,{children:rt&&r.wordSpellingWinners.length<3&&!r.wordSpellingWinners.some(tt=>tt.playerId===e)&&j.jsxs("form",{onSubmit:nt,className:"word-form",children:[j.jsx("label",{htmlFor:"wordInput",children:"Try to spell a 5-letter word with your revealed cards:"}),j.jsxs("div",{className:"word-input-group",children:[j.jsx("input",{id:"wordInput",type:"text",value:d,onChange:tt=>g(tt.target.value.toUpperCase()),placeholder:"Enter 5-letter word",maxLength:5,disabled:p}),j.jsx("button",{type:"submit",disabled:d.length!==5||p,children:p?"Checking...":"Submit Word"})]}),T&&j.jsx("div",{className:"word-error",children:T})]})})})(),r.wordSpellingWinners.some(G=>G.playerId===e)&&j.jsx("div",{className:"word-success",children:"✓ You have successfully submitted a word and earned points!"}),r.wordSpellingWinners.length>=3&&!r.wordSpellingWinners.some(G=>G.playerId===e)&&j.jsx("div",{className:"word-info",children:"All word spelling spots have been taken."}),r.wordSpellingWinners.length>0&&j.jsxs("div",{className:"word-winners",children:[j.jsx("h4",{children:"Word Spelling Winners:"}),(()=>{const G=r.wordSpellingWinners.reduce((ft,$)=>(ft[$.round]||(ft[$.round]=[]),ft[$.round].push($),ft),{}),st=Object.keys(G).map(Number).sort((ft,$)=>ft-$),rt=[8,5,2];let tt=0;return st.flatMap(ft=>{const $=G[ft],ht=rt[tt]||0;return tt+=$.length,$.map(I=>{const A=r.players.find(w=>w.id===I.playerId);return j.jsxs("div",{className:"word-winner",children:[A?.name,": ",ht," points (Round ",ft,")"]},I.playerId)})})})()]})]})]})]})},X2=({game:r,currentPlayerId:e})=>{const[i,s]=zt.useState({}),{deckSize:o}=U0(r.players.length),h=o===103;zt.useEffect(()=>{const p={};r.players.forEach((y,T)=>{const b=r.players[T===0?r.players.length-1:T-1],N=r.players[T===r.players.length-1?0:T+1],q=I2(y.id,r.wordSpellingWinners);p[y.id]=M2(y.draftedCards,b.draftedCards,N.draftedCards,q,h)}),s(p)},[r,h]);const d=[...r.players].sort((p,y)=>{const T=i[p.id]?.total||0,b=i[y.id]?.total||0;if(T!==b)return b-T;const N=Math.max(...p.draftedCards,0);return Math.max(...y.draftedCards,0)-N}),g=r.players.find(p=>p.id===e);return j.jsxs("div",{className:"scoring-phase",children:[j.jsxs("div",{className:"scoring-header",children:[j.jsx("h2",{children:"Final Scoring"}),j.jsx("p",{children:"Game complete! Here are the final results:"})]}),j.jsxs("div",{className:"scoring-content",children:[r.wordSpellingWinners.length>0&&j.jsxs("div",{className:"word-spelling-section",children:[j.jsx("h3",{children:"Word Spelling Winners"}),j.jsx("div",{className:"word-winners",children:(()=>{const p=r.wordSpellingWinners.reduce((N,q)=>(N[q.round]||(N[q.round]=[]),N[q.round].push(q),N),{}),y=Object.keys(p).map(Number).sort((N,q)=>N-q),T=[8,5,2];let b=0;return y.flatMap(N=>{const q=p[N],W=T[b]||0;return b+=q.length,q.map(nt=>{const G=r.players.find(st=>st.id===nt.playerId);return j.jsxs("div",{className:"word-winner",children:[G?.name,": ",W," points (Round ",N,")"]},nt.playerId)})})})()})]}),j.jsxs("div",{className:"final-scores",children:[j.jsx("h3",{children:"Final Scores"}),j.jsx("div",{className:"scoreboard",children:d.map((p,y)=>{const T=i[p.id],b=p.id===e;return j.jsxs("div",{className:`score-entry ${b?"current-player":""}`,children:[j.jsxs("div",{className:"rank",children:["#",y+1]}),j.jsxs("div",{className:"player-info",children:[j.jsxs("div",{className:"player-name",children:[p.name," ",b&&"(You)"]}),j.jsxs("div",{className:"total-score",children:["Total: ",T?.total||0," points"]})]}),T&&j.jsxs("div",{className:"score-breakdown",children:[j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Atomic Number:"})," ",j.jsx("span",{children:T.atomicNumber})]}),j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Atomic Mass:"})," ",j.jsx("span",{children:T.atomicMass})]}),j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Atomic Symbol:"})," ",j.jsx("span",{children:T.atomicSymbol})]}),h&&j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Radioactivity:"})," ",j.jsx("span",{children:T.radioactivity})]}),j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Ionization:"})," ",j.jsx("span",{children:T.ionization})]}),j.jsxs("div",{className:"score-item",children:[j.jsx("span",{children:"Family:"})," ",j.jsx("span",{children:T.family})]})]})]},p.id)})})]}),j.jsxs("div",{className:"player-cards",children:[j.jsx("h3",{children:"Your Drafted Cards"}),j.jsx("div",{className:"cards-grid",children:g?.draftedCards.sort((p,y)=>p-y).map((p,y)=>{const T=Ar(p);return T?j.jsx($u,{element:T},`final-${p}-${y}`):null})})]})]})]})};function K2(){const[r,e]=zt.useState("setup"),[i,s]=zt.useState(""),[o,h]=zt.useState(""),[d,g]=zt.useState(!1),[p,y]=zt.useState(""),[T,b]=zt.useState(null),[N,q]=zt.useState(!0);zt.useEffect(()=>{_d();const rt=setInterval(()=>{_d()},1800*1e3);return()=>clearInterval(rt)},[]),zt.useEffect(()=>{(async()=>{const tt=P0(),ft=B2();if(tt&&ft)return s(tt),h(ft),Ff(tt,ht=>{if(ht)b(ht),e("game"),g(ht.hostId===ft),q(!1);else return vd(tt,A=>{if(A){const w=A.players.find(O=>O.id===ft);w?(e("lobby"),g(w.isHost),y(w.name),q(!1)):(e("setup"),q(!1))}else e("setup"),q(!1)})});tt&&!ft&&(s(tt),e("setup")),q(!1)})()},[]),zt.useEffect(()=>{if(i&&r==="game")return Ff(i,tt=>{tt?(b(tt),tt.phase):(e("setup"),F_(),G_())})},[i,r]),zt.useEffect(()=>{if(i&&o&&r==="lobby")return vd(i,tt=>{if(!tt)return Ff(i,$=>{$?(b($),e("game"),g($.hostId===o)):(e("setup"),F_(),G_())})})},[i,o,r]);const W=(rt,tt,ft,$)=>{s(rt),h(tt),g(ft),y($),e("lobby"),Q_({gameId:rt,playerId:tt,isHost:ft,playerName:$})},nt=()=>{e("game")},G=rt=>{y(rt),i&&o&&Q_({gameId:i,playerId:o,isHost:d,playerName:rt})},st=()=>{if(N)return j.jsx("div",{className:"loading",children:"Restoring game..."});switch(r){case"setup":return j.jsx(q2,{onJoinLobby:W});case"lobby":return j.jsx(Q2,{gameId:i,playerId:o,isHost:d,playerName:p,onGameStart:nt,onPlayerNameChange:G});case"game":if(!T)return j.jsx("div",{className:"loading",children:"Loading game..."});switch(T.phase){case"drafting":return j.jsx(Y2,{game:T,currentPlayerId:o});case"scoring":return j.jsx(X2,{game:T,currentPlayerId:o});case"finished":return j.jsxs("div",{className:"game-finished",children:[j.jsx("h2",{children:"Game Finished!"}),j.jsx("p",{children:"Thank you for playing Chemistry Card Game!"}),j.jsx("button",{type:"button",onClick:()=>e("setup"),children:"Play Again"})]});default:return j.jsx("div",{children:"Unknown game phase"})}default:return j.jsx("div",{children:"Unknown app state"})}};return j.jsxs("div",{className:"app",children:[j.jsxs("header",{className:"app-header",children:[j.jsx("h1",{children:"Chemistry Card Game"}),i&&j.jsxs("div",{className:"game-info",children:["Game ID: ",i," | Player: ",o]})]}),j.jsx("main",{className:"app-main",children:st()})]})}TT.createRoot(document.getElementById("root")).render(j.jsx(zt.StrictMode,{children:j.jsx(K2,{})}));
