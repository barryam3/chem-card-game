(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var xf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function gE(){if(yy)return ql;yy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=t,ql.jsx=i,ql.jsxs=i,ql}var _y;function pE(){return _y||(_y=1,xf.exports=gE()),xf.exports}var B=pE(),Uf={exports:{}},Ct={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function yE(){if(vy)return Ct;vy=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function I(M){return M===null||typeof M!="object"?null:(M=A&&M[A]||M["@@iterator"],typeof M=="function"?M:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function Y(M,X,rt){this.props=M,this.context=X,this.refs=tt,this.updater=rt||z}Y.prototype.isReactComponent={},Y.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},Y.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ct(){}ct.prototype=Y.prototype;function W(M,X,rt){this.props=M,this.context=X,this.refs=tt,this.updater=rt||z}var et=W.prototype=new ct;et.constructor=W,Z(et,Y.prototype),et.isPureReactComponent=!0;var pt=Array.isArray,nt={H:null,A:null,T:null,S:null,V:null},ot=Object.prototype.hasOwnProperty;function w(M,X,rt,st,ft,Nt){return rt=Nt.ref,{$$typeof:s,type:M,key:X,ref:rt!==void 0?rt:null,props:Nt}}function b(M,X){return w(M.type,X,void 0,void 0,void 0,M.props)}function R(M){return typeof M=="object"&&M!==null&&M.$$typeof===s}function V(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return X[rt]})}var D=/\/+/g;function O(M,X){return typeof M=="object"&&M!==null&&M.key!=null?V(""+M.key):X.toString(36)}function N(){}function Rt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Dt(M,X,rt,st,ft){var Nt=typeof M;(Nt==="undefined"||Nt==="boolean")&&(M=null);var yt=!1;if(M===null)yt=!0;else switch(Nt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(M.$$typeof){case s:case t:yt=!0;break;case T:return yt=M._init,Dt(yt(M._payload),X,rt,st,ft)}}if(yt)return ft=ft(M),yt=st===""?"."+O(M,0):st,pt(ft)?(rt="",yt!=null&&(rt=yt.replace(D,"$&/")+"/"),Dt(ft,X,rt,"",function(De){return De})):ft!=null&&(R(ft)&&(ft=b(ft,rt+(ft.key==null||M&&M.key===ft.key?"":(""+ft.key).replace(D,"$&/")+"/")+yt)),X.push(ft)),1;yt=0;var ie=st===""?".":st+":";if(pt(M))for(var Pt=0;Pt<M.length;Pt++)st=M[Pt],Nt=ie+O(st,Pt),yt+=Dt(st,X,rt,Nt,ft);else if(Pt=I(M),typeof Pt=="function")for(M=Pt.call(M),Pt=0;!(st=M.next()).done;)st=st.value,Nt=ie+O(st,Pt++),yt+=Dt(st,X,rt,Nt,ft);else if(Nt==="object"){if(typeof M.then=="function")return Dt(Rt(M),X,rt,st,ft);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function G(M,X,rt){if(M==null)return M;var st=[],ft=0;return Dt(M,st,"","",function(Nt){return X.call(rt,Nt,ft++)}),st}function at(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var dt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function It(){}return Ct.Children={map:G,forEach:function(M,X,rt){G(M,function(){X.apply(this,arguments)},rt)},count:function(M){var X=0;return G(M,function(){X++}),X},toArray:function(M){return G(M,function(X){return X})||[]},only:function(M){if(!R(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ct.Component=Y,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=W,Ct.StrictMode=r,Ct.Suspense=p,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=nt,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(M){return nt.H.useMemoCache(M)}},Ct.cache=function(M){return function(){return M.apply(null,arguments)}},Ct.cloneElement=function(M,X,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var st=Z({},M.props),ft=M.key,Nt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(Nt=void 0),X.key!==void 0&&(ft=""+X.key),X)!ot.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(st[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)st.children=rt;else if(1<yt){for(var ie=Array(yt),Pt=0;Pt<yt;Pt++)ie[Pt]=arguments[Pt+2];st.children=ie}return w(M.type,ft,void 0,void 0,Nt,st)},Ct.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Ct.createElement=function(M,X,rt){var st,ft={},Nt=null;if(X!=null)for(st in X.key!==void 0&&(Nt=""+X.key),X)ot.call(X,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(ft[st]=X[st]);var yt=arguments.length-2;if(yt===1)ft.children=rt;else if(1<yt){for(var ie=Array(yt),Pt=0;Pt<yt;Pt++)ie[Pt]=arguments[Pt+2];ft.children=ie}if(M&&M.defaultProps)for(st in yt=M.defaultProps,yt)ft[st]===void 0&&(ft[st]=yt[st]);return w(M,Nt,void 0,void 0,null,ft)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(M){return{$$typeof:g,render:M}},Ct.isValidElement=R,Ct.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:at}},Ct.memo=function(M,X){return{$$typeof:y,type:M,compare:X===void 0?null:X}},Ct.startTransition=function(M){var X=nt.T,rt={};nt.T=rt;try{var st=M(),ft=nt.S;ft!==null&&ft(rt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,dt)}catch(Nt){dt(Nt)}finally{nt.T=X}},Ct.unstable_useCacheRefresh=function(){return nt.H.useCacheRefresh()},Ct.use=function(M){return nt.H.use(M)},Ct.useActionState=function(M,X,rt){return nt.H.useActionState(M,X,rt)},Ct.useCallback=function(M,X){return nt.H.useCallback(M,X)},Ct.useContext=function(M){return nt.H.useContext(M)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(M,X){return nt.H.useDeferredValue(M,X)},Ct.useEffect=function(M,X,rt){var st=nt.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return st.useEffect(M,X)},Ct.useId=function(){return nt.H.useId()},Ct.useImperativeHandle=function(M,X,rt){return nt.H.useImperativeHandle(M,X,rt)},Ct.useInsertionEffect=function(M,X){return nt.H.useInsertionEffect(M,X)},Ct.useLayoutEffect=function(M,X){return nt.H.useLayoutEffect(M,X)},Ct.useMemo=function(M,X){return nt.H.useMemo(M,X)},Ct.useOptimistic=function(M,X){return nt.H.useOptimistic(M,X)},Ct.useReducer=function(M,X,rt){return nt.H.useReducer(M,X,rt)},Ct.useRef=function(M){return nt.H.useRef(M)},Ct.useState=function(M){return nt.H.useState(M)},Ct.useSyncExternalStore=function(M,X,rt){return nt.H.useSyncExternalStore(M,X,rt)},Ct.useTransition=function(){return nt.H.useTransition()},Ct.version="19.1.1",Ct}var Ey;function gc(){return Ey||(Ey=1,Uf.exports=yE()),Uf.exports}var se=gc(),Lf={exports:{}},Hl={},Pf={exports:{}},zf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function _E(){return Ty||(Ty=1,(function(s){function t(G,at){var dt=G.length;G.push(at);t:for(;0<dt;){var It=dt-1>>>1,M=G[It];if(0<o(M,at))G[It]=at,G[dt]=M,dt=It;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var at=G[0],dt=G.pop();if(dt!==at){G[0]=dt;t:for(var It=0,M=G.length,X=M>>>1;It<X;){var rt=2*(It+1)-1,st=G[rt],ft=rt+1,Nt=G[ft];if(0>o(st,dt))ft<M&&0>o(Nt,st)?(G[It]=Nt,G[ft]=dt,It=ft):(G[It]=st,G[rt]=dt,It=rt);else if(ft<M&&0>o(Nt,dt))G[It]=Nt,G[ft]=dt,It=ft;else break t}}return at}function o(G,at){var dt=G.sortIndex-at.sortIndex;return dt!==0?dt:G.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],y=[],T=1,A=null,I=3,z=!1,Z=!1,tt=!1,Y=!1,ct=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function pt(G){for(var at=i(y);at!==null;){if(at.callback===null)r(y);else if(at.startTime<=G)r(y),at.sortIndex=at.expirationTime,t(p,at);else break;at=i(y)}}function nt(G){if(tt=!1,pt(G),!Z)if(i(p)!==null)Z=!0,ot||(ot=!0,O());else{var at=i(y);at!==null&&Dt(nt,at.startTime-G)}}var ot=!1,w=-1,b=5,R=-1;function V(){return Y?!0:!(s.unstable_now()-R<b)}function D(){if(Y=!1,ot){var G=s.unstable_now();R=G;var at=!0;try{t:{Z=!1,tt&&(tt=!1,W(w),w=-1),z=!0;var dt=I;try{e:{for(pt(G),A=i(p);A!==null&&!(A.expirationTime>G&&V());){var It=A.callback;if(typeof It=="function"){A.callback=null,I=A.priorityLevel;var M=It(A.expirationTime<=G);if(G=s.unstable_now(),typeof M=="function"){A.callback=M,pt(G),at=!0;break e}A===i(p)&&r(p),pt(G)}else r(p);A=i(p)}if(A!==null)at=!0;else{var X=i(y);X!==null&&Dt(nt,X.startTime-G),at=!1}}break t}finally{A=null,I=dt,z=!1}at=void 0}}finally{at?O():ot=!1}}}var O;if(typeof et=="function")O=function(){et(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Rt=N.port2;N.port1.onmessage=D,O=function(){Rt.postMessage(null)}}else O=function(){ct(D,0)};function Dt(G,at){w=ct(function(){G(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return I},s.unstable_next=function(G){switch(I){case 1:case 2:case 3:var at=3;break;default:at=I}var dt=I;I=at;try{return G()}finally{I=dt}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(G,at){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=I;I=G;try{return at()}finally{I=dt}},s.unstable_scheduleCallback=function(G,at,dt){var It=s.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?It+dt:It):dt=It,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=dt+M,G={id:T++,callback:at,priorityLevel:G,startTime:dt,expirationTime:M,sortIndex:-1},dt>It?(G.sortIndex=dt,t(y,G),i(p)===null&&G===i(y)&&(tt?(W(w),w=-1):tt=!0,Dt(nt,dt-It))):(G.sortIndex=M,t(p,G),Z||z||(Z=!0,ot||(ot=!0,O()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var at=I;return function(){var dt=I;I=at;try{return G.apply(this,arguments)}finally{I=dt}}}})(zf)),zf}var Sy;function vE(){return Sy||(Sy=1,Pf.exports=_E()),Pf.exports}var jf={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function EE(){if(by)return Ke;by=1;var s=gc();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:y,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return h(p,y,null,T)},Ke.flushSync=function(p){var y=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=y,r.p=T,r.d.f()}},Ke.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Ke.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Ke.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin),I=typeof y.integrity=="string"?y.integrity:void 0,z=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:I,fetchPriority:z}):T==="script"&&r.d.X(p,{crossOrigin:A,integrity:I,fetchPriority:z,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Ke.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=g(T,y.crossOrigin);r.d.L(p,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Ke.requestFormReset=function(p){r.d.r(p)},Ke.unstable_batchedUpdates=function(p,y){return p(y)},Ke.useFormState=function(p,y,T){return d.H.useFormState(p,y,T)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.1.1",Ke}var Ay;function TE(){if(Ay)return jf.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),jf.exports=EE(),jf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function SE(){if(Ry)return Hl;Ry=1;var s=vE(),t=gc(),i=TE();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(h(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),e;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,l=f;break}if(E===l){v=!0,l=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=c;break}if(E===l){v=!0,l=f,a=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function y(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=y(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),ct=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),et=Symbol.for("react.context"),pt=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),ot=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Y:return"Profiler";case tt:return"StrictMode";case nt:return"Suspense";case ot:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case et:return(e.displayName||"Context")+".Provider";case W:return(e._context.displayName||"Context")+".Consumer";case pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:Rt(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return Rt(e(n))}catch{}}return null}var Dt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},It=[],M=-1;function X(e){return{current:e}}function rt(e){0>M||(e.current=It[M],It[M]=null,M--)}function st(e,n){M++,It[M]=e.current,e.current=n}var ft=X(null),Nt=X(null),yt=X(null),ie=X(null);function Pt(e,n){switch(st(yt,n),st(Nt,e),st(ft,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Fp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Fp(n),e=Qp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}rt(ft),st(ft,e)}function De(){rt(ft),rt(Nt),rt(yt)}function bn(e){e.memoizedState!==null&&st(ie,e);var n=ft.current,a=Qp(n,e.type);n!==a&&(st(Nt,e),st(ft,a))}function cn(e){Nt.current===e&&(rt(ft),rt(Nt)),ie.current===e&&(rt(ie),Pl._currentValue=dt)}var hn=Object.prototype.hasOwnProperty,An=s.unstable_scheduleCallback,wt=s.unstable_cancelCallback,Ie=s.unstable_shouldYield,Pr=s.unstable_requestPaint,sn=s.unstable_now,_o=s.unstable_getCurrentPriorityLevel,Ae=s.unstable_ImmediatePriority,Me=s.unstable_UserBlockingPriority,gi=s.unstable_NormalPriority,Uc=s.unstable_LowPriority,zr=s.unstable_IdlePriority,Lc=s.log,Pa=s.unstable_setDisableYieldValue,Bi=null,Fe=null;function Rn(e){if(typeof Lc=="function"&&Pa(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Bi,e)}catch{}}var $e=Math.clz32?Math.clz32:Eo,Pc=Math.log,vo=Math.LN2;function Eo(e){return e>>>=0,e===0?32:31-(Pc(e)/vo|0)|0}var Xn=256,ki=4194304;function zn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var c=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=zn(l):(v&=E,v!==0?c=zn(v):a||(a=E&~e,a!==0&&(c=zn(a))))):(E=l&~f,E!==0?c=zn(E):v!==0?c=zn(v):a||(a=l&~e,a!==0&&(c=zn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function qi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ds(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(){var e=Xn;return Xn<<=1,(Xn&4194048)===0&&(Xn=256),e}function Hi(){var e=ki;return ki<<=1,(ki&62914560)===0&&(ki=4194304),e}function Is(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function he(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function To(e,n,a,l,c,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(a=v&~a;0<a;){var F=31-$e(a),$=1<<F;E[F]=0,C[F]=-1;var k=j[F];if(k!==null)for(j[F]=null,F=0;F<k.length;F++){var q=k[F];q!==null&&(q.lane&=-536870913)}a&=~$}l!==0&&Gi(e,l,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function Gi(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-$e(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function Fi(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-$e(a),c=1<<l;c&n|e[l]&n&&(e[l]|=n),a&=~c}}function Br(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function kr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function pi(){var e=at.p;return e!==0?e:(e=window.event,e===void 0?32:hy(e.type))}function zc(e,n){var a=at.p;try{return at.p=e,n()}finally{at.p=a}}var Zn=Math.random().toString(36).slice(2),fe="__reactFiber$"+Zn,ze="__reactProps$"+Zn,yi="__reactContainer$"+Zn,za="__reactEvents$"+Zn,ja="__reactListeners$"+Zn,jc="__reactHandles$"+Zn,jn="__reactResources$"+Zn,Qi="__reactMarker$"+Zn;function Ms(e){delete e[fe],delete e[ze],delete e[za],delete e[ja],delete e[jc]}function $n(e){var n=e[fe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[yi]||a[fe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Zp(e);e!==null;){if(a=e[fe])return a;e=Zp(e)}return n}e=a,a=e.parentNode}return null}function Jn(e){if(e=e[fe]||e[yi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Yi(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ki(e){var n=e[jn];return n||(n=e[jn]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function de(e){e[Qi]=!0}var So=new Set,Ba={};function Wn(e,n){ti(e,n),ti(e+"Capture",n)}function ti(e,n){for(Ba[e]=n,e=0;e<n.length;e++)So.add(n[e])}var ka=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ei={},Vs={};function Bc(e){return hn.call(Vs,e)?!0:hn.call(ei,e)?!1:ka.test(e)?Vs[e]=!0:(ei[e]=!0,!1)}function qa(e,n,a){if(Bc(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ha(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Nn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}var Ga,Os;function _i(e){if(Ga===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ga=n&&n[1]||"",Os=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+e+Os}var xs=!1;function Us(e,n){if(!e||xs)return"";xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(q){var k=q}Reflect.construct(e,[],$)}else{try{$.call()}catch(q){k=q}e.call($.prototype)}}else{try{throw Error()}catch(q){k=q}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var C=v.split(`
`),j=E.split(`
`);for(c=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===C.length||c===j.length)for(l=C.length-1,c=j.length-1;1<=l&&0<=c&&C[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(C[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||C[l]!==j[c]){var F=`
`+C[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=c);break}}}finally{xs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?_i(a):""}function kc(e){switch(e.tag){case 26:case 27:case 5:return _i(e.type);case 16:return _i("Lazy");case 13:return _i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return Us(e.type,!1);case 11:return Us(e.type.render,!1);case 1:return Us(e.type,!0);case 31:return _i("Activity");default:return""}}function Bn(e){try{var n="";do n+=kc(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function re(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Xi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fa(e){var n=Xi(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zi(e){e._valueTracker||(e._valueTracker=Fa(e))}function Yt(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=Xi(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function vi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qa=/[\n"\\]/g;function Ve(e){return e.replace(Qa,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(e,n,a,l,c,f,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+re(n)):e.value!==""+re(n)&&(e.value=""+re(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?Gr(e,v,re(n)):a!=null?Gr(e,v,re(a)):l!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+re(E):e.removeAttribute("name")}function Hr(e,n,a,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+re(a):"",n=n!=null?""+re(n):a,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Gr(e,n,a){n==="number"&&vi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $i(e,n,a,l){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&l&&(e[a].defaultSelected=!0)}else{for(a=""+re(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,l&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function bo(e,n,a){if(n!=null&&(n=""+re(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+re(a):""}function Ao(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(Dt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=re(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Cn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ei=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||Ei.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Qr(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fr(e,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fr(e,f,n[f])}function Ls(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ro=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wo=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(e){return wo.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Yr=null;function Kr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ji=null,Je=null;function No(e){var n=Jn(e);if(n&&(e=n.stateNode)){var a=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(qr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ve(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var c=l[ze]||null;if(!c)throw Error(r(90));qr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&Yt(l)}break t;case"textarea":bo(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&$i(e,!!a.multiple,n,!1)}}}var Ya=!1;function Ka(e,n,a){if(Ya)return e(n,a);Ya=!0;try{var l=e(n);return l}finally{if(Ya=!1,(Ji!==null||Je!==null)&&(pu(),Ji&&(n=Ji,e=Je,Je=Ji=null,No(n),e)))for(n=0;n<e.length;n++)No(e[n])}}function Wi(e,n){var a=e.stateNode;if(a===null)return null;var l=a[ze]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var We=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ti=!1;if(We)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){Ti=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{Ti=!1}var Dn=null,te=null,Ps=null;function Co(){if(Ps)return Ps;var e,n=te,a=n.length,l,c="value"in Dn?Dn.value:Dn.textContent,f=c.length;for(e=0;e<a&&n[e]===c[e];e++);var v=a-e;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return Ps=c.slice(e,1<l?1-l:void 0)}function Xa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Za(){return!0}function Xr(){return!1}function Re(e){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Za:Xr,this.isPropagationStopped=Xr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Za)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Za)},persist:function(){},isPersistent:Za}),n}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$a=Re(Qe),Ja=T({},Qe,{view:0,detail:0}),Wa=Re(Ja),zs,ts,ni,es=T({},Ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ni&&(ni&&e.type==="mousemove"?(zs=e.screenX-ni.screenX,ts=e.screenY-ni.screenY):ts=zs=0,ni=e),zs)},movementY:function(e){return"movementY"in e?e.movementY:ts}}),ns=Re(es),qc=T({},es,{dataTransfer:0}),Do=Re(qc),is=T({},Ja,{relatedTarget:0}),js=Re(is),Io=T({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Re(Io),$r=T({},Qe,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mo=Re($r),Bs=T({},Qe,{data:0}),Jr=Re(Bs),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Oo[e])?!!n[e]:!1}function ks(){return xo}var Uo=T({},Ja,{key:function(e){if(e.key){var n=Vo[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Si[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qs=Re(Uo),tn=T({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=Re(tn),Lo=T({},Ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),ea=Re(Lo),u=T({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Re(u),_=T({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S=Re(_),P=T({},Qe,{newState:0,oldState:0}),H=Re(P),it=[9,13,27,32],At=We&&"CompositionEvent"in window,ne=null;We&&"documentMode"in document&&(ne=document.documentMode);var Gt=We&&"TextEvent"in window&&!ne,me=We&&(!At||ne&&8<ne&&11>=ne),fn=" ",ii=!1;function qn(e,n){switch(e){case"keyup":return it.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function tl(e,n){switch(e){case"compositionend":return Hn(n);case"keypress":return n.which!==32?null:(ii=!0,fn);case"textInput":return e=n.data,e===fn&&ii?null:e;default:return null}}function q1(e,n){if(Gn)return e==="compositionend"||!At&&qn(e,n)?(e=Co(),Ps=te=Dn=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return me&&n.locale!=="ko"?null:n.data;default:return null}}var H1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sm(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!H1[e.type]:n==="textarea"}function rm(e,n,a,l){Ji?Je?Je.push(l):Je=[l]:Ji=l,n=Su(n,"onChange"),0<n.length&&(a=new $a("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var el=null,nl=null;function G1(e){Bp(e,0)}function Po(e){var n=Yi(e);if(Yt(n))return e}function lm(e,n){if(e==="change")return n}var om=!1;if(We){var Hc;if(We){var Gc="oninput"in document;if(!Gc){var um=document.createElement("div");um.setAttribute("oninput","return;"),Gc=typeof um.oninput=="function"}Hc=Gc}else Hc=!1;om=Hc&&(!document.documentMode||9<document.documentMode)}function cm(){el&&(el.detachEvent("onpropertychange",hm),nl=el=null)}function hm(e){if(e.propertyName==="value"&&Po(nl)){var n=[];rm(n,nl,e,Kr(e)),Ka(G1,n)}}function F1(e,n,a){e==="focusin"?(cm(),el=n,nl=a,el.attachEvent("onpropertychange",hm)):e==="focusout"&&cm()}function Q1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(nl)}function Y1(e,n){if(e==="click")return Po(n)}function K1(e,n){if(e==="input"||e==="change")return Po(n)}function X1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:X1;function il(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!hn.call(n,c)||!dn(e[c],n[c]))return!1}return!0}function fm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dm(e,n){var a=fm(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=fm(a)}}function mm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?mm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function gm(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=vi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=vi(e.document)}return n}function Fc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Z1=We&&"documentMode"in document&&11>=document.documentMode,Hs=null,Qc=null,al=null,Yc=!1;function pm(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yc||Hs==null||Hs!==vi(l)||(l=Hs,"selectionStart"in l&&Fc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&il(al,l)||(al=l,l=Su(Qc,"onSelect"),0<l.length&&(n=new $a("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=Hs)))}function as(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var Gs={animationend:as("Animation","AnimationEnd"),animationiteration:as("Animation","AnimationIteration"),animationstart:as("Animation","AnimationStart"),transitionrun:as("Transition","TransitionRun"),transitionstart:as("Transition","TransitionStart"),transitioncancel:as("Transition","TransitionCancel"),transitionend:as("Transition","TransitionEnd")},Kc={},ym={};We&&(ym=document.createElement("div").style,"AnimationEvent"in window||(delete Gs.animationend.animation,delete Gs.animationiteration.animation,delete Gs.animationstart.animation),"TransitionEvent"in window||delete Gs.transitionend.transition);function ss(e){if(Kc[e])return Kc[e];if(!Gs[e])return e;var n=Gs[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in ym)return Kc[e]=n[a];return e}var _m=ss("animationend"),vm=ss("animationiteration"),Em=ss("animationstart"),$1=ss("transitionrun"),J1=ss("transitionstart"),W1=ss("transitioncancel"),Tm=ss("transitionend"),Sm=new Map,Xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xc.push("scrollEnd");function Fn(e,n){Sm.set(e,n),Wn(n,[e])}var bm=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var a=bm.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Bn(n)},bm.set(e,n),n)}return{value:e,source:n,stack:Bn(n)}}var Mn=[],Fs=0,Zc=0;function zo(){for(var e=Fs,n=Zc=Fs=0;n<e;){var a=Mn[n];Mn[n++]=null;var l=Mn[n];Mn[n++]=null;var c=Mn[n];Mn[n++]=null;var f=Mn[n];if(Mn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Am(a,c,f)}}function jo(e,n,a,l){Mn[Fs++]=e,Mn[Fs++]=n,Mn[Fs++]=a,Mn[Fs++]=l,Zc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function $c(e,n,a,l){return jo(e,n,a,l),Bo(e)}function Qs(e,n){return jo(e,null,null,n),Bo(e)}function Am(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&n!==null&&(c=31-$e(a),e=f.hiddenUpdates,l=e[c],l===null?e[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function Bo(e){if(50<Dl)throw Dl=0,af=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ys={};function t0(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,a,l){return new t0(e,n,a,l)}function Jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bi(e,n){var a=e.alternate;return a===null?(a=mn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Rm(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ko(e,n,a,l,c,f){var v=0;if(l=e,typeof e=="function")Jc(e)&&(v=1);else if(typeof e=="string")v=nE(e,a,ft.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=mn(31,a,n,c),e.elementType=R,e.lanes=f,e;case Z:return rs(a.children,c,f,n);case tt:v=8,c|=24;break;case Y:return e=mn(12,a,n,c|2),e.elementType=Y,e.lanes=f,e;case nt:return e=mn(13,a,n,c),e.elementType=nt,e.lanes=f,e;case ot:return e=mn(19,a,n,c),e.elementType=ot,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:case et:v=10;break t;case W:v=9;break t;case pt:v=11;break t;case w:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=mn(v,a,n,c),n.elementType=e,n.type=l,n.lanes=f,n}function rs(e,n,a,l){return e=mn(7,e,l,n),e.lanes=a,e}function Wc(e,n,a){return e=mn(6,e,null,n),e.lanes=a,e}function th(e,n,a){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ks=[],Xs=0,qo=null,Ho=0,Vn=[],On=0,ls=null,Ai=1,Ri="";function os(e,n){Ks[Xs++]=Ho,Ks[Xs++]=qo,qo=e,Ho=n}function wm(e,n,a){Vn[On++]=Ai,Vn[On++]=Ri,Vn[On++]=ls,ls=e;var l=Ai;e=Ri;var c=32-$e(l)-1;l&=~(1<<c),a+=1;var f=32-$e(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ai=1<<32-$e(n)+c|a<<c|l,Ri=f+e}else Ai=1<<f|a<<c|l,Ri=e}function eh(e){e.return!==null&&(os(e,1),wm(e,1,0))}function nh(e){for(;e===qo;)qo=Ks[--Xs],Ks[Xs]=null,Ho=Ks[--Xs],Ks[Xs]=null;for(;e===ls;)ls=Vn[--On],Vn[On]=null,Ri=Vn[--On],Vn[On]=null,Ai=Vn[--On],Vn[On]=null}var en=null,ue=null,Ht=!1,us=null,ai=!1,ih=Error(r(519));function cs(e){var n=Error(r(418,""));throw ll(In(n,e)),ih}function Nm(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[fe]=e,n[ze]=l,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)xt(Ml[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Zi(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Ao(n,l.value,l.defaultValue,l.children),Zi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Gp(n.textContent,a)?(l.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),l.onScroll!=null&&xt("scroll",n),l.onScrollEnd!=null&&xt("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||cs(e)}function Cm(e){for(en=e.return;en;)switch(en.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:en=en.return}}function sl(e){if(e!==en)return!1;if(!Ht)return Cm(e),Ht=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ef(e.type,e.memoizedProps)),a=!a),a&&ue&&cs(e),Cm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){ue=Yn(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}ue=null}}else n===27?(n=ue,ya(e.type)?(e=Af,Af=null,ue=e):ue=n):ue=en?Yn(e.stateNode.nextSibling):null;return!0}function rl(){ue=en=null,Ht=!1}function Dm(){var e=us;return e!==null&&(on===null?on=e:on.push.apply(on,e),us=null),e}function ll(e){us===null?us=[e]:us.push(e)}var ah=X(null),hs=null,wi=null;function na(e,n,a){st(ah,n._currentValue),n._currentValue=a}function Ni(e){e._currentValue=ah.current,rt(ah)}function sh(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function rh(e,n,a,l){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),sh(f.return,a,e),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),sh(v,a,e),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===e){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ol(e,n,a,l){e=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;dn(c.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(c===ie.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Pl):e=[Pl])}c=c.return}e!==null&&rh(n,e,a,l),n.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function fs(e){hs=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Im(hs,e)}function Fo(e,n){return hs===null&&fs(e),Im(e,n)}function Im(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(e===null)throw Error(r(308));wi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else wi=wi.next=n;return a}var e0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},n0=s.unstable_scheduleCallback,i0=s.unstable_NormalPriority,we={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lh(){return{controller:new e0,data:new Map,refCount:0}}function ul(e){e.refCount--,e.refCount===0&&n0(i0,function(){e.controller.abort()})}var cl=null,oh=0,Zs=0,$s=null;function a0(e,n){if(cl===null){var a=cl=[];oh=0,Zs=hf(),$s={status:"pending",value:void 0,then:function(l){a.push(l)}}}return oh++,n.then(Mm,Mm),n}function Mm(){if(--oh===0&&cl!==null){$s!==null&&($s.status="fulfilled");var e=cl;cl=null,Zs=0,$s=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function s0(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Vm=G.S;G.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&a0(e,n),Vm!==null&&Vm(e,n)};var ds=X(null);function uh(){var e=ds.current;return e!==null?e:ee.pooledCache}function Qo(e,n){n===null?st(ds,ds.current):st(ds,n.pool)}function Om(){var e=uh();return e===null?null:{parent:we._currentValue,pool:e}}var hl=Error(r(460)),xm=Error(r(474)),Yo=Error(r(542)),ch={then:function(){}};function Um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ko(){}function Lm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ko,Ko),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e;default:if(typeof n.status=="string")n.then(Ko,Ko);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zm(e),e}throw fl=n,hl}}var fl=null;function Pm(){if(fl===null)throw Error(r(459));var e=fl;return fl=null,e}function zm(e){if(e===hl||e===Yo)throw Error(r(483))}var ia=!1;function hh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sa(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ft&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(e),Am(e,null,a),n}return jo(e,l,n,a),Bo(e)}function dl(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Fi(e,a)}}function dh(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var mh=!1;function ml(){if(mh){var e=$s;if(e!==null)throw e}}function gl(e,n,a,l){mh=!1;var c=e.updateQueue;ia=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var C=E,j=C.next;C.next=null,v===null?f=j:v.next=j,v=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=j:E.next=j,F.lastBaseUpdate=C))}if(f!==null){var $=c.baseState;v=0,F=j=C=null,E=f;do{var k=E.lane&-536870913,q=k!==E.lane;if(q?(zt&k)===k:(l&k)===k){k!==0&&k===Zs&&(mh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var St=e,vt=E;k=n;var Zt=a;switch(vt.tag){case 1:if(St=vt.payload,typeof St=="function"){$=St.call(Zt,$,k);break t}$=St;break t;case 3:St.flags=St.flags&-65537|128;case 0:if(St=vt.payload,k=typeof St=="function"?St.call(Zt,$,k):St,k==null)break t;$=T({},$,k);break t;case 2:ia=!0}}k=E.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[k]:q.push(k))}else q={lane:k,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(j=F=q,C=$):F=F.next=q,v|=k;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);F===null&&(C=$),c.baseState=C,c.firstBaseUpdate=j,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),da|=v,e.lanes=v,e.memoizedState=$}}function jm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Bm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jm(a[e],n)}var Js=X(null),Xo=X(0);function km(e,n){e=xi,st(Xo,e),st(Js,n),xi=e|n.baseLanes}function gh(){st(Xo,xi),st(Js,Js.current)}function ph(){xi=Xo.current,rt(Js),rt(Xo)}var ra=0,Mt=null,Kt=null,ve=null,Zo=!1,Ws=!1,ms=!1,$o=0,pl=0,tr=null,r0=0;function ge(){throw Error(r(321))}function yh(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!dn(e[a],n[a]))return!1;return!0}function _h(e,n,a,l,c,f){return ra=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Ag:Rg,ms=!1,f=a(l,c),ms=!1,Ws&&(f=Hm(n,a,l,c)),qm(e),f}function qm(e){G.H=iu;var n=Kt!==null&&Kt.next!==null;if(ra=0,ve=Kt=Mt=null,Zo=!1,pl=0,tr=null,n)throw Error(r(300));e===null||Oe||(e=e.dependencies,e!==null&&Go(e)&&(Oe=!0))}function Hm(e,n,a,l){Mt=e;var c=0;do{if(Ws&&(tr=null),pl=0,Ws=!1,25<=c)throw Error(r(301));if(c+=1,ve=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=d0,f=n(a,l)}while(Ws);return f}function l0(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?yl(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(Mt.flags|=1024),n}function vh(){var e=$o!==0;return $o=0,e}function Eh(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Th(e){if(Zo){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Zo=!1}ra=0,ve=Kt=Mt=null,Ws=!1,pl=$o=0,tr=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?Mt.memoizedState=ve=e:ve=ve.next=e,ve}function Ee(){if(Kt===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ve===null?Mt.memoizedState:ve.next;if(n!==null)ve=n,Kt=e;else{if(e===null)throw Mt.alternate===null?Error(r(467)):Error(r(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ve===null?Mt.memoizedState=ve=e:ve=ve.next=e}return ve}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(e){var n=pl;return pl+=1,tr===null&&(tr=[]),e=Lm(tr,e,n),n=Mt,(ve===null?n.memoizedState:ve.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ag:Rg),e}function Jo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return yl(e);if(e.$$typeof===et)return Ye(e)}throw Error(r(438,String(e)))}function bh(e){var n=null,a=Mt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Sh(),Mt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=V;return n.index++,a}function Ci(e,n){return typeof n=="function"?n(e):n}function Wo(e){var n=Ee();return Ah(n,Kt,e)}function Ah(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=e.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=v=null,C=null,j=n,F=!1;do{var $=j.lane&-536870913;if($!==j.lane?(zt&$)===$:(ra&$)===$){var k=j.revertLane;if(k===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),$===Zs&&(F=!0);else if((ra&k)===k){j=j.next,k===Zs&&(F=!0);continue}else $={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=$,v=f):C=C.next=$,Mt.lanes|=k,da|=k;$=j.action,ms&&a(f,$),f=j.hasEagerState?j.eagerState:a(f,$)}else k={lane:$,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=k,v=f):C=C.next=k,Mt.lanes|=$,da|=$;j=j.next}while(j!==null&&j!==n);if(C===null?v=f:C.next=E,!dn(f,e.memoizedState)&&(Oe=!0,F&&(a=$s,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=C,l.lastRenderedState=f}return c===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Rh(e){var n=Ee(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=e(f,v.action),v=v.next;while(v!==c);dn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Gm(e,n,a){var l=Mt,c=Ee(),f=Ht;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!dn((Kt||c).memoizedState,a);v&&(c.memoizedState=a,Oe=!0),c=c.queue;var E=Ym.bind(null,l,c,e);if(_l(2048,8,E,[e]),c.getSnapshot!==n||v||ve!==null&&ve.memoizedState.tag&1){if(l.flags|=2048,er(9,tu(),Qm.bind(null,l,c,a,n),null),ee===null)throw Error(r(349));f||(ra&124)!==0||Fm(l,n,a)}return a}function Fm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=Mt.updateQueue,n===null?(n=Sh(),Mt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Qm(e,n,a,l){n.value=a,n.getSnapshot=l,Km(n)&&Xm(e)}function Ym(e,n,a){return a(function(){Km(n)&&Xm(e)})}function Km(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!dn(e,a)}catch{return!0}}function Xm(e){var n=Qs(e,2);n!==null&&vn(n,e,2)}function wh(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),ms){Rn(!0);try{a()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:e},n}function Zm(e,n,a,l){return e.baseState=a,Ah(e,Kt,typeof l=="function"?l:Ci)}function o0(e,n,a,l,c){if(nu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};G.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,$m(n,f)):(f.next=a.next,n.pending=a.next=f)}}function $m(e,n){var a=n.action,l=n.payload,c=e.state;if(n.isTransition){var f=G.T,v={};G.T=v;try{var E=a(c,l),C=G.S;C!==null&&C(v,E),Jm(e,n,E)}catch(j){Nh(e,n,j)}finally{G.T=f}}else try{f=a(c,l),Jm(e,n,f)}catch(j){Nh(e,n,j)}}function Jm(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Wm(e,n,l)},function(l){return Nh(e,n,l)}):Wm(e,n,a)}function Wm(e,n,a){n.status="fulfilled",n.value=a,tg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,$m(e,a)))}function Nh(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,tg(n),n=n.next;while(n!==l)}e.action=null}function tg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function eg(e,n){return n}function ng(e,n){if(Ht){var a=ee.formState;if(a!==null){t:{var l=Mt;if(Ht){if(ue){e:{for(var c=ue,f=ai;c.nodeType!==8;){if(!f){c=null;break e}if(c=Yn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ue=Yn(c.nextSibling),l=c.data==="F!";break t}}cs(l)}l=!1}l&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:eg,lastRenderedState:n},a.queue=l,a=Tg.bind(null,Mt,l),l.dispatch=a,l=wh(!1),f=Vh.bind(null,Mt,!1,l.queue),l=rn(),c={state:n,dispatch:null,action:e,pending:null},l.queue=c,a=o0.bind(null,Mt,c,f,a),c.dispatch=a,l.memoizedState=e,[n,a,!1]}function ig(e){var n=Ee();return ag(n,Kt,e)}function ag(e,n,a){if(n=Ah(e,n,eg)[0],e=Wo(Ci)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=yl(n)}catch(v){throw v===hl?Yo:v}else l=n;n=Ee();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(Mt.flags|=2048,er(9,tu(),u0.bind(null,c,a),null)),[l,f,e]}function u0(e,n){e.action=n}function sg(e){var n=Ee(),a=Kt;if(a!==null)return ag(n,a,e);Ee(),n=n.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function er(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Sh(),Mt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function tu(){return{destroy:void 0,resource:void 0}}function rg(){return Ee().memoizedState}function eu(e,n,a,l){var c=rn();l=l===void 0?null:l,Mt.flags|=e,c.memoizedState=er(1|n,tu(),a,l)}function _l(e,n,a,l){var c=Ee();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&yh(l,Kt.memoizedState.deps)?c.memoizedState=er(n,f,a,l):(Mt.flags|=e,c.memoizedState=er(1|n,f,a,l))}function lg(e,n){eu(8390656,8,e,n)}function og(e,n){_l(2048,8,e,n)}function ug(e,n){return _l(4,2,e,n)}function cg(e,n){return _l(4,4,e,n)}function hg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function fg(e,n,a){a=a!=null?a.concat([e]):null,_l(4,4,hg.bind(null,n,e),a)}function Ch(){}function dg(e,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&yh(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function mg(e,n){var a=Ee();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&yh(n,l[1]))return l[0];if(l=e(),ms){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,n],l}function Dh(e,n,a){return a===void 0||(ra&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=yp(),Mt.lanes|=e,da|=e,a)}function gg(e,n,a,l){return dn(a,n)?a:Js.current!==null?(e=Dh(e,a,l),dn(e,n)||(Oe=!0),e):(ra&42)===0?(Oe=!0,e.memoizedState=a):(e=yp(),Mt.lanes|=e,da|=e,n)}function pg(e,n,a,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var v=G.T,E={};G.T=E,Vh(e,!1,n,a);try{var C=c(),j=G.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=s0(C,l);vl(e,n,F,_n(e))}else vl(e,n,l,_n(e))}catch($){vl(e,n,{then:function(){},status:"rejected",reason:$},_n())}finally{at.p=f,G.T=v}}function c0(){}function Ih(e,n,a,l){if(e.tag!==5)throw Error(r(476));var c=yg(e).queue;pg(e,c,n,dt,a===null?c0:function(){return _g(e),a(l)})}function yg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:dt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _g(e){var n=yg(e).next.queue;vl(e,n,{},_n())}function Mh(){return Ye(Pl)}function vg(){return Ee().memoizedState}function Eg(){return Ee().memoizedState}function h0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=_n();e=aa(a);var l=sa(n,e,a);l!==null&&(vn(l,n,a),dl(l,n,a)),n={cache:lh()},e.payload=n;return}n=n.return}}function f0(e,n,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nu(e)?Sg(n,a):(a=$c(e,n,a,l),a!==null&&(vn(a,e,l),bg(a,n,l)))}function Tg(e,n,a){var l=_n();vl(e,n,a,l)}function vl(e,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nu(e))Sg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,dn(E,v))return jo(e,n,c,0),ee===null&&zo(),!1}catch{}finally{}if(a=$c(e,n,c,l),a!==null)return vn(a,e,l),bg(a,n,l),!0}return!1}function Vh(e,n,a,l){if(l={lane:2,revertLane:hf(),action:l,hasEagerState:!1,eagerState:null,next:null},nu(e)){if(n)throw Error(r(479))}else n=$c(e,a,l,2),n!==null&&vn(n,e,2)}function nu(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Sg(e,n){Ws=Zo=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function bg(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Fi(e,a)}}var iu={readContext:Ye,use:Jo,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useLayoutEffect:ge,useInsertionEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useSyncExternalStore:ge,useId:ge,useHostTransitionStatus:ge,useFormState:ge,useActionState:ge,useOptimistic:ge,useMemoCache:ge,useCacheRefresh:ge},Ag={readContext:Ye,use:Jo,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:lg,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,eu(4194308,4,hg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return eu(4194308,4,e,n)},useInsertionEffect:function(e,n){eu(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var l=e();if(ms){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=rn();if(a!==void 0){var c=a(n);if(ms){Rn(!0);try{a(n)}finally{Rn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},l.queue=e,e=e.dispatch=f0.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=wh(e);var n=e.queue,a=Tg.bind(null,Mt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Ch,useDeferredValue:function(e,n){var a=rn();return Dh(a,e,n)},useTransition:function(){var e=wh(!1);return e=pg.bind(null,Mt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=Mt,c=rn();if(Ht){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),ee===null)throw Error(r(349));(zt&124)!==0||Fm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,lg(Ym.bind(null,l,f,e),[e]),l.flags|=2048,er(9,tu(),Qm.bind(null,l,f,a,n),null),a},useId:function(){var e=rn(),n=ee.identifierPrefix;if(Ht){var a=Ri,l=Ai;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=""+n+"R"+a,a=$o++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=r0++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Mh,useFormState:ng,useActionState:ng,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Vh.bind(null,Mt,!0,a),a.dispatch=n,[e,n]},useMemoCache:bh,useCacheRefresh:function(){return rn().memoizedState=h0.bind(null,Mt)}},Rg={readContext:Ye,use:Jo,useCallback:dg,useContext:Ye,useEffect:og,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:Wo,useRef:rg,useState:function(){return Wo(Ci)},useDebugValue:Ch,useDeferredValue:function(e,n){var a=Ee();return gg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Wo(Ci)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Mh,useFormState:ig,useActionState:ig,useOptimistic:function(e,n){var a=Ee();return Zm(a,Kt,e,n)},useMemoCache:bh,useCacheRefresh:Eg},d0={readContext:Ye,use:Jo,useCallback:dg,useContext:Ye,useEffect:og,useImperativeHandle:fg,useInsertionEffect:ug,useLayoutEffect:cg,useMemo:mg,useReducer:Rh,useRef:rg,useState:function(){return Rh(Ci)},useDebugValue:Ch,useDeferredValue:function(e,n){var a=Ee();return Kt===null?Dh(a,e,n):gg(a,Kt.memoizedState,e,n)},useTransition:function(){var e=Rh(Ci)[0],n=Ee().memoizedState;return[typeof e=="boolean"?e:yl(e),n]},useSyncExternalStore:Gm,useId:vg,useHostTransitionStatus:Mh,useFormState:sg,useActionState:sg,useOptimistic:function(e,n){var a=Ee();return Kt!==null?Zm(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:bh,useCacheRefresh:Eg},nr=null,El=0;function au(e){var n=El;return El+=1,nr===null&&(nr=[]),Lm(nr,e,n)}function Tl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function su(e,n){throw n.$$typeof===A?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function wg(e){var n=e._init;return n(e._payload)}function Ng(e){function n(U,x){if(e){var L=U.deletions;L===null?(U.deletions=[x],U.flags|=16):L.push(x)}}function a(U,x){if(!e)return null;for(;x!==null;)n(U,x),x=x.sibling;return null}function l(U){for(var x=new Map;U!==null;)U.key!==null?x.set(U.key,U):x.set(U.index,U),U=U.sibling;return x}function c(U,x){return U=bi(U,x),U.index=0,U.sibling=null,U}function f(U,x,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<x?(U.flags|=67108866,x):L):(U.flags|=67108866,x)):(U.flags|=1048576,x)}function v(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,x,L,K){return x===null||x.tag!==6?(x=Wc(L,U.mode,K),x.return=U,x):(x=c(x,L),x.return=U,x)}function C(U,x,L,K){var ht=L.type;return ht===Z?F(U,x,L.props.children,K,L.key):x!==null&&(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&wg(ht)===x.type)?(x=c(x,L.props),Tl(x,L),x.return=U,x):(x=ko(L.type,L.key,L.props,null,U.mode,K),Tl(x,L),x.return=U,x)}function j(U,x,L,K){return x===null||x.tag!==4||x.stateNode.containerInfo!==L.containerInfo||x.stateNode.implementation!==L.implementation?(x=th(L,U.mode,K),x.return=U,x):(x=c(x,L.children||[]),x.return=U,x)}function F(U,x,L,K,ht){return x===null||x.tag!==7?(x=rs(L,U.mode,K,ht),x.return=U,x):(x=c(x,L),x.return=U,x)}function $(U,x,L){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Wc(""+x,U.mode,L),x.return=U,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case I:return L=ko(x.type,x.key,x.props,null,U.mode,L),Tl(L,x),L.return=U,L;case z:return x=th(x,U.mode,L),x.return=U,x;case b:var K=x._init;return x=K(x._payload),$(U,x,L)}if(Dt(x)||O(x))return x=rs(x,U.mode,L,null),x.return=U,x;if(typeof x.then=="function")return $(U,au(x),L);if(x.$$typeof===et)return $(U,Fo(U,x),L);su(U,x)}return null}function k(U,x,L,K){var ht=x!==null?x.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(U,x,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case I:return L.key===ht?C(U,x,L,K):null;case z:return L.key===ht?j(U,x,L,K):null;case b:return ht=L._init,L=ht(L._payload),k(U,x,L,K)}if(Dt(L)||O(L))return ht!==null?null:F(U,x,L,K,null);if(typeof L.then=="function")return k(U,x,au(L),K);if(L.$$typeof===et)return k(U,x,Fo(U,L),K);su(U,L)}return null}function q(U,x,L,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(L)||null,E(x,U,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case I:return U=U.get(K.key===null?L:K.key)||null,C(x,U,K,ht);case z:return U=U.get(K.key===null?L:K.key)||null,j(x,U,K,ht);case b:var Vt=K._init;return K=Vt(K._payload),q(U,x,L,K,ht)}if(Dt(K)||O(K))return U=U.get(L)||null,F(x,U,K,ht,null);if(typeof K.then=="function")return q(U,x,L,au(K),ht);if(K.$$typeof===et)return q(U,x,L,Fo(x,K),ht);su(x,K)}return null}function St(U,x,L,K){for(var ht=null,Vt=null,mt=x,Et=x=0,Ue=null;mt!==null&&Et<L.length;Et++){mt.index>Et?(Ue=mt,mt=null):Ue=mt.sibling;var qt=k(U,mt,L[Et],K);if(qt===null){mt===null&&(mt=Ue);break}e&&mt&&qt.alternate===null&&n(U,mt),x=f(qt,x,Et),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt,mt=Ue}if(Et===L.length)return a(U,mt),Ht&&os(U,Et),ht;if(mt===null){for(;Et<L.length;Et++)mt=$(U,L[Et],K),mt!==null&&(x=f(mt,x,Et),Vt===null?ht=mt:Vt.sibling=mt,Vt=mt);return Ht&&os(U,Et),ht}for(mt=l(mt);Et<L.length;Et++)Ue=q(mt,U,Et,L[Et],K),Ue!==null&&(e&&Ue.alternate!==null&&mt.delete(Ue.key===null?Et:Ue.key),x=f(Ue,x,Et),Vt===null?ht=Ue:Vt.sibling=Ue,Vt=Ue);return e&&mt.forEach(function(Sa){return n(U,Sa)}),Ht&&os(U,Et),ht}function vt(U,x,L,K){if(L==null)throw Error(r(151));for(var ht=null,Vt=null,mt=x,Et=x=0,Ue=null,qt=L.next();mt!==null&&!qt.done;Et++,qt=L.next()){mt.index>Et?(Ue=mt,mt=null):Ue=mt.sibling;var Sa=k(U,mt,qt.value,K);if(Sa===null){mt===null&&(mt=Ue);break}e&&mt&&Sa.alternate===null&&n(U,mt),x=f(Sa,x,Et),Vt===null?ht=Sa:Vt.sibling=Sa,Vt=Sa,mt=Ue}if(qt.done)return a(U,mt),Ht&&os(U,Et),ht;if(mt===null){for(;!qt.done;Et++,qt=L.next())qt=$(U,qt.value,K),qt!==null&&(x=f(qt,x,Et),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt);return Ht&&os(U,Et),ht}for(mt=l(mt);!qt.done;Et++,qt=L.next())qt=q(mt,U,Et,qt.value,K),qt!==null&&(e&&qt.alternate!==null&&mt.delete(qt.key===null?Et:qt.key),x=f(qt,x,Et),Vt===null?ht=qt:Vt.sibling=qt,Vt=qt);return e&&mt.forEach(function(mE){return n(U,mE)}),Ht&&os(U,Et),ht}function Zt(U,x,L,K){if(typeof L=="object"&&L!==null&&L.type===Z&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case I:t:{for(var ht=L.key;x!==null;){if(x.key===ht){if(ht=L.type,ht===Z){if(x.tag===7){a(U,x.sibling),K=c(x,L.props.children),K.return=U,U=K;break t}}else if(x.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&wg(ht)===x.type){a(U,x.sibling),K=c(x,L.props),Tl(K,L),K.return=U,U=K;break t}a(U,x);break}else n(U,x);x=x.sibling}L.type===Z?(K=rs(L.props.children,U.mode,K,L.key),K.return=U,U=K):(K=ko(L.type,L.key,L.props,null,U.mode,K),Tl(K,L),K.return=U,U=K)}return v(U);case z:t:{for(ht=L.key;x!==null;){if(x.key===ht)if(x.tag===4&&x.stateNode.containerInfo===L.containerInfo&&x.stateNode.implementation===L.implementation){a(U,x.sibling),K=c(x,L.children||[]),K.return=U,U=K;break t}else{a(U,x);break}else n(U,x);x=x.sibling}K=th(L,U.mode,K),K.return=U,U=K}return v(U);case b:return ht=L._init,L=ht(L._payload),Zt(U,x,L,K)}if(Dt(L))return St(U,x,L,K);if(O(L)){if(ht=O(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),vt(U,x,L,K)}if(typeof L.then=="function")return Zt(U,x,au(L),K);if(L.$$typeof===et)return Zt(U,x,Fo(U,L),K);su(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,x!==null&&x.tag===6?(a(U,x.sibling),K=c(x,L),K.return=U,U=K):(a(U,x),K=Wc(L,U.mode,K),K.return=U,U=K),v(U)):a(U,x)}return function(U,x,L,K){try{El=0;var ht=Zt(U,x,L,K);return nr=null,ht}catch(mt){if(mt===hl||mt===Yo)throw mt;var Vt=mn(29,mt,null,U.mode);return Vt.lanes=K,Vt.return=U,Vt}finally{}}}var ir=Ng(!0),Cg=Ng(!1),xn=X(null),si=null;function la(e){var n=e.alternate;st(Ne,Ne.current&1),st(xn,e),si===null&&(n===null||Js.current!==null||n.memoizedState!==null)&&(si=e)}function Dg(e){if(e.tag===22){if(st(Ne,Ne.current),st(xn,e),si===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(si=e)}}else oa()}function oa(){st(Ne,Ne.current),st(xn,xn.current)}function Di(e){rt(xn),si===e&&(si=null),rt(Ne)}var Ne=X(0);function ru(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Oh(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var xh={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=_n(),c=aa(l);c.payload=n,a!=null&&(c.callback=a),n=sa(e,c,l),n!==null&&(vn(n,e,l),dl(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=_n(),c=aa(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=sa(e,c,l),n!==null&&(vn(n,e,l),dl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=_n(),l=aa(a);l.tag=2,n!=null&&(l.callback=n),n=sa(e,l,a),n!==null&&(vn(n,e,a),dl(n,e,a))}};function Ig(e,n,a,l,c,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!il(a,l)||!il(c,f):!0}function Mg(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&xh.enqueueReplaceState(n,n.state,null)}function gs(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=T({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var lu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vg(e){lu(e)}function Og(e){console.error(e)}function xg(e){lu(e)}function ou(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ug(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Uh(e,n,a){return a=aa(a),a.tag=3,a.payload={element:null},a.callback=function(){ou(e,n)},a}function Lg(e){return e=aa(e),e.tag=3,e}function Pg(e,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;e.payload=function(){return c(f)},e.callback=function(){Ug(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Ug(n,a,l),typeof c!="function"&&(ma===null?ma=new Set([this]):ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function m0(e,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ol(n,a,c,!0),a=xn.current,a!==null){switch(a.tag){case 13:return si===null?rf():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ch?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),of(e,l,c)),!1;case 22:return a.flags|=65536,l===ch?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),of(e,l,c)),!1}throw Error(r(435,a.tag))}return of(e,l,c),rf(),!1}if(Ht)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==ih&&(e=Error(r(422),{cause:l}),ll(In(e,a)))):(l!==ih&&(n=Error(r(423),{cause:l}),ll(In(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,l=In(l,a),c=Uh(e.stateNode,l,c),dh(e,c),ce!==4&&(ce=2)),!1;var f=Error(r(520),{cause:l});if(f=In(f,a),Cl===null?Cl=[f]:Cl.push(f),ce!==4&&(ce=2),n===null)return!0;l=In(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Uh(a.stateNode,l,e),dh(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ma===null||!ma.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Lg(c),Pg(c,e,a,l),dh(a,c),!1}a=a.return}while(a!==null);return!1}var zg=Error(r(461)),Oe=!1;function je(e,n,a,l){n.child=e===null?Cg(n,null,a,l):ir(n,e.child,a,l)}function jg(e,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return fs(n),l=_h(e,n,a,v,f,c),E=vh(),e!==null&&!Oe?(Eh(e,n,c),Ii(e,n,c)):(Ht&&E&&eh(n),n.flags|=1,je(e,n,l,c),n.child)}function Bg(e,n,a,l,c){if(e===null){var f=a.type;return typeof f=="function"&&!Jc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,kg(e,n,f,l,c)):(e=ko(a.type,null,l,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hh(e,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(v,l)&&e.ref===n.ref)return Ii(e,n,c)}return n.flags|=1,e=bi(f,l),e.ref=n.ref,e.return=n,n.child=e}function kg(e,n,a,l,c){if(e!==null){var f=e.memoizedProps;if(il(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,Hh(e,c))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,Ii(e,n,c)}return Lh(e,n,a,l,c)}function qg(e,n,a){var l=n.pendingProps,c=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Hg(e,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?km(n,f):gh(),Dg(n);else return n.lanes=n.childLanes=536870912,Hg(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Qo(n,f.cachePool),km(n,f),oa(),n.memoizedState=null):(e!==null&&Qo(n,null),gh(),oa());return je(e,n,c,a),n.child}function Hg(e,n,a,l){var c=uh();return c=c===null?null:{parent:we._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&Qo(n,null),gh(),Dg(n),e!==null&&ol(e,n,l,!0),null}function uu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Lh(e,n,a,l,c){return fs(n),a=_h(e,n,a,l,void 0,c),l=vh(),e!==null&&!Oe?(Eh(e,n,c),Ii(e,n,c)):(Ht&&l&&eh(n),n.flags|=1,je(e,n,a,c),n.child)}function Gg(e,n,a,l,c,f){return fs(n),n.updateQueue=null,a=Hm(n,l,a,c),qm(e),l=vh(),e!==null&&!Oe?(Eh(e,n,f),Ii(e,n,f)):(Ht&&l&&eh(n),n.flags|=1,je(e,n,a,f),n.child)}function Fg(e,n,a,l,c){if(fs(n),n.stateNode===null){var f=Ys,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ye(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},hh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ye(v):Ys,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Oh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&xh.enqueueReplaceState(f,f.state,null),gl(n,l,f,c),ml(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=gs(a,E);f.props=C;var j=f.context,F=a.contextType;v=Ys,typeof F=="object"&&F!==null&&(v=Ye(F));var $=a.getDerivedStateFromProps;F=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&Mg(n,f,l,v),ia=!1;var k=n.memoizedState;f.state=k,gl(n,l,f,c),ml(),j=n.memoizedState,E||k!==j||ia?(typeof $=="function"&&(Oh(n,a,$,l),j=n.memoizedState),(C=ia||Ig(n,a,C,l,k,j,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=v,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,fh(e,n),v=n.memoizedProps,F=gs(a,v),f.props=F,$=n.pendingProps,k=f.context,j=a.contextType,C=Ys,typeof j=="object"&&j!==null&&(C=Ye(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==$||k!==C)&&Mg(n,f,l,C),ia=!1,k=n.memoizedState,f.state=k,gl(n,l,f,c),ml();var q=n.memoizedState;v!==$||k!==q||ia||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof E=="function"&&(Oh(n,a,E,l),q=n.memoizedState),(F=ia||Ig(n,a,F,l,k,q,C)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&k===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,uu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ir(n,e.child,null,c),n.child=ir(n,null,a,c)):je(e,n,a,c),n.memoizedState=f.state,e=n.child):e=Ii(e,n,c),e}function Qg(e,n,a,l){return rl(),n.flags|=256,je(e,n,a,l),n.child}var Ph={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zh(e){return{baseLanes:e,cachePool:Om()}}function jh(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Un),e}function Yg(e,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Ne.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(c?la(n):oa(),Ht){var E=ue,C;if(C=E){t:{for(C=E,E=ai;C.nodeType!==8;){if(!E){E=null;break t}if(C=Yn(C.nextSibling),C===null){E=null;break t}}E=C}E!==null?(n.memoizedState={dehydrated:E,treeContext:ls!==null?{id:Ai,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=E,C.return=n,n.child=C,en=n,ue=null,C=!0):C=!1}C||cs(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return bf(E)?n.lanes=32:n.lanes=536870912,null;Di(n)}return E=l.children,l=l.fallback,c?(oa(),c=n.mode,E=cu({mode:"hidden",children:E},c),l=rs(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=zh(a),c.childLanes=jh(e,v,a),n.memoizedState=Ph,l):(la(n),Bh(n,E))}if(C=e.memoizedState,C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(la(n),n.flags&=-257,n=kh(e,n,a)):n.memoizedState!==null?(oa(),n.child=e.child,n.flags|=128,n=null):(oa(),c=l.fallback,E=n.mode,l=cu({mode:"visible",children:l.children},E),c=rs(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ir(n,e.child,null,a),l=n.child,l.memoizedState=zh(a),l.childLanes=jh(e,v,a),n.memoizedState=Ph,n=c);else if(la(n),bf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(r(419)),l.stack="",l.digest=v,ll({value:l,source:null,stack:null}),n=kh(e,n,a)}else if(Oe||ol(e,n,a,!1),v=(a&e.childLanes)!==0,Oe||v){if(v=ee,v!==null&&(l=a&-a,l=(l&42)!==0?1:Br(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Qs(e,l),vn(v,e,l),zg;E.data==="$?"||rf(),n=kh(e,n,a)}else E.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ue=Yn(E.nextSibling),en=n,Ht=!0,us=null,ai=!1,e!==null&&(Vn[On++]=Ai,Vn[On++]=Ri,Vn[On++]=ls,Ai=e.id,Ri=e.overflow,ls=n),n=Bh(n,l.children),n.flags|=4096);return n}return c?(oa(),c=l.fallback,E=n.mode,C=e.child,j=C.sibling,l=bi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?c=bi(j,c):(c=rs(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=e.child.memoizedState,E===null?E=zh(a):(C=E.cachePool,C!==null?(j=we._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=Om(),E={baseLanes:E.baseLanes|a,cachePool:C}),c.memoizedState=E,c.childLanes=jh(e,v,a),n.memoizedState=Ph,l):(la(n),a=e.child,e=a.sibling,a=bi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Bh(e,n){return n=cu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function cu(e,n){return e=mn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function kh(e,n,a){return ir(n,e.child,null,a),e=Bh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),sh(e.return,n,a)}function qh(e,n,a,l,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Xg(e,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(je(e,n,l.children,a),l=Ne.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,a,n);else if(e.tag===19)Kg(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(st(Ne,l),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&ru(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),qh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&ru(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}qh(n,!0,a,null,f);break;case"together":qh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),da|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ol(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=bi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=bi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Hh(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function g0(e,n,a){switch(n.tag){case 3:Pt(n,n.stateNode.containerInfo),na(n,we,e.memoizedState.cache),rl();break;case 27:case 5:bn(n);break;case 4:Pt(n,n.stateNode.containerInfo);break;case 10:na(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(la(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yg(e,n,a):(la(n),e=Ii(e,n,a),e!==null?e.sibling:null);la(n);break;case 19:var c=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ol(e,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Xg(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),st(Ne,Ne.current),l)break;return null;case 22:case 23:return n.lanes=0,qg(e,n,a);case 24:na(n,we,e.memoizedState.cache)}return Ii(e,n,a)}function Zg(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!Hh(e,a)&&(n.flags&128)===0)return Oe=!1,g0(e,n,a);Oe=(e.flags&131072)!==0}else Oe=!1,Ht&&(n.flags&1048576)!==0&&wm(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Jc(l)?(e=gs(l,e),n.tag=1,n=Fg(null,n,l,e,a)):(n.tag=0,n=Lh(null,n,l,e,a));else{if(l!=null){if(c=l.$$typeof,c===pt){n.tag=11,n=jg(null,n,l,e,a);break t}else if(c===w){n.tag=14,n=Bg(null,n,l,e,a);break t}}throw n=Rt(l)||l,Error(r(306,n,""))}}return n;case 0:return Lh(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=gs(l,n.pendingProps),Fg(e,n,l,c,a);case 3:t:{if(Pt(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,fh(e,n),gl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,na(n,we,l),l!==f.cache&&rh(n,[we],a,!0),ml(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qg(e,n,l,a);break t}else if(l!==c){c=In(Error(r(424)),n),ll(c),n=Qg(e,n,l,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=Yn(e.firstChild),en=n,Ht=!0,us=null,ai=!0,a=Cg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===c){n=Ii(e,n,a);break t}je(e,n,l,a)}n=n.child}return n;case 26:return uu(e,n),e===null?(a=ty(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ht||(a=n.type,e=n.pendingProps,l=Au(yt.current).createElement(a),l[fe]=n,l[ze]=e,ke(l,a,e),de(l),n.stateNode=l):n.memoizedState=ty(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return bn(n),e===null&&Ht&&(l=n.stateNode=$p(n.type,n.pendingProps,yt.current),en=n,ai=!0,c=ue,ya(n.type)?(Af=c,ue=Yn(l.firstChild)):ue=c),je(e,n,n.pendingProps.children,a),uu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((c=l=ue)&&(l=H0(l,n.type,n.pendingProps,ai),l!==null?(n.stateNode=l,en=n,ue=Yn(l.firstChild),ai=!1,c=!0):c=!1),c||cs(n)),bn(n),c=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,l=f.children,Ef(c,f)?l=null:v!==null&&Ef(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=_h(e,n,l0,null,null,a),Pl._currentValue=c),uu(e,n),je(e,n,l,a),n.child;case 6:return e===null&&Ht&&((e=a=ue)&&(a=G0(a,n.pendingProps,ai),a!==null?(n.stateNode=a,en=n,ue=null,e=!0):e=!1),e||cs(n)),null;case 13:return Yg(e,n,a);case 4:return Pt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ir(n,null,l,a):je(e,n,l,a),n.child;case 11:return jg(e,n,n.type,n.pendingProps,a);case 7:return je(e,n,n.pendingProps,a),n.child;case 8:return je(e,n,n.pendingProps.children,a),n.child;case 12:return je(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,na(n,n.type,l.value),je(e,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,fs(n),c=Ye(c),l=l(c),n.flags|=1,je(e,n,l,a),n.child;case 14:return Bg(e,n,n.type,n.pendingProps,a);case 15:return kg(e,n,n.type,n.pendingProps,a);case 19:return Xg(e,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},e===null?(a=cu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=bi(e.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return qg(e,n,a);case 24:return fs(n),l=Ye(we),e===null?(c=uh(),c===null&&(c=ee,f=lh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},hh(n),na(n,we,c)):((e.lanes&a)!==0&&(fh(e,n),gl(n,null,null,a),ml()),c=e.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),na(n,we,l)):(l=f.cache,na(n,we,l),l!==c.cache&&rh(n,[we],a,!0))),je(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mi(e){e.flags|=4}function $g(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!sy(n)){if(n=xn.current,n!==null&&((zt&4194048)===zt?si!==null:(zt&62914560)!==zt&&(zt&536870912)===0||n!==si))throw fl=ch,xm;e.flags|=8192}}function hu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Hi():536870912,e.lanes|=n,lr|=n)}function Sl(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function p0(e,n,a){var l=n.pendingProps;switch(nh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ni(we),De(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(sl(n)?Mi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Dm())),le(n),null;case 26:return a=n.memoizedState,e===null?(Mi(n),a!==null?(le(n),$g(n,a)):(le(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mi(n),le(n),$g(n,a)):(le(n),n.flags&=-16777217):(e.memoizedProps!==l&&Mi(n),le(n),n.flags&=-16777217),null;case 27:cn(n),a=yt.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}e=ft.current,sl(n)?Nm(n):(e=$p(c,l,a),n.stateNode=e,Mi(n))}return le(n),null;case 5:if(cn(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return le(n),null}if(e=ft.current,sl(n))Nm(n);else{switch(c=Au(yt.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}e[fe]=n,e[ze]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ke(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mi(n)}}return le(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=yt.current,sl(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,c=en,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}e[fe]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gp(e.nodeValue,a)),e||cs(n)}else e=Au(e).createTextNode(l),e[fe]=n,n.stateNode=e}return le(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=sl(n),l!==null&&l.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[fe]=n}else rl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),c=!1}else c=Dm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),hu(n,n.updateQueue),le(n),null;case 4:return De(),e===null&&gf(n.stateNode.containerInfo),le(n),null;case 10:return Ni(n.type),le(n),null;case 19:if(rt(Ne),c=n.memoizedState,c===null)return le(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Sl(c,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ru(e),f!==null){for(n.flags|=128,Sl(c,!1),e=f.updateQueue,n.updateQueue=e,hu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Rm(a,e),a=a.sibling;return st(Ne,Ne.current&1|2),n.child}e=e.sibling}c.tail!==null&&sn()>mu&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304)}else{if(!l)if(e=ru(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,hu(n,e),Sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Ht)return le(n),null}else 2*sn()-c.renderingStartTime>mu&&a!==536870912&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=sn(),n.sibling=null,e=Ne.current,st(Ne,l?e&1|2:e&1),n):(le(n),null);case 22:case 23:return Di(n),ph(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),a=n.updateQueue,a!==null&&hu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&rt(ds),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ni(we),le(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function y0(e,n){switch(nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ni(we),De(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return cn(n),null;case 13:if(Di(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));rl()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return rt(Ne),null;case 4:return De(),null;case 10:return Ni(n.type),null;case 22:case 23:return Di(n),ph(),e!==null&&rt(ds),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ni(we),null;case 25:return null;default:return null}}function Jg(e,n){switch(nh(n),n.tag){case 3:Ni(we),De();break;case 26:case 27:case 5:cn(n);break;case 4:De();break;case 13:Di(n);break;case 19:rt(Ne);break;case 10:Ni(n.type);break;case 22:case 23:Di(n),ph(),e!==null&&rt(ds);break;case 24:Ni(we)}}function bl(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&e)===e){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(E){Jt(n,n.return,E)}}function ua(e,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&e)===e){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var C=a,j=E;try{j()}catch(F){Jt(c,C,F)}}}l=l.next}while(l!==f)}}catch(F){Jt(n,n.return,F)}}function Wg(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Bm(n,a)}catch(l){Jt(e,e.return,l)}}}function tp(e,n,a){a.props=gs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,n,l)}}function Al(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(c){Jt(e,n,c)}}function ri(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Jt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Jt(e,n,c)}else a.current=null}function ep(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Jt(e,e.return,c)}}function Gh(e,n,a){try{var l=e.stateNode;z0(l,e.type,a,n),l[ze]=n}catch(c){Jt(e,e.return,c)}}function np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function Fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qh(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Qh(e,n,a),e=e.sibling;e!==null;)Qh(e,n,a),e=e.sibling}function fu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(fu(e,n,a),e=e.sibling;e!==null;)fu(e,n,a),e=e.sibling}function ip(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ke(n,l,a),n[fe]=e,n[ze]=a}catch(f){Jt(e,e.return,f)}}var Vi=!1,pe=!1,Yh=!1,ap=typeof WeakSet=="function"?WeakSet:Set,xe=null;function _0(e,n){if(e=e.containerInfo,_f=Iu,e=gm(e),Fc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,C=-1,j=0,F=0,$=e,k=null;e:for(;;){for(var q;$!==a||c!==0&&$.nodeType!==3||(E=v+c),$!==f||l!==0&&$.nodeType!==3||(C=v+l),$.nodeType===3&&(v+=$.nodeValue.length),(q=$.firstChild)!==null;)k=$,$=q;for(;;){if($===e)break e;if(k===a&&++j===c&&(E=v),k===f&&++F===l&&(C=v),(q=$.nextSibling)!==null)break;$=k,k=$.parentNode}$=q}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(vf={focusedElem:e,selectionRange:a},Iu=!1,xe=n;xe!==null;)if(n=xe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,xe=e;else for(;xe!==null;){switch(n=xe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var St=gs(a.type,c,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(St,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Jt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Sf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Sf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,xe=e;break}xe=n.return}}function sp(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ca(e,a),l&4&&bl(5,a);break;case 1:if(ca(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){Jt(a,a.return,v)}else{var c=gs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){Jt(a,a.return,v)}}l&64&&Wg(a),l&512&&Al(a,a.return);break;case 3:if(ca(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Bm(e,n)}catch(v){Jt(a,a.return,v)}}break;case 27:n===null&&l&4&&ip(a);case 26:case 5:ca(e,a),n===null&&l&4&&ep(a),l&512&&Al(a,a.return);break;case 12:ca(e,a);break;case 13:ca(e,a),l&4&&op(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=N0.bind(null,a),F0(e,a))));break;case 22:if(l=a.memoizedState!==null||Vi,!l){n=n!==null&&n.memoizedState!==null||pe,c=Vi;var f=pe;Vi=l,(pe=n)&&!f?ha(e,a,(a.subtreeFlags&8772)!==0):ca(e,a),Vi=c,pe=f}break;case 30:break;default:ca(e,a)}}function rp(e){var n=e.alternate;n!==null&&(e.alternate=null,rp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ms(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,ln=!1;function Oi(e,n,a){for(a=a.child;a!==null;)lp(e,n,a),a=a.sibling}function lp(e,n,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Bi,a)}catch{}switch(a.tag){case 26:pe||ri(a,n),Oi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pe||ri(a,n);var l=ae,c=ln;ya(a.type)&&(ae=a.stateNode,ln=!1),Oi(e,n,a),Ol(a.stateNode),ae=l,ln=c;break;case 5:pe||ri(a,n);case 6:if(l=ae,c=ln,ae=null,Oi(e,n,a),ae=l,ln=c,ae!==null)if(ln)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(a.stateNode)}catch(f){Jt(a,n,f)}else try{ae.removeChild(a.stateNode)}catch(f){Jt(a,n,f)}break;case 18:ae!==null&&(ln?(e=ae,Xp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),kl(e)):Xp(ae,a.stateNode));break;case 4:l=ae,c=ln,ae=a.stateNode.containerInfo,ln=!0,Oi(e,n,a),ae=l,ln=c;break;case 0:case 11:case 14:case 15:pe||ua(2,a,n),pe||ua(4,a,n),Oi(e,n,a);break;case 1:pe||(ri(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&tp(a,n,l)),Oi(e,n,a);break;case 21:Oi(e,n,a);break;case 22:pe=(l=pe)||a.memoizedState!==null,Oi(e,n,a),pe=l;break;default:Oi(e,n,a)}}function op(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{kl(e)}catch(a){Jt(n,n.return,a)}}function v0(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ap),n;default:throw Error(r(435,e.tag))}}function Kh(e,n){var a=v0(e);n.forEach(function(l){var c=C0.bind(null,e,l);a.has(l)||(a.add(l),l.then(c,c))})}function gn(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=e,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ya(E.type)){ae=E.stateNode,ln=!1;break t}break;case 5:ae=E.stateNode,ln=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(ae===null)throw Error(r(160));lp(f,v,c),ae=null,ln=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)up(n,e),n=n.sibling}var Qn=null;function up(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),pn(e),l&4&&(ua(3,e,e.return),bl(3,e),ua(5,e,e.return));break;case 1:gn(n,e),pn(e),l&512&&(pe||a===null||ri(a,a.return)),l&64&&Vi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Qn;if(gn(n,e),pn(e),l&512&&(pe||a===null||ri(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Qi]||f[fe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,l,a),f[fe]=e,de(f),l=f;break t;case"link":var v=iy("link","href",c).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;case"meta":if(v=iy("meta","content",c).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(l),ke(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[fe]=e,de(f),l=f}e.stateNode=l}else ay(c,e.type,e.stateNode);else e.stateNode=ny(c,l,e.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ay(c,e.type,e.stateNode):ny(c,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Gh(e,e.memoizedProps,a.memoizedProps)}break;case 27:gn(n,e),pn(e),l&512&&(pe||a===null||ri(a,a.return)),a!==null&&l&4&&Gh(e,e.memoizedProps,a.memoizedProps);break;case 5:if(gn(n,e),pn(e),l&512&&(pe||a===null||ri(a,a.return)),e.flags&32){c=e.stateNode;try{Cn(c,"")}catch(q){Jt(e,e.return,q)}}l&4&&e.stateNode!=null&&(c=e.memoizedProps,Gh(e,c,a!==null?a.memoizedProps:c)),l&1024&&(Yh=!0);break;case 6:if(gn(n,e),pn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(q){Jt(e,e.return,q)}}break;case 3:if(Nu=null,c=Qn,Qn=Ru(n.containerInfo),gn(n,e),Qn=c,pn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(q){Jt(e,e.return,q)}Yh&&(Yh=!1,cp(e));break;case 4:l=Qn,Qn=Ru(e.stateNode.containerInfo),gn(n,e),pn(e),Qn=l;break;case 12:gn(n,e),pn(e);break;case 13:gn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=sn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Kh(e,l)));break;case 22:c=e.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,j=Vi,F=pe;if(Vi=j||c,pe=F||C,gn(n,e),pe=F,Vi=j,pn(e),l&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||C||Vi||pe||ps(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){C=a=n;try{if(f=C.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var $=C.memoizedProps.style,k=$!=null&&$.hasOwnProperty("display")?$.display:null;E.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(q){Jt(C,C.return,q)}}}else if(n.tag===6){if(a===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(q){Jt(C,C.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Kh(e,a))));break;case 19:gn(n,e),pn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Kh(e,l)));break;case 30:break;case 21:break;default:gn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(np(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=Fh(e);fu(e,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(Cn(v,""),a.flags&=-33);var E=Fh(e);fu(e,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,j=Fh(e);Qh(e,j,C);break;default:throw Error(r(161))}}catch(F){Jt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function cp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;cp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ca(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sp(e,n.alternate,n),n=n.sibling}function ps(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ua(4,n,n.return),ps(n);break;case 1:ri(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&tp(n,n.return,a),ps(n);break;case 27:Ol(n.stateNode);case 26:case 5:ri(n,n.return),ps(n);break;case 22:n.memoizedState===null&&ps(n);break;case 30:ps(n);break;default:ps(n)}e=e.sibling}}function ha(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:ha(c,f,a),bl(4,f);break;case 1:if(ha(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Jt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)jm(C[c],E)}catch(j){Jt(l,l.return,j)}}a&&v&64&&Wg(f),Al(f,f.return);break;case 27:ip(f);case 26:case 5:ha(c,f,a),a&&l===null&&v&4&&ep(f),Al(f,f.return);break;case 12:ha(c,f,a);break;case 13:ha(c,f,a),a&&v&4&&op(c,f);break;case 22:f.memoizedState===null&&ha(c,f,a),Al(f,f.return);break;case 30:break;default:ha(c,f,a)}n=n.sibling}}function Xh(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ul(a))}function Zh(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e))}function li(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hp(e,n,a,l),n=n.sibling}function hp(e,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:li(e,n,a,l),c&2048&&bl(9,n);break;case 1:li(e,n,a,l);break;case 3:li(e,n,a,l),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ul(e)));break;case 12:if(c&2048){li(e,n,a,l),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Jt(n,n.return,C)}}else li(e,n,a,l);break;case 13:li(e,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?li(e,n,a,l):Rl(e,n):f._visibility&2?li(e,n,a,l):(f._visibility|=2,ar(e,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(v,n);break;case 24:li(e,n,a,l),c&2048&&Zh(n.alternate,n);break;default:li(e,n,a,l)}}function ar(e,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,E=a,C=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:ar(f,v,E,C,c),bl(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?ar(f,v,E,C,c):Rl(f,v):(F._visibility|=2,ar(f,v,E,C,c)),c&&j&2048&&Xh(v.alternate,v);break;case 24:ar(f,v,E,C,c),c&&j&2048&&Zh(v.alternate,v);break;default:ar(f,v,E,C,c)}n=n.sibling}}function Rl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,c=l.flags;switch(l.tag){case 22:Rl(a,l),c&2048&&Xh(l.alternate,l);break;case 24:Rl(a,l),c&2048&&Zh(l.alternate,l);break;default:Rl(a,l)}n=n.sibling}}var wl=8192;function sr(e){if(e.subtreeFlags&wl)for(e=e.child;e!==null;)fp(e),e=e.sibling}function fp(e){switch(e.tag){case 26:sr(e),e.flags&wl&&e.memoizedState!==null&&aE(Qn,e.memoizedState,e.memoizedProps);break;case 5:sr(e);break;case 3:case 4:var n=Qn;Qn=Ru(e.stateNode.containerInfo),sr(e),Qn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=wl,wl=16777216,sr(e),wl=n):sr(e));break;default:sr(e)}}function dp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Nl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,gp(l,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mp(e),e=e.sibling}function mp(e){switch(e.tag){case 0:case 11:case 15:Nl(e),e.flags&2048&&ua(9,e,e.return);break;case 3:Nl(e);break;case 12:Nl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,du(e)):Nl(e);break;default:Nl(e)}}function du(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];xe=l,gp(l,e)}dp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ua(8,n,n.return),du(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,du(n));break;default:du(n)}e=e.sibling}}function gp(e,n){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ua(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else t:for(a=e;xe!==null;){l=xe;var c=l.sibling,f=l.return;if(rp(l),l===a){xe=null;break t}if(c!==null){c.return=f,xe=c;break t}xe=f}}}var E0={getCacheForType:function(e){var n=Ye(we),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},T0=typeof WeakMap=="function"?WeakMap:Map,Ft=0,ee=null,Ot=null,zt=0,Qt=0,yn=null,fa=!1,rr=!1,$h=!1,xi=0,ce=0,da=0,ys=0,Jh=0,Un=0,lr=0,Cl=null,on=null,Wh=!1,tf=0,mu=1/0,gu=null,ma=null,Be=0,ga=null,or=null,ur=0,ef=0,nf=null,pp=null,Dl=0,af=null;function _n(){if((Ft&2)!==0&&zt!==0)return zt&-zt;if(G.T!==null){var e=Zs;return e!==0?e:hf()}return pi()}function yp(){Un===0&&(Un=(zt&536870912)===0||Ht?jr():536870912);var e=xn.current;return e!==null&&(e.flags|=32),Un}function vn(e,n,a){(e===ee&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(cr(e,0),pa(e,zt,Un,!1)),he(e,a),((Ft&2)===0||e!==ee)&&(e===ee&&((Ft&2)===0&&(ys|=a),ce===4&&pa(e,zt,Un,!1)),oi(e))}function _p(e,n,a){if((Ft&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&e.expiredLanes)===0||qi(e,n),c=l?A0(e,n):lf(e,n,!0),f=l;do{if(c===0){rr&&!l&&pa(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!S0(a)){c=lf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=e;c=Cl;var C=E.current.memoizedState.isDehydrated;if(C&&(cr(E,v).flags|=256),v=lf(E,v,!1),v!==2){if($h&&!C){E.errorRecoveryDisabledLanes|=f,ys|=f,c=4;break t}f=on,on=c,f!==null&&(on===null?on=f:on.push.apply(on,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){cr(e,0),pa(e,n,0,!0);break}t:{switch(l=e,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:pa(l,n,Un,!fa);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=tf+300-sn(),10<c)){if(pa(l,n,Un,!fa),wn(l,0,!0)!==0)break t;l.timeoutHandle=Yp(vp.bind(null,l,a,on,gu,Wh,n,Un,ys,lr,fa,f,2,-0,0),c);break t}vp(l,a,on,gu,Wh,n,Un,ys,lr,fa,f,0,-0,0)}}break}while(!0);oi(e)}function vp(e,n,a,l,c,f,v,E,C,j,F,$,k,q){if(e.timeoutHandle=-1,$=n.subtreeFlags,($&8192||($&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:iE},fp(n),$=sE(),$!==null)){e.cancelPendingCommit=$(wp.bind(null,e,n,f,a,l,c,v,E,C,F,1,k,q)),pa(e,f,v,!j);return}wp(e,n,f,a,l,c,v,E,C)}function S0(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!dn(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function pa(e,n,a,l){n&=~Jh,n&=~ys,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var c=n;0<c;){var f=31-$e(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&Gi(e,a,n)}function pu(){return(Ft&6)===0?(Il(0),!1):!0}function sf(){if(Ot!==null){if(Qt===0)var e=Ot.return;else e=Ot,wi=hs=null,Th(e),nr=null,El=0,e=Ot;for(;e!==null;)Jg(e.alternate,e),e=e.return;Ot=null}}function cr(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,B0(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),sf(),ee=e,Ot=a=bi(e.current,null),zt=n,Qt=0,yn=null,fa=!1,rr=qi(e,n),$h=!1,lr=Un=Jh=ys=da=ce=0,on=Cl=null,Wh=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var c=31-$e(l),f=1<<c;n|=e[c],l&=~f}return xi=n,zo(),a}function Ep(e,n){Mt=null,G.H=iu,n===hl||n===Yo?(n=Pm(),Qt=3):n===xm?(n=Pm(),Qt=4):Qt=n===zg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Ot===null&&(ce=1,ou(e,In(n,e.current)))}function Tp(){var e=G.H;return G.H=iu,e===null?iu:e}function Sp(){var e=G.A;return G.A=E0,e}function rf(){ce=4,fa||(zt&4194048)!==zt&&xn.current!==null||(rr=!0),(da&134217727)===0&&(ys&134217727)===0||ee===null||pa(ee,zt,Un,!1)}function lf(e,n,a){var l=Ft;Ft|=2;var c=Tp(),f=Sp();(ee!==e||zt!==n)&&(gu=null,cr(e,n)),n=!1;var v=ce;t:do try{if(Qt!==0&&Ot!==null){var E=Ot,C=yn;switch(Qt){case 8:sf(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var j=Qt;if(Qt=0,yn=null,hr(e,E,C,j),a&&rr){v=0;break t}break;default:j=Qt,Qt=0,yn=null,hr(e,E,C,j)}}b0(),v=ce;break}catch(F){Ep(e,F)}while(!0);return n&&e.shellSuspendCounter++,wi=hs=null,Ft=l,G.H=c,G.A=f,Ot===null&&(ee=null,zt=0,zo()),v}function b0(){for(;Ot!==null;)bp(Ot)}function A0(e,n){var a=Ft;Ft|=2;var l=Tp(),c=Sp();ee!==e||zt!==n?(gu=null,mu=sn()+500,cr(e,n)):rr=qi(e,n);t:do try{if(Qt!==0&&Ot!==null){n=Ot;var f=yn;e:switch(Qt){case 1:Qt=0,yn=null,hr(e,n,f,1);break;case 2:case 9:if(Um(f)){Qt=0,yn=null,Ap(n);break}n=function(){Qt!==2&&Qt!==9||ee!==e||(Qt=7),oi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Um(f)?(Qt=0,yn=null,Ap(n)):(Qt=0,yn=null,hr(e,n,f,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||sy(v)){Qt=0,yn=null;var C=E.sibling;if(C!==null)Ot=C;else{var j=E.return;j!==null?(Ot=j,yu(j)):Ot=null}break e}}Qt=0,yn=null,hr(e,n,f,5);break;case 6:Qt=0,yn=null,hr(e,n,f,6);break;case 8:sf(),ce=6;break t;default:throw Error(r(462))}}R0();break}catch(F){Ep(e,F)}while(!0);return wi=hs=null,G.H=l,G.A=c,Ft=a,Ot!==null?0:(ee=null,zt=0,zo(),ce)}function R0(){for(;Ot!==null&&!Ie();)bp(Ot)}function bp(e){var n=Zg(e.alternate,e,xi);e.memoizedProps=e.pendingProps,n===null?yu(e):Ot=n}function Ap(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Gg(a,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=Gg(a,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Th(n);default:Jg(a,n),n=Ot=Rm(n,xi),n=Zg(a,n,xi)}e.memoizedProps=e.pendingProps,n===null?yu(e):Ot=n}function hr(e,n,a,l){wi=hs=null,Th(n),nr=null,El=0;var c=n.return;try{if(m0(e,c,n,a,zt)){ce=1,ou(e,In(a,e.current)),Ot=null;return}}catch(f){if(c!==null)throw Ot=c,f;ce=1,ou(e,In(a,e.current)),Ot=null;return}n.flags&32768?(Ht||l===1?e=!0:rr||(zt&536870912)!==0?e=!1:(fa=e=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Rp(n,e)):yu(n)}function yu(e){var n=e;do{if((n.flags&32768)!==0){Rp(n,fa);return}e=n.return;var a=p0(n.alternate,n,xi);if(a!==null){Ot=a;return}if(n=n.sibling,n!==null){Ot=n;return}Ot=n=e}while(n!==null);ce===0&&(ce=5)}function Rp(e,n){do{var a=y0(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);ce=6,Ot=null}function wp(e,n,a,l,c,f,v,E,C){e.cancelPendingCommit=null;do _u();while(Be!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Zc,To(e,a,f,v,E,C),e===ee&&(Ot=ee=null,zt=0),or=n,ga=e,ur=a,ef=f,nf=c,pp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D0(gi,function(){return Mp(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,c=at.p,at.p=2,v=Ft,Ft|=4;try{_0(e,n,a)}finally{Ft=v,at.p=c,G.T=l}}Be=1,Np(),Cp(),Dp()}}function Np(){if(Be===1){Be=0;var e=ga,n=or,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=at.p;at.p=2;var c=Ft;Ft|=4;try{up(n,e);var f=vf,v=gm(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&mm(E.ownerDocument.documentElement,E)){if(C!==null&&Fc(E)){var j=C.start,F=C.end;if(F===void 0&&(F=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(F,E.value.length);else{var $=E.ownerDocument||document,k=$&&$.defaultView||window;if(k.getSelection){var q=k.getSelection(),St=E.textContent.length,vt=Math.min(C.start,St),Zt=C.end===void 0?vt:Math.min(C.end,St);!q.extend&&vt>Zt&&(v=Zt,Zt=vt,vt=v);var U=dm(E,vt),x=dm(E,Zt);if(U&&x&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==x.node||q.focusOffset!==x.offset)){var L=$.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),vt>Zt?(q.addRange(L),q.extend(x.node,x.offset)):(L.setEnd(x.node,x.offset),q.addRange(L))}}}}for($=[],q=E;q=q.parentNode;)q.nodeType===1&&$.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<$.length;E++){var K=$[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Iu=!!_f,vf=_f=null}finally{Ft=c,at.p=l,G.T=a}}e.current=n,Be=2}}function Cp(){if(Be===2){Be=0;var e=ga,n=or,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=at.p;at.p=2;var c=Ft;Ft|=4;try{sp(e,n.alternate,n)}finally{Ft=c,at.p=l,G.T=a}}Be=3}}function Dp(){if(Be===4||Be===3){Be=0,Pr();var e=ga,n=or,a=ur,l=pp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Be=5:(Be=0,or=ga=null,Ip(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ma=null),kr(a),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Bi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,c=at.p,at.p=2,G.T=null;try{for(var f=e.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{G.T=n,at.p=c}}(ur&3)!==0&&_u(),oi(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===af?Dl++:(Dl=0,af=e):Dl=0,Il(0)}}function Ip(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ul(n)))}function _u(e){return Np(),Cp(),Dp(),Mp()}function Mp(){if(Be!==5)return!1;var e=ga,n=ef;ef=0;var a=kr(ur),l=G.T,c=at.p;try{at.p=32>a?32:a,G.T=null,a=nf,nf=null;var f=ga,v=ur;if(Be=0,or=ga=null,ur=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,mp(f.current),hp(f,f.current,v,a),Ft=E,Il(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Bi,f)}catch{}return!0}finally{at.p=c,G.T=l,Ip(e,n)}}function Vp(e,n,a){n=In(a,n),n=Uh(e.stateNode,n,2),e=sa(e,n,2),e!==null&&(he(e,2),oi(e))}function Jt(e,n,a){if(e.tag===3)Vp(e,e,a);else for(;n!==null;){if(n.tag===3){Vp(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ma===null||!ma.has(l))){e=In(a,e),a=Lg(2),l=sa(n,a,2),l!==null&&(Pg(a,l,n,e),he(l,2),oi(l));break}}n=n.return}}function of(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new T0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||($h=!0,c.add(a),e=w0.bind(null,e,n,a),n.then(e,e))}function w0(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(zt&a)===a&&(ce===4||ce===3&&(zt&62914560)===zt&&300>sn()-tf?(Ft&2)===0&&cr(e,0):Jh|=a,lr===zt&&(lr=0)),oi(e)}function Op(e,n){n===0&&(n=Hi()),e=Qs(e,n),e!==null&&(he(e,n),oi(e))}function N0(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),Op(e,a)}function C0(e,n){var a=0;switch(e.tag){case 13:var l=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Op(e,a)}function D0(e,n){return An(e,n)}var vu=null,fr=null,uf=!1,Eu=!1,cf=!1,_s=0;function oi(e){e!==fr&&e.next===null&&(fr===null?vu=fr=e:fr=fr.next=e),Eu=!0,uf||(uf=!0,M0())}function Il(e,n){if(!cf&&Eu){cf=!0;do for(var a=!1,l=vu;l!==null;){if(e!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-$e(42|e)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Pp(l,f))}else f=zt,f=wn(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qi(l,f)||(a=!0,Pp(l,f));l=l.next}while(a);cf=!1}}function I0(){xp()}function xp(){Eu=uf=!1;var e=0;_s!==0&&(j0()&&(e=_s),_s=0);for(var n=sn(),a=null,l=vu;l!==null;){var c=l.next,f=Up(l,n);f===0?(l.next=null,a===null?vu=c:a.next=c,c===null&&(fr=a)):(a=l,(e!==0||(f&3)!==0)&&(Eu=!0)),l=c}Il(e)}function Up(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-$e(f),E=1<<v,C=c[v];C===-1?((E&a)===0||(E&l)!==0)&&(c[v]=Ds(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,a=zt,a=wn(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&wt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qi(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&wt(l),kr(a)){case 2:case 8:a=Me;break;case 32:a=gi;break;case 268435456:a=zr;break;default:a=gi}return l=Lp.bind(null,e),a=An(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&wt(l),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,n){if(Be!==0&&Be!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(_u()&&e.callbackNode!==a)return null;var l=zt;return l=wn(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(_p(e,l,n),Up(e,sn()),e.callbackNode!=null&&e.callbackNode===a?Lp.bind(null,e):null)}function Pp(e,n){if(_u())return null;_p(e,n,!0)}function M0(){k0(function(){(Ft&6)!==0?An(Ae,I0):xp()})}function hf(){return _s===0&&(_s=jr()),_s}function zp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:kn(""+e)}function jp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function V0(e,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=zp((c[ze]||null).action),v=l.submitter;v&&(n=(n=v[ze]||null)?zp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new $a("action","action",null,l,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_s!==0){var C=v?jp(c,v):new FormData(c);Ih(a,{pending:!0,data:C,method:c.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=v?jp(c,v):new FormData(c),Ih(a,{pending:!0,data:C,method:c.method,action:f},f,C))},currentTarget:c}]})}}for(var ff=0;ff<Xc.length;ff++){var df=Xc[ff],O0=df.toLowerCase(),x0=df[0].toUpperCase()+df.slice(1);Fn(O0,"on"+x0)}Fn(_m,"onAnimationEnd"),Fn(vm,"onAnimationIteration"),Fn(Em,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn($1,"onTransitionRun"),Fn(J1,"onTransitionStart"),Fn(W1,"onTransitionCancel"),Fn(Tm,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function Bp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(F){lu(F)}c.currentTarget=null,f=C}}}}function xt(e,n){var a=n[za];a===void 0&&(a=n[za]=new Set);var l=e+"__bubble";a.has(l)||(kp(n,e,2,!1),a.add(l))}function mf(e,n,a){var l=0;n&&(l|=4),kp(a,e,l,n)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function gf(e){if(!e[Tu]){e[Tu]=!0,So.forEach(function(a){a!=="selectionchange"&&(U0.has(a)||mf(a,!1,e),mf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Tu]||(n[Tu]=!0,mf("selectionchange",!1,n))}}function kp(e,n,a,l){switch(hy(n)){case 2:var c=oE;break;case 8:c=uE;break;default:c=Df}a=c.bind(null,n,a,e),c=void 0,!Ti||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function pf(e,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=$n(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Ka(function(){var j=f,F=Kr(a),$=[];t:{var k=Sm.get(e);if(k!==void 0){var q=$a,St=e;switch(e){case"keypress":if(Xa(a)===0)break t;case"keydown":case"keyup":q=qs;break;case"focusin":St="focus",q=js;break;case"focusout":St="blur",q=js;break;case"beforeblur":case"afterblur":q=js;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ns;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Do;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=ea;break;case _m:case vm:case Em:q=Zr;break;case Tm:q=m;break;case"scroll":case"scrollend":q=Wa;break;case"wheel":q=S;break;case"copy":case"cut":case"paste":q=Mo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Wr;break;case"toggle":case"beforetoggle":q=H}var vt=(n&4)!==0,Zt=!vt&&(e==="scroll"||e==="scrollend"),U=vt?k!==null?k+"Capture":null:k;vt=[];for(var x=j,L;x!==null;){var K=x;if(L=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||L===null||U===null||(K=Wi(x,U),K!=null&&vt.push(Vl(x,K,L))),Zt)break;x=x.return}0<vt.length&&(k=new q(k,St,null,a,F),$.push({event:k,listeners:vt}))}}if((n&7)===0){t:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&a!==Yr&&(St=a.relatedTarget||a.fromElement)&&($n(St)||St[yi]))break t;if((q||k)&&(k=F.window===F?F:(k=F.ownerDocument)?k.defaultView||k.parentWindow:window,q?(St=a.relatedTarget||a.toElement,q=j,St=St?$n(St):null,St!==null&&(Zt=h(St),vt=St.tag,St!==Zt||vt!==5&&vt!==27&&vt!==6)&&(St=null)):(q=null,St=j),q!==St)){if(vt=ns,K="onMouseLeave",U="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Wr,K="onPointerLeave",U="onPointerEnter",x="pointer"),Zt=q==null?k:Yi(q),L=St==null?k:Yi(St),k=new vt(K,x+"leave",q,a,F),k.target=Zt,k.relatedTarget=L,K=null,$n(F)===j&&(vt=new vt(U,x+"enter",St,a,F),vt.target=L,vt.relatedTarget=Zt,K=vt),Zt=K,q&&St)e:{for(vt=q,U=St,x=0,L=vt;L;L=dr(L))x++;for(L=0,K=U;K;K=dr(K))L++;for(;0<x-L;)vt=dr(vt),x--;for(;0<L-x;)U=dr(U),L--;for(;x--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=dr(vt),U=dr(U)}vt=null}else vt=null;q!==null&&qp($,k,q,vt,!1),St!==null&&Zt!==null&&qp($,Zt,St,vt,!0)}}t:{if(k=j?Yi(j):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var ht=lm;else if(sm(k))if(om)ht=K1;else{ht=Q1;var Vt=F1}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?j&&Ls(j.elementType)&&(ht=lm):ht=Y1;if(ht&&(ht=ht(e,j))){rm($,ht,a,F);break t}Vt&&Vt(e,k,j),e==="focusout"&&j&&k.type==="number"&&j.memoizedProps.value!=null&&Gr(k,"number",k.value)}switch(Vt=j?Yi(j):window,e){case"focusin":(sm(Vt)||Vt.contentEditable==="true")&&(Hs=Vt,Qc=j,al=null);break;case"focusout":al=Qc=Hs=null;break;case"mousedown":Yc=!0;break;case"contextmenu":case"mouseup":case"dragend":Yc=!1,pm($,a,F);break;case"selectionchange":if(Z1)break;case"keydown":case"keyup":pm($,a,F)}var mt;if(At)t:{switch(e){case"compositionstart":var Et="onCompositionStart";break t;case"compositionend":Et="onCompositionEnd";break t;case"compositionupdate":Et="onCompositionUpdate";break t}Et=void 0}else Gn?qn(e,a)&&(Et="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Et="onCompositionStart");Et&&(me&&a.locale!=="ko"&&(Gn||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Gn&&(mt=Co()):(Dn=F,te="value"in Dn?Dn.value:Dn.textContent,Gn=!0)),Vt=Su(j,Et),0<Vt.length&&(Et=new Jr(Et,e,null,a,F),$.push({event:Et,listeners:Vt}),mt?Et.data=mt:(mt=Hn(a),mt!==null&&(Et.data=mt)))),(mt=Gt?tl(e,a):q1(e,a))&&(Et=Su(j,"onBeforeInput"),0<Et.length&&(Vt=new Jr("onBeforeInput","beforeinput",null,a,F),$.push({event:Vt,listeners:Et}),Vt.data=mt)),V0($,e,j,a,F)}Bp($,n)})}function Vl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Su(e,n){for(var a=n+"Capture",l=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Wi(e,a),c!=null&&l.unshift(Vl(e,c,f)),c=Wi(e,n),c!=null&&l.push(Vl(e,c,f))),e.tag===3)return l;e=e.return}return[]}function dr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qp(e,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,c?(j=Wi(a,f),j!=null&&v.unshift(Vl(a,j,C))):c||(j=Wi(a,f),j!=null&&v.push(Vl(a,j,C)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var L0=/\r\n?/g,P0=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(L0,`
`).replace(P0,"")}function Gp(e,n){return n=Hp(n),Hp(e)===n}function bu(){}function Xt(e,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Cn(e,""+l);break;case"className":Ha(e,"class",l);break;case"tabIndex":Ha(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ha(e,a,l);break;case"style":Qr(e,l,f);break;case"data":if(n!=="object"){Ha(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Xt(e,n,"name",c.name,c,null),Xt(e,n,"formEncType",c.formEncType,c,null),Xt(e,n,"formMethod",c.formMethod,c,null),Xt(e,n,"formTarget",c.formTarget,c,null)):(Xt(e,n,"encType",c.encType,c,null),Xt(e,n,"method",c.method,c,null),Xt(e,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=kn(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=bu);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=kn(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xt("beforetoggle",e),xt("toggle",e),qa(e,"popover",l);break;case"xlinkActuate":Nn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ro.get(a)||a,qa(e,a,l))}}function yf(e,n,a,l,c,f){switch(a){case"style":Qr(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Cn(e,l):(typeof l=="number"||typeof l=="bigint")&&Cn(e,""+l);break;case"onScroll":l!=null&&xt("scroll",e);break;case"onScrollEnd":l!=null&&xt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=e[ze]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,c);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):qa(e,a,l)}}}function ke(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,f,v,a,null)}}c&&Xt(e,n,"srcSet",a.srcSet,a,null),l&&Xt(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var E=f=v=c=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var F=a[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":C=F;break;case"defaultChecked":j=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Xt(e,n,l,F,a,null)}}Hr(e,f,E,C,j,v,c,!1),Zi(e);return;case"select":xt("invalid",e),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Xt(e,n,c,E,a,null)}n=f,a=v,e.multiple=!!l,n!=null?$i(e,!!l,n,!1):a!=null&&$i(e,!!l,a,!0);return;case"textarea":xt("invalid",e),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Xt(e,n,v,E,a,null)}Ao(e,l,c,f),Zi(e);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(e,n,C,l,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(l=0;l<Ml.length;l++)xt(Ml[l],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Xt(e,n,j,l,a,null)}return;default:if(Ls(n)){for(F in a)a.hasOwnProperty(F)&&(l=a[F],l!==void 0&&yf(e,n,F,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Xt(e,n,E,l,a,null))}function z0(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,C=null,j=null,F=null;for(q in a){var $=a[q];if(a.hasOwnProperty(q)&&$!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=$;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,$)}}for(var k in l){var q=l[k];if($=a[k],l.hasOwnProperty(k)&&(q!=null||$!=null))switch(k){case"type":f=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":F=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==$&&Xt(e,n,k,q,l,$)}}qr(e,v,E,C,j,F,f,c);return;case"select":q=v=E=k=null;for(f in a)if(C=a[f],a.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,C)}for(c in l)if(f=l[c],C=a[c],l.hasOwnProperty(c)&&(f!=null||C!=null))switch(c){case"value":k=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==C&&Xt(e,n,c,f,l,C)}n=E,a=v,l=q,k!=null?$i(e,!!a,k,!1):!!l!=!!a&&(n!=null?$i(e,!!a,n,!0):$i(e,!!a,a?[]:"",!1));return;case"textarea":q=k=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":k=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Xt(e,n,v,c,l,f)}bo(e,k,q);return;case"option":for(var St in a)if(k=a[St],a.hasOwnProperty(St)&&k!=null&&!l.hasOwnProperty(St))switch(St){case"selected":e.selected=!1;break;default:Xt(e,n,St,null,l,k)}for(C in l)if(k=l[C],q=a[C],l.hasOwnProperty(C)&&k!==q&&(k!=null||q!=null))switch(C){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(e,n,C,k,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)k=a[vt],a.hasOwnProperty(vt)&&k!=null&&!l.hasOwnProperty(vt)&&Xt(e,n,vt,null,l,k);for(j in l)if(k=l[j],q=a[j],l.hasOwnProperty(j)&&k!==q&&(k!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:Xt(e,n,j,k,l,q)}return;default:if(Ls(n)){for(var Zt in a)k=a[Zt],a.hasOwnProperty(Zt)&&k!==void 0&&!l.hasOwnProperty(Zt)&&yf(e,n,Zt,void 0,l,k);for(F in l)k=l[F],q=a[F],!l.hasOwnProperty(F)||k===q||k===void 0&&q===void 0||yf(e,n,F,k,l,q);return}}for(var U in a)k=a[U],a.hasOwnProperty(U)&&k!=null&&!l.hasOwnProperty(U)&&Xt(e,n,U,null,l,k);for($ in l)k=l[$],q=a[$],!l.hasOwnProperty($)||k===q||k==null&&q==null||Xt(e,n,$,k,l,q)}var _f=null,vf=null;function Au(e){return e.nodeType===9?e:e.ownerDocument}function Fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Tf=null;function j0(){var e=window.event;return e&&e.type==="popstate"?e===Tf?!1:(Tf=e,!0):(Tf=null,!1)}var Yp=typeof setTimeout=="function"?setTimeout:void 0,B0=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,k0=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch(q0)}:Yp;function q0(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function Xp(e,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=e.ownerDocument;if(a&1&&Ol(v.documentElement),a&2&&Ol(v.body),a&4)for(a=v.head,Ol(a),v=a.firstChild;v;){var E=v.nextSibling,C=v.nodeName;v[Qi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){e.removeChild(f),kl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);kl(n)}function Sf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Sf(a),Ms(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function H0(e,n,a,l){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Qi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function G0(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yn(e.nextSibling),e===null))return null;return e}function bf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function F0(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var Af=null;function Zp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function $p(e,n,a){switch(n=Au(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ol(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ms(e)}var Ln=new Map,Jp=new Set;function Ru(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ui=at.d;at.d={f:Q0,r:Y0,D:K0,C:X0,L:Z0,m:$0,X:W0,S:J0,M:tE};function Q0(){var e=Ui.f(),n=pu();return e||n}function Y0(e){var n=Jn(e);n!==null&&n.tag===5&&n.type==="form"?_g(n):Ui.r(e)}var mr=typeof document>"u"?null:document;function Wp(e,n,a){var l=mr;if(l&&typeof n=="string"&&n){var c=Ve(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Jp.has(c)||(Jp.add(c),e={rel:e,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ke(n,"link",e),de(n),l.head.appendChild(n)))}}function K0(e){Ui.D(e),Wp("dns-prefetch",e,null)}function X0(e,n){Ui.C(e,n),Wp("preconnect",e,n)}function Z0(e,n,a){Ui.L(e,n,a);var l=mr;if(l&&e&&n){var c='link[rel="preload"][as="'+Ve(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ve(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ve(a.imageSizes)+'"]')):c+='[href="'+Ve(e)+'"]';var f=c;switch(n){case"style":f=gr(e);break;case"script":f=pr(e)}Ln.has(f)||(e=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ln.set(f,e),l.querySelector(c)!==null||n==="style"&&l.querySelector(xl(f))||n==="script"&&l.querySelector(Ul(f))||(n=l.createElement("link"),ke(n,"link",e),de(n),l.head.appendChild(n)))}}function $0(e,n){Ui.m(e,n);var a=mr;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ve(l)+'"][href="'+Ve(e)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=pr(e)}if(!Ln.has(f)&&(e=T({rel:"modulepreload",href:e},n),Ln.set(f,e),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(f)))return}l=a.createElement("link"),ke(l,"link",e),de(l),a.head.appendChild(l)}}}function J0(e,n,a){Ui.S(e,n,a);var l=mr;if(l&&e){var c=Ki(l).hoistableStyles,f=gr(e);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(xl(f)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ln.get(f))&&Rf(e,a);var C=v=l.createElement("link");de(C),ke(C,"link",e),C._p=new Promise(function(j,F){C.onload=j,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,wu(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function W0(e,n){Ui.X(e,n);var a=mr;if(a&&e){var l=Ki(a).hoistableScripts,c=pr(e),f=l.get(c);f||(f=a.querySelector(Ul(c)),f||(e=T({src:e,async:!0},n),(n=Ln.get(c))&&wf(e,n),f=a.createElement("script"),de(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function tE(e,n){Ui.M(e,n);var a=mr;if(a&&e){var l=Ki(a).hoistableScripts,c=pr(e),f=l.get(c);f||(f=a.querySelector(Ul(c)),f||(e=T({src:e,async:!0,type:"module"},n),(n=Ln.get(c))&&wf(e,n),f=a.createElement("script"),de(f),ke(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function ty(e,n,a,l){var c=(c=yt.current)?Ru(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=gr(a.href),a=Ki(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=gr(a.href);var f=Ki(c).hoistableStyles,v=f.get(e);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=c.querySelector(xl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Ln.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(e,a),f||eE(c,e,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=pr(a),a=Ki(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function gr(e){return'href="'+Ve(e)+'"'}function xl(e){return'link[rel="stylesheet"]['+e+"]"}function ey(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function eE(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),de(n),e.head.appendChild(n))}function pr(e){return'[src="'+Ve(e)+'"]'}function Ul(e){return"script[async]"+e}function ny(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Ve(a.href)+'"]');if(l)return n.instance=l,de(l),l;var c=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),de(l),ke(l,"style",c),wu(l,a.precedence,e),n.instance=l;case"stylesheet":c=gr(a.href);var f=e.querySelector(xl(c));if(f)return n.state.loading|=4,n.instance=f,de(f),f;l=ey(a),(c=Ln.get(c))&&Rf(l,c),f=(e.ownerDocument||e).createElement("link"),de(f);var v=f;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),ke(f,"link",l),n.state.loading|=4,wu(f,a.precedence,e),n.instance=f;case"script":return f=pr(a.src),(c=e.querySelector(Ul(f)))?(n.instance=c,de(c),c):(l=a,(c=Ln.get(f))&&(l=T({},a),wf(l,c)),e=e.ownerDocument||e,c=e.createElement("script"),de(c),ke(c,"link",l),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,wu(l,a.precedence,e));return n.instance}function wu(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function wf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Nu=null;function iy(e,n,a){if(Nu===null){var l=new Map,c=Nu=new Map;c.set(a,l)}else c=Nu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Qi]||f[fe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ay(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function nE(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function sy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Ll=null;function iE(){}function aE(e,n,a){if(Ll===null)throw Error(r(475));var l=Ll;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=gr(a.href),f=e.querySelector(xl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Cu.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,de(f);return}f=e.ownerDocument||e,a=ey(a),(c=Ln.get(c))&&Rf(a,c),f=f.createElement("link"),de(f);var v=f;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),ke(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function sE(){if(Ll===null)throw Error(r(475));var e=Ll;return e.stylesheets&&e.count===0&&Nf(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&Nf(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Nf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Du=null;function Nf(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Du=new Map,n.forEach(rE,e),Du=null,Cu.call(e))}function rE(e,n){if(!(n.state.loading&4)){var a=Du.get(e);if(a)var l=a.get(null);else{a=new Map,Du.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Pl={$$typeof:et,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function lE(e,n,a,l,c,f,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Is(0),this.hiddenUpdates=Is(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(e,n,a,l,c,f,v,E,C,j,F,$){return e=new lE(e,n,a,v,E,C,j,$),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=lh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},hh(f),e}function ly(e){return e?(e=Ys,e):Ys}function oy(e,n,a,l,c,f){c=ly(c),l.context===null?l.context=c:l.pendingContext=c,l=aa(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=sa(e,l,n),a!==null&&(vn(a,e,n),dl(a,e,n))}function uy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Cf(e,n){uy(e,n),(e=e.alternate)&&uy(e,n)}function cy(e){if(e.tag===13){var n=Qs(e,67108864);n!==null&&vn(n,e,67108864),Cf(e,67108864)}}var Iu=!0;function oE(e,n,a,l){var c=G.T;G.T=null;var f=at.p;try{at.p=2,Df(e,n,a,l)}finally{at.p=f,G.T=c}}function uE(e,n,a,l){var c=G.T;G.T=null;var f=at.p;try{at.p=8,Df(e,n,a,l)}finally{at.p=f,G.T=c}}function Df(e,n,a,l){if(Iu){var c=If(l);if(c===null)pf(e,n,l,Mu,a),fy(e,l);else if(hE(c,e,n,a,l))l.stopPropagation();else if(fy(e,l),n&4&&-1<cE.indexOf(e)){for(;c!==null;){var f=Jn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=zn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-$e(v);E.entanglements[1]|=C,v&=~C}oi(f),(Ft&6)===0&&(mu=sn()+500,Il(0))}}break;case 13:E=Qs(f,2),E!==null&&vn(E,f,2),pu(),Cf(f,2)}if(f=If(l),f===null&&pf(e,n,l,Mu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else pf(e,n,l,null,a)}}function If(e){return e=Kr(e),Mf(e)}var Mu=null;function Mf(e){if(Mu=null,e=$n(e),e!==null){var n=h(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Mu=e,null}function hy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_o()){case Ae:return 2;case Me:return 8;case gi:case Uc:return 32;case zr:return 268435456;default:return 32}default:return 32}}var Vf=!1,_a=null,va=null,Ea=null,zl=new Map,jl=new Map,Ta=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(e,n){switch(e){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Ea=null;break;case"pointerover":case"pointerout":zl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Bl(e,n,a,l,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Jn(n),n!==null&&cy(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function hE(e,n,a,l,c){switch(n){case"focusin":return _a=Bl(_a,e,n,a,l,c),!0;case"dragenter":return va=Bl(va,e,n,a,l,c),!0;case"mouseover":return Ea=Bl(Ea,e,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return zl.set(f,Bl(zl.get(f)||null,e,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,Bl(jl.get(f)||null,e,n,a,l,c)),!0}return!1}function dy(e){var n=$n(e.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,zc(e.priority,function(){if(a.tag===13){var l=_n();l=Br(l);var c=Qs(a,l);c!==null&&vn(c,a,l),Cf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=If(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Yr=l,a.target.dispatchEvent(l),Yr=null}else return n=Jn(a),n!==null&&cy(n),e.blockedOn=a,!1;n.shift()}return!0}function my(e,n,a){Vu(e)&&a.delete(n)}function fE(){Vf=!1,_a!==null&&Vu(_a)&&(_a=null),va!==null&&Vu(va)&&(va=null),Ea!==null&&Vu(Ea)&&(Ea=null),zl.forEach(my),jl.forEach(my)}function Ou(e,n){e.blockedOn===n&&(e.blockedOn=null,Vf||(Vf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fE)))}var xu=null;function gy(e){xu!==e&&(xu=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){xu===e&&(xu=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],c=e[n+2];if(typeof l!="function"){if(Mf(l||a)===null)continue;break}var f=Jn(a);f!==null&&(e.splice(n,3),n-=3,Ih(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function kl(e){function n(C){return Ou(C,e)}_a!==null&&Ou(_a,e),va!==null&&Ou(va,e),Ea!==null&&Ou(Ea,e),zl.forEach(n),jl.forEach(n);for(var a=0;a<Ta.length;a++){var l=Ta[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ta.length&&(a=Ta[0],a.blockedOn===null);)dy(a),a.blockedOn===null&&Ta.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[ze]||null;if(typeof f=="function")v||gy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[ze]||null)E=v.formAction;else if(Mf(c)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),gy(a)}}}function Of(e){this._internalRoot=e}Uu.prototype.render=Of.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=_n();oy(a,l,e,n,null,null)},Uu.prototype.unmount=Of.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;oy(e.current,2,null,e,null,null),pu(),n[yi]=null}};function Uu(e){this._internalRoot=e}Uu.prototype.unstable_scheduleHydration=function(e){if(e){var n=pi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ta.length&&n!==0&&n<Ta[a].priority;a++);Ta.splice(a,0,e),a===0&&dy(e)}};var py=t.version;if(py!=="19.1.1")throw Error(r(527,py,"19.1.1"));at.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var dE={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Bi=Lu.inject(dE),Fe=Lu}catch{}}return Hl.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",c=Vg,f=Og,v=xg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(e,1,!1,null,null,a,l,c,f,v,E,null),e[yi]=n.current,gf(e),new Of(n)},Hl.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,c="",f=Vg,v=Og,E=xg,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=ry(e,1,!0,n,a??null,l,c,f,v,E,C,j),n.context=ly(null),a=n.current,l=_n(),l=Br(l),c=aa(l),c.callback=null,sa(a,c,l),a=l,n.current.lanes=a,he(n,a),oi(n),e[yi]=n.current,gf(e),new Uu(n)},Hl.version="19.1.1",Hl}var wy;function bE(){if(wy)return Lf.exports;wy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Lf.exports=SE(),Lf.exports}var AE=bE(),Bf={exports:{}},kf={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function RE(){if(Ny)return kf;Ny=1;var s=gc().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return kf.c=function(t){return s.H.useMemoCache(t)},kf}var Cy;function wE(){return Cy||(Cy=1,Bf.exports=RE()),Bf.exports}var Mr=wE();const NE=()=>{};var Dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},CE=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];t[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const h=s[i++],d=s[i++];t[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return t.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,p=o+2<s.length,y=p?s[o+2]:0,T=h>>2,A=(h&3)<<4|g>>4;let I=(g&15)<<2|y>>6,z=y&63;p||(z=64,d||(I=64)),r.push(i[T],i[A],i[I],i[z])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(H_(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):CE(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||y==null||A==null)throw new DE;const I=h<<2|g>>4;if(r.push(I),y!==64){const z=g<<4&240|y>>2;if(r.push(z),A!==64){const Z=y<<6&192|A;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class DE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IE=function(s){const t=H_(s);return G_.encodeByteArray(t,!0)},Zu=function(s){return IE(s).replace(/\./g,"")},ME=function(s){try{return G_.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=()=>VE().__FIREBASE_DEFAULTS__,xE=()=>{if(typeof process>"u"||typeof Dy>"u")return;const s=Dy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},UE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&ME(s[1]);return t&&JSON.parse(t)},Ed=()=>{try{return NE()||OE()||xE()||UE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},LE=s=>Ed()?.emulatorHosts?.[s],PE=s=>{const t=LE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},F_=()=>Ed()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function jE(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zu(JSON.stringify(i)),Zu(JSON.stringify(d)),""].join(".")}const Kl={};function kE(){const s={prod:[],emulator:[]};for(const t of Object.keys(Kl))Kl[t]?s.emulator.push(t):s.prod.push(t);return s}function qE(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Iy=!1;function HE(s,t){if(typeof window>"u"||typeof document>"u"||!Td(window.location.host)||Kl[s]===t||Kl[s]||Iy)return;Kl[s]=t;function i(I){return`__firebase__banner__${I}`}const r="__firebase__banner",h=kE().prod.length>0;function d(){const I=document.getElementById(r);I&&I.remove()}function g(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function p(I,z){I.setAttribute("width","24"),I.setAttribute("id",z),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Iy=!0,d()},I}function T(I,z){I.setAttribute("id",z),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function A(){const I=qE(r),z=i("text"),Z=document.getElementById(z)||document.createElement("span"),tt=i("learnmore"),Y=document.getElementById(tt)||document.createElement("a"),ct=i("preprendIcon"),W=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const et=I.element;g(et),T(Y,tt);const pt=y();p(W,ct),et.append(W,Z,Y,pt),document.body.appendChild(et)}h?(Z.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FE(){const s=Ed()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QE(){return!FE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YE(){try{return typeof indexedDB=="object"}catch{return!1}}function KE(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="FirebaseError";class Vr extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=XE,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q_.prototype.create)}}class Q_{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},o=`${this.service}/${t}`,h=this.errors[t],d=h?ZE(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vr(o,g,r)}}function ZE(s,t){return s.replace($E,(i,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const $E=/\{\$([^}]+)}/g;function $u(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=t[o];if(My(h)&&My(d)){if(!$u(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function My(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(s){return s&&s._delegate?s._delegate:s}class to{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new zE;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(tT(t))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(t=vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vs){return this.instances.has(t)}getOptions(t=vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&t(h,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WE(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=vs){return this.component?this.component.multipleInstances?t:vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WE(s){return s===vs?void 0:s}function tT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new JE(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Bt||(Bt={}));const nT={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},iT=Bt.INFO,aT={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},sT=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=aT[t];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y_{constructor(t){this.name=t,this._logLevel=iT,this._logHandler=sT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?nT[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const rT=(s,t)=>t.some(i=>s instanceof i);let Vy,Oy;function lT(){return Vy||(Vy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oT(){return Oy||(Oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const K_=new WeakMap,Zf=new WeakMap,X_=new WeakMap,qf=new WeakMap,Sd=new WeakMap;function uT(s){const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Aa(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&K_.set(i,s)}).catch(()=>{}),Sd.set(t,s),t}function cT(s){if(Zf.has(s))return;const t=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Zf.set(s,t)}let $f={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Zf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||X_.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Aa(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function hT(s){$f=s($f)}function fT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Hf(this),t,...i);return X_.set(r,t.sort?t.sort():[t]),Aa(r)}:oT().includes(s)?function(...t){return s.apply(Hf(this),t),Aa(K_.get(this))}:function(...t){return Aa(s.apply(Hf(this),t))}}function dT(s){return typeof s=="function"?fT(s):(s instanceof IDBTransaction&&cT(s),rT(s,lT())?new Proxy(s,$f):s)}function Aa(s){if(s instanceof IDBRequest)return uT(s);if(qf.has(s))return qf.get(s);const t=dT(s);return t!==s&&(qf.set(s,t),Sd.set(t,s)),t}const Hf=s=>Sd.get(s);function mT(s,t,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,t),g=Aa(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Aa(d.result),p.oldVersion,p.newVersion,Aa(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const gT=["get","getKey","getAll","getAllKeys","count"],pT=["put","add","delete","clear"],Gf=new Map;function xy(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Gf.get(t))return Gf.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,o=pT.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||gT.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Gf.set(t,h),h}hT(s=>({...s,get:(t,i,r)=>xy(t,i)||s.get(t,i,r),has:(t,i)=>!!xy(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(_T(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function _T(s){return s.getComponent()?.type==="VERSION"}const Jf="@firebase/app",Uy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new Y_("@firebase/app"),vT="@firebase/app-compat",ET="@firebase/analytics-compat",TT="@firebase/analytics",ST="@firebase/app-check-compat",bT="@firebase/app-check",AT="@firebase/auth",RT="@firebase/auth-compat",wT="@firebase/database",NT="@firebase/data-connect",CT="@firebase/database-compat",DT="@firebase/functions",IT="@firebase/functions-compat",MT="@firebase/installations",VT="@firebase/installations-compat",OT="@firebase/messaging",xT="@firebase/messaging-compat",UT="@firebase/performance",LT="@firebase/performance-compat",PT="@firebase/remote-config",zT="@firebase/remote-config-compat",jT="@firebase/storage",BT="@firebase/storage-compat",kT="@firebase/firestore",qT="@firebase/ai",HT="@firebase/firestore-compat",GT="firebase",FT="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",QT={[Jf]:"fire-core",[vT]:"fire-core-compat",[TT]:"fire-analytics",[ET]:"fire-analytics-compat",[bT]:"fire-app-check",[ST]:"fire-app-check-compat",[AT]:"fire-auth",[RT]:"fire-auth-compat",[wT]:"fire-rtdb",[NT]:"fire-data-connect",[CT]:"fire-rtdb-compat",[DT]:"fire-fn",[IT]:"fire-fn-compat",[MT]:"fire-iid",[VT]:"fire-iid-compat",[OT]:"fire-fcm",[xT]:"fire-fcm-compat",[UT]:"fire-perf",[LT]:"fire-perf-compat",[PT]:"fire-rc",[zT]:"fire-rc-compat",[jT]:"fire-gcs",[BT]:"fire-gcs-compat",[kT]:"fire-fst",[HT]:"fire-fst-compat",[qT]:"fire-vertex","fire-js":"fire-js",[GT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=new Map,YT=new Map,td=new Map;function Ly(s,t){try{s.container.addComponent(t)}catch(i){Pi.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Wu(s){const t=s.name;if(td.has(t))return Pi.debug(`There were multiple attempts to register component ${t}.`),!1;td.set(t,s);for(const i of Ju.values())Ly(i,s);for(const i of YT.values())Ly(i,s);return!0}function KT(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function XT(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ra=new Q_("app","Firebase",ZT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=FT;function Z_(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:Wf,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(i||(i=F_()),!i)throw Ra.create("no-options");const h=Ju.get(o);if(h){if($u(i,h.options)&&$u(r,h.config))return h;throw Ra.create("duplicate-app",{appName:o})}const d=new eT(o);for(const p of td.values())d.addComponent(p);const g=new $T(i,r,d);return Ju.set(o,g),g}function WT(s=Wf){const t=Ju.get(s);if(!t&&s===Wf&&F_())return Z_();if(!t)throw Ra.create("no-app",{appName:s});return t}function br(s,t,i){let r=QT[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=t.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${t}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Pi.warn(d.join(" "));return}Wu(new to(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebase-heartbeat-database",eS=1,eo="firebase-heartbeat-store";let Ff=null;function $_(){return Ff||(Ff=mT(tS,eS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ra.create("idb-open",{originalErrorMessage:s.message})})),Ff}async function nS(s){try{const i=(await $_()).transaction(eo),r=await i.objectStore(eo).get(J_(s));return await i.done,r}catch(t){if(t instanceof Vr)Pi.warn(t.message);else{const i=Ra.create("idb-get",{originalErrorMessage:t?.message});Pi.warn(i.message)}}}async function Py(s,t){try{const r=(await $_()).transaction(eo,"readwrite");await r.objectStore(eo).put(t,J_(s)),await r.done}catch(i){if(i instanceof Vr)Pi.warn(i.message);else{const r=Ra.create("idb-set",{originalErrorMessage:i?.message});Pi.warn(r.message)}}}function J_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=1024,aS=30;class sS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new lS(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>aS){const o=oS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Pi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=zy(),{heartbeatsToSend:i,unsentEntries:r}=rS(this._heartbeatsCache.heartbeats),o=Zu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Pi.warn(t),""}}}function zy(){return new Date().toISOString().substring(0,10)}function rS(s,t=iS){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),jy(i)>t){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),jy(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class lS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YE()?KE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await nS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return Py(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function jy(s){return Zu(JSON.stringify({version:2,heartbeats:s})).length}function oS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(s){Wu(new to("platform-logger",t=>new yT(t),"PRIVATE")),Wu(new to("heartbeat",t=>new sS(t),"PRIVATE")),br(Jf,Uy,s),br(Jf,Uy,"esm2020"),br("fire-js","")}uS("");var By=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wa,W_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(w,b){function R(){}R.prototype=b.prototype,w.F=b.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(V,D,O){for(var N=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)N[Rt-2]=arguments[Rt];return b.prototype[D].apply(V,N)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(w,b,R){R||(R=0);const V=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)V[D]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(D=0;D<16;++D)V[D]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=w.g[0],R=w.g[1],D=w.g[2];let O=w.g[3],N;N=b+(O^R&(D^O))+V[0]+3614090360&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(D^b&(R^D))+V[1]+3905402710&4294967295,O=b+(N<<12&4294967295|N>>>20),N=D+(R^O&(b^R))+V[2]+606105819&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(b^D&(O^b))+V[3]+3250441966&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(O^R&(D^O))+V[4]+4118548399&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(D^b&(R^D))+V[5]+1200080426&4294967295,O=b+(N<<12&4294967295|N>>>20),N=D+(R^O&(b^R))+V[6]+2821735955&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(b^D&(O^b))+V[7]+4249261313&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(O^R&(D^O))+V[8]+1770035416&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(D^b&(R^D))+V[9]+2336552879&4294967295,O=b+(N<<12&4294967295|N>>>20),N=D+(R^O&(b^R))+V[10]+4294925233&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(b^D&(O^b))+V[11]+2304563134&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(O^R&(D^O))+V[12]+1804603682&4294967295,b=R+(N<<7&4294967295|N>>>25),N=O+(D^b&(R^D))+V[13]+4254626195&4294967295,O=b+(N<<12&4294967295|N>>>20),N=D+(R^O&(b^R))+V[14]+2792965006&4294967295,D=O+(N<<17&4294967295|N>>>15),N=R+(b^D&(O^b))+V[15]+1236535329&4294967295,R=D+(N<<22&4294967295|N>>>10),N=b+(D^O&(R^D))+V[1]+4129170786&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(b^R))+V[6]+3225465664&4294967295,O=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(O^b))+V[11]+643717713&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(D^O))+V[0]+3921069994&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^O&(R^D))+V[5]+3593408605&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(b^R))+V[10]+38016083&4294967295,O=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(O^b))+V[15]+3634488961&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(D^O))+V[4]+3889429448&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^O&(R^D))+V[9]+568446438&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(b^R))+V[14]+3275163606&4294967295,O=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(O^b))+V[3]+4107603335&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(D^O))+V[8]+1163531501&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(D^O&(R^D))+V[13]+2850285829&4294967295,b=R+(N<<5&4294967295|N>>>27),N=O+(R^D&(b^R))+V[2]+4243563512&4294967295,O=b+(N<<9&4294967295|N>>>23),N=D+(b^R&(O^b))+V[7]+1735328473&4294967295,D=O+(N<<14&4294967295|N>>>18),N=R+(O^b&(D^O))+V[12]+2368359562&4294967295,R=D+(N<<20&4294967295|N>>>12),N=b+(R^D^O)+V[5]+4294588738&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^D)+V[8]+2272392833&4294967295,O=b+(N<<11&4294967295|N>>>21),N=D+(O^b^R)+V[11]+1839030562&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^b)+V[14]+4259657740&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^O)+V[1]+2763975236&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^D)+V[4]+1272893353&4294967295,O=b+(N<<11&4294967295|N>>>21),N=D+(O^b^R)+V[7]+4139469664&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^b)+V[10]+3200236656&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^O)+V[13]+681279174&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^D)+V[0]+3936430074&4294967295,O=b+(N<<11&4294967295|N>>>21),N=D+(O^b^R)+V[3]+3572445317&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^b)+V[6]+76029189&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(R^D^O)+V[9]+3654602809&4294967295,b=R+(N<<4&4294967295|N>>>28),N=O+(b^R^D)+V[12]+3873151461&4294967295,O=b+(N<<11&4294967295|N>>>21),N=D+(O^b^R)+V[15]+530742520&4294967295,D=O+(N<<16&4294967295|N>>>16),N=R+(D^O^b)+V[2]+3299628645&4294967295,R=D+(N<<23&4294967295|N>>>9),N=b+(D^(R|~O))+V[0]+4096336452&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~D))+V[7]+1126891415&4294967295,O=b+(N<<10&4294967295|N>>>22),N=D+(b^(O|~R))+V[14]+2878612391&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~b))+V[5]+4237533241&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~O))+V[12]+1700485571&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~D))+V[3]+2399980690&4294967295,O=b+(N<<10&4294967295|N>>>22),N=D+(b^(O|~R))+V[10]+4293915773&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~b))+V[1]+2240044497&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~O))+V[8]+1873313359&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~D))+V[15]+4264355552&4294967295,O=b+(N<<10&4294967295|N>>>22),N=D+(b^(O|~R))+V[6]+2734768916&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~b))+V[13]+1309151649&4294967295,R=D+(N<<21&4294967295|N>>>11),N=b+(D^(R|~O))+V[4]+4149444226&4294967295,b=R+(N<<6&4294967295|N>>>26),N=O+(R^(b|~D))+V[11]+3174756917&4294967295,O=b+(N<<10&4294967295|N>>>22),N=D+(b^(O|~R))+V[2]+718787259&4294967295,D=O+(N<<15&4294967295|N>>>17),N=R+(O^(D|~b))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+b&4294967295,w.g[1]=w.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+O&4294967295}r.prototype.v=function(w,b){b===void 0&&(b=w.length);const R=b-this.blockSize,V=this.C;let D=this.h,O=0;for(;O<b;){if(D==0)for(;O<=R;)o(this,w,O),O+=this.blockSize;if(typeof w=="string"){for(;O<b;)if(V[D++]=w.charCodeAt(O++),D==this.blockSize){o(this,V),D=0;break}}else for(;O<b;)if(V[D++]=w[O++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var b=1;b<w.length-8;++b)w[b]=0;b=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=b&255,b/=256;for(this.v(w),w=Array(16),b=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)w[b++]=this.g[R]>>>V&255;return w};function h(w,b){var R=g;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=b(w)}function d(w,b){this.h=b;const R=[];let V=!0;for(let D=w.length-1;D>=0;D--){const O=w[D]|0;V&&O==b||(R[D]=O,V=!1)}this.g=R}var g={};function p(w){return-128<=w&&w<128?h(w,function(b){return new d([b|0],b<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return A;if(w<0)return Y(y(-w));const b=[];let R=1;for(let V=0;w>=R;V++)b[V]=w/R|0,R*=4294967296;return new d(b,0)}function T(w,b){if(w.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(w.charAt(0)=="-")return Y(T(w.substring(1),b));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(b,8));let V=A;for(let O=0;O<w.length;O+=8){var D=Math.min(8,w.length-O);const N=parseInt(w.substring(O,O+D),b);D<8?(D=y(Math.pow(b,D)),V=V.j(D).add(y(N))):(V=V.j(R),V=V.add(y(N)))}return V}var A=p(0),I=p(1),z=p(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Y(this).m();let w=0,b=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);w+=(V>=0?V:4294967296+V)*b,b*=4294967296}return w},s.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(Z(this))return"0";if(tt(this))return"-"+Y(this).toString(w);const b=y(Math.pow(w,6));var R=this;let V="";for(;;){const D=pt(R,b).g;R=ct(R,D.j(b));let O=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=D,Z(R))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},s.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function Z(w){if(w.h!=0)return!1;for(let b=0;b<w.g.length;b++)if(w.g[b]!=0)return!1;return!0}function tt(w){return w.h==-1}s.l=function(w){return w=ct(this,w),tt(w)?-1:Z(w)?0:1};function Y(w){const b=w.g.length,R=[];for(let V=0;V<b;V++)R[V]=~w.g[V];return new d(R,~w.h).add(I)}s.abs=function(){return tt(this)?Y(this):this},s.add=function(w){const b=Math.max(this.g.length,w.g.length),R=[];let V=0;for(let D=0;D<=b;D++){let O=V+(this.i(D)&65535)+(w.i(D)&65535),N=(O>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);V=N>>>16,O&=65535,N&=65535,R[D]=N<<16|O}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ct(w,b){return w.add(Y(b))}s.j=function(w){if(Z(this)||Z(w))return A;if(tt(this))return tt(w)?Y(this).j(Y(w)):Y(Y(this).j(w));if(tt(w))return Y(this.j(Y(w)));if(this.l(z)<0&&w.l(z)<0)return y(this.m()*w.m());const b=this.g.length+w.g.length,R=[];for(var V=0;V<2*b;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<w.g.length;D++){const O=this.i(V)>>>16,N=this.i(V)&65535,Rt=w.i(D)>>>16,Dt=w.i(D)&65535;R[2*V+2*D]+=N*Dt,W(R,2*V+2*D),R[2*V+2*D+1]+=O*Dt,W(R,2*V+2*D+1),R[2*V+2*D+1]+=N*Rt,W(R,2*V+2*D+1),R[2*V+2*D+2]+=O*Rt,W(R,2*V+2*D+2)}for(w=0;w<b;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=b;w<2*b;w++)R[w]=0;return new d(R,0)};function W(w,b){for(;(w[b]&65535)!=w[b];)w[b+1]+=w[b]>>>16,w[b]&=65535,b++}function et(w,b){this.g=w,this.h=b}function pt(w,b){if(Z(b))throw Error("division by zero");if(Z(w))return new et(A,A);if(tt(w))return b=pt(Y(w),b),new et(Y(b.g),Y(b.h));if(tt(b))return b=pt(w,Y(b)),new et(Y(b.g),b.h);if(w.g.length>30){if(tt(w)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=b;V.l(w)<=0;)R=nt(R),V=nt(V);var D=ot(R,1),O=ot(V,1);for(V=ot(V,2),R=ot(R,2);!Z(V);){var N=O.add(V);N.l(w)<=0&&(D=D.add(R),O=N),V=ot(V,1),R=ot(R,1)}return b=ct(w,D.j(b)),new et(D,b)}for(D=A;w.l(b)>=0;){for(R=Math.max(1,Math.floor(w.m()/b.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=y(R),N=O.j(b);tt(N)||N.l(w)>0;)R-=V,O=y(R),N=O.j(b);Z(O)&&(O=I),D=D.add(O),w=ct(w,N)}return new et(D,w)}s.B=function(w){return pt(this,w).h},s.and=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)&w.i(V);return new d(R,this.h&w.h)},s.or=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)|w.i(V);return new d(R,this.h|w.h)},s.xor=function(w){const b=Math.max(this.g.length,w.g.length),R=[];for(let V=0;V<b;V++)R[V]=this.i(V)^w.i(V);return new d(R,this.h^w.h)};function nt(w){const b=w.g.length+1,R=[];for(let V=0;V<b;V++)R[V]=w.i(V)<<1|w.i(V-1)>>>31;return new d(R,w.h)}function ot(w,b){const R=b>>5;b%=32;const V=w.g.length-R,D=[];for(let O=0;O<V;O++)D[O]=b>0?w.i(O+R)>>>b|w.i(O+R+1)<<32-b:w.i(O+R);return new d(D,w.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,W_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,wa=d}).apply(typeof By<"u"?By:typeof self<"u"?self:typeof window<"u"?window:{});var Pu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tv,Gl,ev,qu,ed,nv,iv,av;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pu=="object"&&Pu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var _=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var P=u[S];if(!(P in _))break t;_=_[P]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&_.push([S,m[S]]);return _}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=p,y.apply(null,arguments)}function T(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(S,P,H){for(var it=Array(arguments.length-2),At=2;At<arguments.length;At++)it[At-2]=arguments[At];return m.prototype[P].apply(S,it)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function z(u){const m=u.length;if(m>0){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function Z(u,m){for(let S=1;S<arguments.length;S++){const P=arguments[S];var _=typeof P;if(_=_!="object"?_:P?Array.isArray(P)?"array":_:"null",_=="array"||_=="object"&&typeof P.length=="number"){_=u.length||0;const H=P.length||0;u.length=_+H;for(let it=0;it<H;it++)u[_+it]=P[it]}else u.push(P)}}class tt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Y(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class W{constructor(){this.h=this.g=null}add(m,_){const S=et.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new tt(()=>new pt,u=>u.reset());class pt{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ot=!1,w=new W,b=()=>{const u=Promise.resolve(void 0);nt=()=>{u.then(R)}};function R(){for(var u;u=ct();){try{u.h.call(u.g)}catch(_){Y(_)}var m=et;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ot=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function N(u){return/^[\s\xa0]*$/.test(u)}function Rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(Rt,D),Rt.prototype.init=function(u,m){const _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Dt="closure_listenable_"+(Math.random()*1e6|0),G=0;function at(u,m,_,S,P){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=P,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function It(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function M(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function X(u){const m={};for(const _ in u)m[_]=u[_];return m}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let _,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(_ in S)u[_]=S[_];for(let H=0;H<rt.length;H++)_=rt[H],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function ft(u){this.src=u,this.g={},this.h=0}ft.prototype.add=function(u,m,_,S,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=yt(u,m,S,P);return it>-1?(m=u[it],_||(m.fa=!1)):(m=new at(m,this.src,H,!!S,P),m.fa=_,u.push(m)),m};function Nt(u,m){const _=m.type;if(_ in u.g){var S=u.g[_],P=Array.prototype.indexOf.call(S,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(S,P,1),H&&(dt(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function yt(u,m,_,S){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!_&&H.ha==S)return P}return-1}var ie="closure_lm_"+(Math.random()*1e6|0),Pt={};function De(u,m,_,S,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)De(u,m[H],_,S,P);return null}return _=_o(_),u&&u[Dt]?u.J(m,_,g(S)?!!S.capture:!1,P):bn(u,m,_,!1,S,P)}function bn(u,m,_,S,P,H){if(!m)throw Error("Invalid event type");const it=g(P)?!!P.capture:!!P;let At=Pr(u);if(At||(u[ie]=At=new ft(u)),_=At.add(m,_,S,it,H),_.proxy)return _;if(S=cn(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)O||(P=it),P===void 0&&(P=!1),u.addEventListener(m.toString(),S,P);else if(u.attachEvent)u.attachEvent(wt(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function cn(){function u(_){return m.call(u.src,u.listener,_)}const m=Ie;return u}function hn(u,m,_,S,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)hn(u,m[H],_,S,P);else S=g(S)?!!S.capture:!!S,_=_o(_),u&&u[Dt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],_=yt(m,_,S,P),_>-1&&(dt(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Pr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,_,S,P)),(_=u>-1?m[u]:null)&&An(_))}function An(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Dt])Nt(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(wt(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=Pr(m))?(Nt(_,u),_.h==0&&(_.src=null,m[ie]=null)):dt(u)}}}function wt(u){return u in Pt?Pt[u]:Pt[u]="on"+u}function Ie(u,m){if(u.da)u=!0;else{m=new Rt(m,this);const _=u.listener,S=u.ha||u.src;u.fa&&An(u),u=_.call(S,m)}return u}function Pr(u){return u=u[ie],u instanceof ft?u:null}var sn="__closure_events_fn_"+(Math.random()*1e9>>>0);function _o(u){return typeof u=="function"?u:(u[sn]||(u[sn]=function(m){return u.handleEvent(m)}),u[sn])}function Ae(){V.call(this),this.i=new ft(this),this.M=this,this.G=null}A(Ae,V),Ae.prototype[Dt]=!0,Ae.prototype.removeEventListener=function(u,m,_,S){hn(this,u,m,_,S)};function Me(u,m){var _,S=u.G;if(S)for(_=[];S;S=S.G)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var P=m;m=new D(S,u),st(m,P)}P=!0;let H,it;if(_)for(it=_.length-1;it>=0;it--)H=m.g=_[it],P=gi(H,S,!0,m)&&P;if(H=m.g=u,P=gi(H,S,!0,m)&&P,P=gi(H,S,!1,m)&&P,_)for(it=0;it<_.length;it++)H=m.g=_[it],P=gi(H,S,!1,m)&&P}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let S=0;S<_.length;S++)dt(_[S]);delete u.g[m],u.h--}}this.G=null},Ae.prototype.J=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},Ae.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function gi(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const it=m[H];if(it&&!it.da&&it.capture==_){const At=it.listener,ne=it.ha||it.src;it.fa&&Nt(u.i,it),P=At.call(ne,S)!==!1&&P}}return P&&!S.defaultPrevented}function Uc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function zr(u){u.g=Uc(()=>{u.g=null,u.i&&(u.i=!1,zr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Lc extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:zr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pa(u){V.call(this),this.h=u,this.g={}}A(Pa,V);var Bi=[];function Fe(u){It(u.g,function(m,_){this.g.hasOwnProperty(_)&&An(m)},u),u.g={}}Pa.prototype.N=function(){Pa.Z.N.call(this),Fe(this)},Pa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=d.JSON.stringify,$e=d.JSON.parse,Pc=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function vo(){}function Eo(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ki(){D.call(this,"d")}A(ki,D);function zn(){D.call(this,"c")}A(zn,D);var wn={},qi=null;function Ds(){return qi=qi||new Ae}wn.Ia="serverreachability";function jr(u){D.call(this,wn.Ia,u)}A(jr,D);function Hi(u){const m=Ds();Me(m,new jr(m))}wn.STAT_EVENT="statevent";function Is(u,m){D.call(this,wn.STAT_EVENT,u),this.stat=m}A(Is,D);function he(u){const m=Ds();Me(m,new Is(m,u))}wn.Ja="timingevent";function To(u,m){D.call(this,wn.Ja,u),this.size=m}A(To,D);function Gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Fi(){this.g=!0}Fi.prototype.ua=function(){this.g=!1};function Br(u,m,_,S,P,H){u.info(function(){if(u.g)if(H){var it="",At=H.split("&");for(let Gt=0;Gt<At.length;Gt++){var ne=At[Gt].split("=");if(ne.length>1){const me=ne[0];ne=ne[1];const fn=me.split("_");it=fn.length>=2&&fn[1]=="type"?it+(me+"="+ne+"&"):it+(me+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+m+`
`+_+`
`+it})}function kr(u,m,_,S,P,H,it){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+m+`
`+_+`
`+H+" "+it})}function pi(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Zn(u,_)+(S?" "+S:"")})}function zc(u,m){u.info(function(){return"TIMEOUT: "+m})}Fi.prototype.info=function(){};function Zn(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var _=H[u];if(!(_.length<2)){var S=_[1];if(Array.isArray(S)&&!(S.length<1)){var P=S[0];if(P!="noop"&&P!="stop"&&P!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return Rn(H)}catch{return m}}var fe={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ze={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yi;function za(){}A(za,vo),za.prototype.g=function(){return new XMLHttpRequest},yi=new za;function ja(u){return encodeURIComponent(String(u))}function jc(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,S){this.j=u,this.i=m,this.l=_,this.S=S||1,this.V=new Pa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qi}function Qi(){this.i=null,this.g="",this.h=!1}var Ms={},$n={};function Jn(u,m,_){u.M=1,u.A=vi(re(m)),u.u=_,u.R=!0,Yi(u,null)}function Yi(u,m){u.F=Date.now(),Ba(u),u.B=re(u.A);var _=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ro(_.i,"t",S),u.C=0,_=u.j.L,u.h=new Qi,u.g=ks(u.j,_?m:null,!u.u),u.P>0&&(u.O=new Lc(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,S=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Bi[0]=P.toString()),P=Bi);for(let H=0;H<P.length;H++){const it=De(_,P[H],S||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?X(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Hi(),Br(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Qe(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Qe(this.g),ne=this.g.ya(),Gt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||$a(this.g)))){this.K||At!=4||ne==7||(ne==8||Gt<=0?Hi(3):Hi(2)),ti(this);var m=this.g.ca();this.X=m;var _=Ki(this);if(this.o=m==200,kr(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,P=this.g;if((S=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var H=S;break e}}H=null}if(u=H)pi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Vs(this,u);else{this.o=!1,this.m=3,he(12),ei(this),ka(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<_.length;)if(me=So(this,_),me==$n){At==4&&(this.m=4,he(14),u=!1),pi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ms){this.m=4,he(15),pi(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else pi(this.i,this.l,me,null),Vs(this,me);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,he(16),u=!1),this.o=this.o&&u,!u)pi(this.i,this.l,_,"[Invalid Chunked Response]"),ei(this),ka(this);else if(_.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),$r(it),it.P=!0,he(11))}}else pi(this.i,this.l,_,null),Vs(this,_);At==4&&ei(this),this.o&&!this.K&&(At==4?Jr(this.j,this):(this.o=!1,Ba(this)))}else Ja(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,he(12)):(this.m=0,he(13)),ei(this),ka(this)}}}catch{}finally{}};function Ki(u){if(!de(u))return u.g.la();const m=$a(u.g);if(m==="")return"";let _="";const S=m.length,P=Qe(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return ei(u),ka(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<S;H++)u.h.h=!0,_+=u.h.i.decode(m[H],{stream:!(P&&H==S-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function de(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function So(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?$n:(_=Number(m.substring(_,S)),isNaN(_)?Ms:(S+=1,S+_>m.length?$n:(m=m.slice(S,S+_),u.C=S+_,m)))}jn.prototype.cancel=function(){this.K=!0,ei(this)};function Ba(u){u.T=Date.now()+u.H,Wn(u,u.H)}function Wn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gi(y(u.aa,u),m)}function ti(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(zc(this.i,this.B),this.M!=2&&(Hi(),he(17)),ei(this),this.m=2,ka(this)):Wn(this,this.T-u)};function ka(u){u.j.I==0||u.K||Jr(u.j,u)}function ei(u){ti(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Fe(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Vs(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||Ga(_.h,u))){if(!u.L&&Ga(_.h,u)&&_.I==3){try{var S=_.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)Bs(_),ni(_);else break t;Zr(_),he(18)}}else _.xa=P[1],0<_.xa-_.K&&P[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=Gi(y(_.Va,_),6e3));Nn(_.h)<=1&&_.ta&&(_.ta=void 0)}else Si(_,11)}else if((u.L||_.g==u)&&Bs(_),!N(m))for(P=_.Ba.g.parse(m),m=0;m<P.length;m++){let Gt=P[m];const me=Gt[0];if(!(me<=_.K))if(_.K=me,Gt=Gt[1],_.I==2)if(Gt[0]=="c"){_.M=Gt[1],_.ba=Gt[2];const fn=Gt[3];fn!=null&&(_.ka=fn,_.j.info("VER="+_.ka));const ii=Gt[4];ii!=null&&(_.za=ii,_.j.info("SVER="+_.za));const qn=Gt[5];qn!=null&&typeof qn=="number"&&qn>0&&(S=1.5*qn,_.O=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const Hn=u.g;if(Hn){const Gn=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var H=S.h;H.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Os(H,H.h),H.h=null))}if(S.G){const tl=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.wa=tl,Yt(S.J,S.G,tl))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),S=_;var it=u;if(S.na=xo(S,S.L?S.ba:null,S.W),it.L){_i(S.h,it);var At=it,ne=S.O;ne&&(At.H=ne),At.D&&(ti(At),Ba(At)),S.g=it}else Io(S);_.i.length>0&&ns(_)}else Gt[0]!="stop"&&Gt[0]!="close"||Si(_,7);else _.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Si(_,7):ts(_):Gt[0]!="noop"&&_.l&&_.l.qa(Gt),_.A=0)}}Hi(4)}catch{}}var Bc=class{constructor(u,m){this.g=u,this.map=m}};function qa(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ha(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Nn(u){return u.h?1:u.g?u.g.size:0}function Ga(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Os(u,m){u.g?u.g.add(m):u.h=m}function _i(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}qa.prototype.cancel=function(){if(this.i=xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xs(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return z(u.i)}var Us=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kc(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const S=u[_].indexOf("=");let P,H=null;S>=0?(P=u[_].substring(0,S),H=u[_].substring(S+1)):P=u[_],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Bn?(this.l=u.l,Xi(this,u.j),this.o=u.o,this.g=u.g,Fa(this,u.u),this.h=u.h,Zi(this,wo(u.i)),this.m=u.m):u&&(m=String(u).match(Us))?(this.l=!1,Xi(this,m[1]||"",!0),this.o=Qa(m[2]||""),this.g=Qa(m[3]||"",!0),Fa(this,m[4]),this.h=Qa(m[5]||"",!0),Zi(this,m[6]||"",!0),this.m=Qa(m[7]||"")):(this.l=!1,this.i=new Cn(null,this.l))}Bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ve(m,Hr,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ve(m,Hr,!0),"@"),u.push(ja(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(Ve(_,_.charAt(0)=="/"?$i:Gr,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",Ve(_,Ao)),u.join("")},Bn.prototype.resolve=function(u){const m=re(this);let _=!!u.j;_?Xi(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var S=u.h;if(_)Fa(m,u.u);else if(_=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var P=m.h.lastIndexOf("/");P!=-1&&(S=m.h.slice(0,P+1)+S)}if(P=S,P==".."||P==".")S="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){S=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let it=0;it<P.length;){const At=P[it++];At=="."?S&&it==P.length&&H.push(""):At==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&it==P.length&&H.push("")):(H.push(At),S=!0)}S=H.join("/")}else S=P}return _?m.h=S:_=u.i.toString()!=="",_?Zi(m,wo(u.i)):_=!!u.m,_&&(m.m=u.m),m};function re(u){return new Bn(u)}function Xi(u,m,_){u.j=_?Qa(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Fa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Zi(u,m,_){m instanceof Cn?(u.i=m,Yr(u.i,u.l)):(_||(m=Ve(m,bo)),u.i=new Cn(m,u.l))}function Yt(u,m,_){u.i.set(m,_)}function vi(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Qa(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ve(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,qr),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qr(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hr=/[#\/\?@]/g,Gr=/[#\?:]/g,$i=/[#\?]/g,bo=/[#\?@]/g,Ao=/#/g;function Cn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Ei(u){u.g||(u.g=new Map,u.h=0,u.i&&kc(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}s=Cn.prototype,s.add=function(u,m){Ei(this),this.i=null,u=kn(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Fr(u,m){Ei(u),m=kn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Qr(u,m){return Ei(u),m=kn(u,m),u.g.has(m)}s.forEach=function(u,m){Ei(this),this.g.forEach(function(_,S){_.forEach(function(P){u.call(m,P,S,this)},this)},this)};function Ls(u,m){Ei(u);let _=[];if(typeof m=="string")Qr(u,m)&&(_=_.concat(u.g.get(kn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}s.set=function(u,m){return Ei(this),this.i=null,u=kn(this,u),Qr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Ls(this,u),u.length>0?String(u[0]):m):m};function Ro(u,m,_){Fr(u,m),_.length>0&&(u.i=null,u.g.set(kn(u,m),z(_)),u.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var _=m[S];const P=ja(_);_=Ls(this,_);for(let H=0;H<_.length;H++){let it=P;_[H]!==""&&(it+="="+ja(_[H])),u.push(it)}}return this.i=u.join("&")};function wo(u){const m=new Cn;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function kn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Yr(u,m){m&&!u.j&&(Ei(u),u.i=null,u.g.forEach(function(_,S){const P=S.toLowerCase();S!=P&&(Fr(this,S),Ro(this,P,_))},u)),u.j=m}function Kr(u,m){const _=new Fi;if(d.Image){const S=new Image;S.onload=T(Je,_,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Je,_,"TestLoadImage: error",!1,m,S),S.onabort=T(Je,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Je,_,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ji(u,m){const _=new Fi,S=new AbortController,P=setTimeout(()=>{S.abort(),Je(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(H=>{clearTimeout(P),H.ok?Je(_,"TestPingServer: ok",!0,m):Je(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),Je(_,"TestPingServer: error",!1,m)})}function Je(u,m,_,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(_)}catch{}}function No(){this.g=new Pc}function Ya(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Ya,vo),Ya.prototype.g=function(){return new Ka(this.i,this.h)};function Ka(u,m){Ae.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Ka,Ae),s=Ka.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Ti(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,We(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?We(this):Ti(this),this.readyState==3&&Wi(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,We(this))},s.Na=function(u){this.g&&(this.response=u,We(this))},s.ga=function(){this.g&&We(this)};function We(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Ti(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Ti(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ka.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ta(u){let m="";return It(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function Dn(u,m,_){t:{for(S in _){var S=!1;break t}S=!0}S||(_=ta(_),typeof u=="string"?_!=null&&ja(_):Yt(u,m,_))}function te(u){Ae.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(te,Ae);var Ps=/^https?$/i,Co=["POST","PUT"];s=te.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yi.g(),this.g.onreadystatechange=I(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Xa(this,H);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)_.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())_.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||S||P||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of _)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Xa(this,H)}};function Xa(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Za(u),Re(u)}function Za(u){u.A||(u.A=!0,Me(u,"complete"),Me(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Me(this,"complete"),Me(this,"abort"),Re(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Re(this,!0)),te.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Xr(this):this.Xa())},s.Xa=function(){Xr(this)};function Xr(u){if(u.h&&typeof h<"u"){if(u.v&&Qe(u)==4)setTimeout(u.Ca.bind(u),0);else if(Me(u,"readystatechange"),Qe(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var S;if(S=H===0){let it=String(u.D).match(Us)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),S=!Ps.test(it?it.toLowerCase():"")}_=S}if(_)Me(u,"complete"),Me(u,"success");else{u.o=6;try{var P=Qe(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Za(u)}}finally{Re(u)}}}}function Re(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||Me(u,"ready");try{_.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Qe(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Qe(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),$e(m)}};function $a(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ja(u){const m={};u=(u.g&&Qe(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(N(u[S]))continue;var _=jc(u[S]);const P=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const H=m[P]||[];m[P]=H,H.push(_)}M(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wa(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function zs(u){this.za=0,this.i=[],this.j=new Fi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wa("baseRetryDelayMs",5e3,u),this.Za=Wa("retryDelaySeedMs",1e4,u),this.Ta=Wa("forwardChannelMaxRetries",2,u),this.va=Wa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qa(u&&u.concurrentRequestLimit),this.Ba=new No,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=zs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,_,S){he(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.J=xo(this,null,this.W),ns(this)};function ts(u){if(es(u),u.I==3){var m=u.V++,_=re(u.J);if(Yt(_,"SID",u.M),Yt(_,"RID",m),Yt(_,"TYPE","terminate"),is(u,_),m=new jn(u,u.j,m),m.M=2,m.A=vi(re(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=ks(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ba(m)}Oo(u)}function ni(u){u.g&&($r(u),u.g.cancel(),u.g=null)}function es(u){ni(u),u.v&&(d.clearTimeout(u.v),u.v=null),Bs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ns(u){if(!Ha(u.h)&&!u.m){u.m=!0;var m=u.Ea;nt||b(),ot||(nt(),ot=!0),w.add(m,u),u.D=0}}function qc(u,m){return Nn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gi(y(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new jn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=X(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=js(this,P,m),_=re(this.J),Yt(_,"RID",u),Yt(_,"CVER",22),this.G&&Yt(_,"X-HTTP-Session-Id",this.G),is(this,_),H&&(this.R?m="headers="+ja(ta(H))+"&"+m:this.u&&Dn(_,this.u,H)),Os(this.h,P),this.Ra&&Yt(_,"TYPE","init"),this.S?(Yt(_,"$req",m),Yt(_,"SID","null"),P.U=!0,Jn(P,_,null)):Jn(P,_,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||Ha(this.h)||Do(this))};function Do(u,m){var _;m?_=m.l:_=u.V++;const S=re(u.J);Yt(S,"SID",u.M),Yt(S,"RID",_),Yt(S,"AID",u.K),is(u,S),u.u&&u.o&&Dn(S,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=js(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Os(u.h,_),Jn(_,S,m)}function is(u,m){u.H&&It(u.H,function(_,S){Yt(m,S,_)}),u.l&&It({},function(_,S){Yt(m,S,_)})}function js(u,m,_){_=Math.min(u.i.length,_);const S=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const ne=["count="+_];At==-1?_>0?(At=P[0].g,ne.push("ofs="+At)):At=0:ne.push("ofs="+At);let Gt=!0;for(let me=0;me<_;me++){var H=P[me].g;const fn=P[me].map;if(H-=At,H<0)At=Math.max(0,P[me].g-100),Gt=!1;else try{H="req"+H+"_"||"";try{var it=fn instanceof Map?fn:Object.entries(fn);for(const[ii,qn]of it){let Hn=qn;g(qn)&&(Hn=Rn(qn)),ne.push(H+ii+"="+encodeURIComponent(Hn))}}catch(ii){throw ne.push(H+"type="+encodeURIComponent("_badmap")),ii}}catch{S&&S(fn)}}if(Gt){it=ne.join("&");break t}}it=void 0}return u=u.i.splice(0,_),m.G=u,it}function Io(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;nt||b(),ot||(nt(),ot=!0),w.add(m,u),u.A=0}}function Zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gi(y(u.Da,u),Vo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Mo(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,he(10),ni(this),Mo(this))};function $r(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Mo(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=re(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),is(u,m),u.u&&u.o&&Dn(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=vi(re(m)),_.u=null,_.R=!0,Yi(_,u)}s.Va=function(){this.C!=null&&(this.C=null,ni(this),Zr(this),he(19))};function Bs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Jr(u,m){var _=null;if(u.g==m){Bs(u),$r(u),u.g=null;var S=2}else if(Ga(u.h,m))_=m.G,_i(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;S=Ds(),Me(S,new To(S,_)),ns(u)}else Io(u);else if(P=m.m,P==3||P==0&&m.X>0||!(S==1&&qc(u,m)||S==2&&Zr(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),P){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function Vo(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),S=u.Ua;const P=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Xi(S,"https"),vi(S),P?Kr(S.toString(),_):Ji(S.toString(),_)}else he(2);u.I=0,u.l&&u.l.pa(m),Oo(u),es(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),he(2)):(this.j.info("Failed to ping google.com"),he(1))};function Oo(u){if(u.I=0,u.ja=[],u.l){const m=xs(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.oa()}}function xo(u,m,_){var S=_ instanceof Bn?re(_):new Bn(_);if(S.g!="")m&&(S.g=m+"."+S.g),Fa(S,S.u);else{var P=d.location;S=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new Bn(null);S&&Xi(H,S),m&&(H.g=m),P&&Fa(H,P),_&&(H.h=_),S=H}return _=u.G,m=u.wa,_&&m&&Yt(S,_,m),Yt(S,"VER",u.ka),is(u,S),S}function ks(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ya({ab:_})):new te(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uo(){}s=Uo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function qs(){}qs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){Ae.call(this),this.g=new zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!N(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!N(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ea(this)}A(tn,Ae),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){ts(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=Rn(u),u=_);m.i.push(new Bc(m.Ya++,u)),m.I==3&&ns(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,ts(this.g),delete this.g,tn.Z.N.call(this)};function Wr(u){ki.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(Wr,ki);function Lo(){zn.call(this),this.status=1}A(Lo,zn);function ea(u){this.g=u}A(ea,Uo),ea.prototype.ra=function(){Me(this.g,"a")},ea.prototype.qa=function(u){Me(this.g,new Wr(u))},ea.prototype.pa=function(u){Me(this.g,new Lo)},ea.prototype.oa=function(){Me(this.g,"b")},qs.prototype.createWebChannel=qs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,av=function(){return new qs},iv=function(){return Ds()},nv=wn,ed={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fe.NO_ERROR=0,fe.TIMEOUT=8,fe.HTTP_ERROR=6,qu=fe,ze.COMPLETE="complete",ev=ze,Eo.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,Gl=Eo,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,tv=te}).apply(typeof Pu<"u"?Pu:typeof self<"u"?self:typeof window<"u"?window:{});const ky="@firebase/firestore",qy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Or="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Y_("@firebase/firestore");function yr(){return bs.logLevel}function ut(s,...t){if(bs.logLevel<=Bt.DEBUG){const i=t.map(bd);bs.debug(`Firestore (${Or}): ${s}`,...i)}}function zi(s,...t){if(bs.logLevel<=Bt.ERROR){const i=t.map(bd);bs.error(`Firestore (${Or}): ${s}`,...i)}}function Rr(s,...t){if(bs.logLevel<=Bt.WARN){const i=t.map(bd);bs.warn(`Firestore (${Or}): ${s}`,...i)}}function bd(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,sv(s,r,i)}function sv(s,t,i){let r=`FIRESTORE (${Or}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw zi(r),new Error(r)}function kt(s,t,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||sv(t,o,r)}function bt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Vr{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class hS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class fS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){kt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let h=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Li,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Li)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string",31837,{l:r}),new rv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return kt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class dS{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mS{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new dS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,XT(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){kt(this.o===void 0,3512);const r=h=>{h.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>r(h)))};const o=h=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hy(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(kt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Hy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=pS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=t.charAt(o[h]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function nd(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=t.charAt(r);if(o!==h)return Qf(o)===Qf(h)?Ut(o,h):Qf(o)?1:-1}return Ut(s.length,t.length)}const yS=55296,_S=57343;function Qf(s){const t=s.charCodeAt(0);return t>=yS&&t<=_S}function wr(s,t,i){return s.length===t.length&&s.every(((r,o)=>i(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy="__name__";class ui{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ui?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let o=0;o<r;o++){const h=ui.compareSegments(t.get(o),i.get(o));if(h!==0)return h}return Ut(t.length,i.length)}static compareSegments(t,i){const r=ui.isNumericId(t),o=ui.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ui.extractNumericId(t).compare(ui.extractNumericId(i)):nd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return wa.fromString(t.substring(4,t.length-2))}}class $t extends ui{construct(t,i,r){return new $t(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const vS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ui{construct(t,i,r){return new He(t,i,r)}static isValidIdentifier(t){return vS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gy}static keyField(){return new He([Gy])}static fromServerFormat(t){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new lt(Q.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new lt(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new lt(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(t){this.path=t}static fromPath(t){return new gt($t.fromString(t))}static fromName(t){return new gt($t.fromString(t).popFirst(5))}static empty(){return new gt($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new $t(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(s,t,i){if(!i)throw new lt(Q.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function ES(s,t,i,r){if(t===!0&&r===!0)throw new lt(Q.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Fy(s){if(!gt.isDocumentKey(s))throw new lt(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Qy(s){if(gt.isDocumentKey(s))throw new lt(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ov(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function pc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function ci(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new lt(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=pc(s);throw new lt(Q.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(s,t){const i={typeString:s};return t&&(i.value=t),i}function oo(s,t){if(!ov(s))throw new lt(Q.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const o=t[r].typeString,h="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new lt(Q.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=-62135596800,Ky=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*Ky);return new Wt(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Yy)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ky}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oo(t,Wt._jsonSchema))return new Wt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:be("string",Wt._jsonSchemaVersion),seconds:be("number"),nanoseconds:be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Wt(0,0))}static max(){return new Tt(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function TS(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Tt.fromTimestamp(r===1e9?new Wt(i+1,0):new Wt(i,r));return new Da(o,gt.empty(),t)}function SS(s){return new Da(s.readTime,s.key,no)}class Da{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Da(Tt.min(),gt.empty(),no)}static max(){return new Da(Tt.max(),gt.empty(),no)}}function bS(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xr(s){if(s.code!==Q.FAILED_PRECONDITION||s.message!==AS)throw s;ut("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,r)=>{i(t)}))}static reject(t){return new J(((i,r)=>{r(t)}))}static waitFor(t){return new J(((i,r)=>{let o=0,h=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(p=>r(p)))})),d=!0,h===o&&i()}))}static or(t){let i=J.resolve(!1);for(const r of t)i=i.next((o=>o?J.resolve(o):r()));return i}static forEach(t,i){const r=[];return t.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(t,i){return new J(((r,o)=>{const h=t.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const y=p;i(t[y]).next((T=>{d[y]=T,++g,g===h&&r(d)}),(T=>o(T)))}}))}static doWhile(t,i){return new J(((r,o)=>{const h=()=>{t()===!0?i().next((()=>{h()}),o):r()};h()}))}}function wS(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ur(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd=-1;function uo(s){return s==null}function tc(s){return s===0&&1/s==-1/0}function NS(s){return typeof s=="number"&&Number.isInteger(s)&&!tc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function CS(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Xy(t)),t=DS(s.get(i),t);return Xy(t)}function DS(s,t){let i=t;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case uv:i+="";break;default:i+=h}}return i}function Xy(s){return s+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function Ua(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function cv(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(t,i){this.comparator=t,this.root=i||qe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,qe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new zu(this.root,t,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new zu(this.root,t,this.comparator,!0)}}class zu{constructor(t,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?r(t.key,i):1,i&&o&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qe{constructor(t,i,r,o,h){this.key=t,this.value=i,this.color=r??qe.RED,this.left=o??qe.EMPTY,this.right=h??qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,o,h){return new qe(t??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const h=r(t,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(t,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return qe.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}qe.EMPTY=null,qe.RED=!0,qe.BLACK=!1;qe.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,o,h){return this}insert(t,i,r){return new qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new $y(this.data.getIterator())}getIteratorFrom(t){return new $y(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ce)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ce(this.comparator);return i.data=t,i}}class $y{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(t){this.fields=t,t.sort(He.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new Ce(He.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return wr(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new hv("Invalid base64 string: "+h):h}})(t);return new Ge(i)}static fromUint8Array(t){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(t);return new Ge(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ge.EMPTY_BYTE_STRING=new Ge("");const IS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ia(s){if(kt(!!s,39018),typeof s=="string"){let t=0;const i=IS.exec(s);if(kt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(s.seconds),nanos:ye(s.nanos)}}function ye(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Ma(s){return typeof s=="string"?Ge.fromBase64String(s):Ge.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="server_timestamp",dv="__type__",mv="__previous_value__",gv="__local_write_time__";function wd(s){return(s?.mapValue?.fields||{})[dv]?.stringValue===fv}function _c(s){const t=s.mapValue.fields[mv];return wd(t)?_c(t):t}function io(s){const t=Ia(s.mapValue.fields[gv].timestampValue);return new Wt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(t,i,r,o,h,d,g,p,y,T){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=T}}const ec="(default)";class ao{constructor(t,i){this.projectId=t,this.database=i||ec}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===ec}isEqual(t){return t instanceof ao&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="__type__",VS="__max__",ju={mapValue:{}},yv="__vector__",nc="value";function Va(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?wd(s)?4:xS(s)?9007199254740991:OS(s)?10:11:_t(28295,{value:s})}function mi(s,t){if(s===t)return!0;const i=Va(s);if(i!==Va(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return io(s).isEqual(io(t));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ia(o.timestampValue),g=Ia(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,h){return Ma(o.bytesValue).isEqual(Ma(h.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,h){return ye(o.geoPointValue.latitude)===ye(h.geoPointValue.latitude)&&ye(o.geoPointValue.longitude)===ye(h.geoPointValue.longitude)})(s,t);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ye(o.integerValue)===ye(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ye(o.doubleValue),g=ye(h.doubleValue);return d===g?tc(d)===tc(g):isNaN(d)&&isNaN(g)}return!1})(s,t);case 9:return wr(s.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Zy(d)!==Zy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!mi(d[p],g[p])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function so(s,t){return(s.values||[]).find((i=>mi(i,t)))!==void 0}function Nr(s,t){if(s===t)return 0;const i=Va(s),r=Va(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(h,d){const g=ye(h.integerValue||h.doubleValue),p=ye(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return Jy(s.timestampValue,t.timestampValue);case 4:return Jy(io(s),io(t));case 5:return nd(s.stringValue,t.stringValue);case 6:return(function(h,d){const g=Ma(h),p=Ma(d);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=Ut(g[y],p[y]);if(T!==0)return T}return Ut(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(h,d){const g=Ut(ye(h.latitude),ye(d.latitude));return g!==0?g:Ut(ye(h.longitude),ye(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Wy(s.arrayValue,t.arrayValue);case 10:return(function(h,d){const g=h.fields||{},p=d.fields||{},y=g[nc]?.arrayValue,T=p[nc]?.arrayValue,A=Ut(y?.values?.length||0,T?.values?.length||0);return A!==0?A:Wy(y,T)})(s.mapValue,t.mapValue);case 11:return(function(h,d){if(h===ju.mapValue&&d===ju.mapValue)return 0;if(h===ju.mapValue)return 1;if(d===ju.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),y=d.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const I=nd(p[A],T[A]);if(I!==0)return I;const z=Nr(g[p[A]],y[T[A]]);if(z!==0)return z}return Ut(p.length,T.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Jy(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=Ia(s),r=Ia(t),o=Ut(i.seconds,r.seconds);return o!==0?o:Ut(i.nanos,r.nanos)}function Wy(s,t){const i=s.values||[],r=t.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Nr(i[o],r[o]);if(h)return h}return Ut(i.length,r.length)}function Cr(s){return id(s)}function id(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ia(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Ma(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=id(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${id(i.fields[d])}`;return o+"}"})(s.mapValue):_t(61005,{value:s})}function Hu(s){switch(Va(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_c(s);return t?16+Hu(t):16;case 5:return 2*s.stringValue.length;case 6:return Ma(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Hu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ua(r.fields,((h,d)=>{o+=h.length+Hu(d)})),o})(s.mapValue);default:throw _t(13486,{value:s})}}function t_(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function ad(s){return!!s&&"integerValue"in s}function Nd(s){return!!s&&"arrayValue"in s}function e_(s){return!!s&&"nullValue"in s}function n_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gu(s){return!!s&&"mapValue"in s}function OS(s){return(s?.mapValue?.fields||{})[pv]?.stringValue===yv}function Xl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return Ua(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Xl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Xl(s.arrayValue.values[i]);return t}return{...s}}function xS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===VS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(t){this.value=t}static empty(){return new nn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Gu(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(i)}setAll(t){let i=He.emptyPath(),r={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Xl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(t){const i=this.field(t.popLast());Gu(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=i.mapValue.fields[t.get(r)];Gu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,r){Ua(i,((o,h)=>t[o]=h));for(const o of r)delete t[o]}clone(){return new nn(Xl(this.value))}}function _v(s){const t=[];return Ua(s.fields,((i,r)=>{const o=new He([i]);if(Gu(r)){const h=_v(r.mapValue).fields;if(h.length===0)t.push(o);else for(const d of h)t.push(o.child(d))}else t.push(o)})),new Tn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t,i,r,o,h,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Pe(t,0,Tt.min(),Tt.min(),Tt.min(),nn.empty(),0)}static newFoundDocument(t,i,r,o){return new Pe(t,1,i,Tt.min(),r,o,0)}static newNoDocument(t,i){return new Pe(t,2,i,Tt.min(),Tt.min(),nn.empty(),0)}static newUnknownDocument(t,i){return new Pe(t,3,i,Tt.min(),Tt.min(),nn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Pe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(t,i){this.position=t,this.inclusive=i}}function i_(s,t,i){let r=0;for(let o=0;o<s.position.length;o++){const h=t[o],d=s.position[o];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Nr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function a_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!mi(s.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,i="asc"){this.field=t,this.dir=i}}function US(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Se extends vv{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new PS(t,i,r):i==="array-contains"?new BS(t,r):i==="in"?new kS(t,r):i==="not-in"?new qS(t,r):i==="array-contains-any"?new HS(t,r):new Se(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new zS(t,r):new jS(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Nr(i,this.value)):i!==null&&Va(this.value)===Va(i)&&this.matchesComparison(Nr(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends vv{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Kn(t,i)}matches(t){return Ev(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ev(s){return s.op==="and"}function Tv(s){return LS(s)&&Ev(s)}function LS(s){for(const t of s.filters)if(t instanceof Kn)return!1;return!0}function sd(s){if(s instanceof Se)return s.field.canonicalString()+s.op.toString()+Cr(s.value);if(Tv(s))return s.filters.map((t=>sd(t))).join(",");{const t=s.filters.map((i=>sd(i))).join(",");return`${s.op}(${t})`}}function Sv(s,t){return s instanceof Se?(function(r,o){return o instanceof Se&&r.op===o.op&&r.field.isEqual(o.field)&&mi(r.value,o.value)})(s,t):s instanceof Kn?(function(r,o){return o instanceof Kn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,g)=>h&&Sv(d,o.filters[g])),!0):!1})(s,t):void _t(19439)}function bv(s){return s instanceof Se?(function(i){return`${i.field.canonicalString()} ${i.op} ${Cr(i.value)}`})(s):s instanceof Kn?(function(i){return i.op.toString()+" {"+i.getFilters().map(bv).join(" ,")+"}"})(s):"Filter"}class PS extends Se{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class zS extends Se{constructor(t,i){super(t,"in",i),this.keys=Av("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class jS extends Se{constructor(t,i){super(t,"not-in",i),this.keys=Av("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function Av(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class BS extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nd(i)&&so(i.arrayValue,this.value)}}class kS extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class qS extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class HS extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nd(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>so(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(t,i=null,r=[],o=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function s_(s,t=null,i=[],r=[],o=null,h=null,d=null){return new GS(s,t,i,r,o,h,d)}function Cd(s){const t=bt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>sd(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),uo(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Cr(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Cr(r))).join(",")),t.Te=i}return t.Te}function Dd(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!US(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Sv(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!a_(s.startAt,t.startAt)&&a_(s.endAt,t.endAt)}function rd(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,i=null,r=[],o=[],h=null,d="F",g=null,p=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function FS(s,t,i,r,o,h,d,g){return new co(s,t,i,r,o,h,d,g)}function Id(s){return new co(s)}function r_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Rv(s){return s.collectionGroup!==null}function Zl(s){const t=bt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(He.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new ac(h,r))})),i.has(He.keyField().canonicalString())||t.Ie.push(new ac(He.keyField(),r))}return t.Ie}function hi(s){const t=bt(s);return t.Ee||(t.Ee=QS(t,Zl(s))),t.Ee}function QS(s,t){if(s.limitType==="F")return s_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new ac(o.field,h)}));const i=s.endAt?new ic(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ic(s.startAt.position,s.startAt.inclusive):null;return s_(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function ld(s,t){const i=s.filters.concat([t]);return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function od(s,t,i){return new co(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function vc(s,t){return Dd(hi(s),hi(t))&&s.limitType===t.limitType}function wv(s){return`${Cd(hi(s))}|lt:${s.limitType}`}function _r(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>bv(o))).join(", ")}]`),uo(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Cr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Cr(o))).join(",")),`Target(${r})`})(hi(s))}; limitType=${s.limitType})`}function Ec(s,t){return t.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,t)&&(function(r,o){for(const h of Zl(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(d,g,p){const y=i_(d,g,p);return d.inclusive?y<=0:y<0})(r.startAt,Zl(r),o)||r.endAt&&!(function(d,g,p){const y=i_(d,g,p);return d.inclusive?y>=0:y>0})(r.endAt,Zl(r),o))})(s,t)}function YS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Nv(s){return(t,i)=>{let r=!1;for(const o of Zl(s)){const h=KS(o,t,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function KS(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(h,d,g){const p=d.data.field(h),y=g.data.field(h);return p!==null&&y!==null?Nr(p,y):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],t))return void(o[h]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ua(this.inner,((i,r)=>{for(const[o,h]of r)t(o,h)}))}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new oe(gt.comparator);function ji(){return XS}const Cv=new oe(gt.comparator);function Fl(...s){let t=Cv;for(const i of s)t=t.insert(i.key,i);return t}function Dv(s){let t=Cv;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Es(){return $l()}function Iv(){return $l()}function $l(){return new ws((s=>s.toString()),((s,t)=>s.isEqual(t)))}const ZS=new oe(gt.comparator),$S=new Ce(gt.comparator);function Lt(...s){let t=$S;for(const i of s)t=t.add(i);return t}const JS=new Ce(Ut);function WS(){return JS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Md(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(t)?"-0":t}}function Mv(s){return{integerValue:""+s}}function tb(s,t){return NS(t)?Mv(t):Md(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this._=void 0}}function eb(s,t,i){return s instanceof sc?(function(o,h){const d={fields:{[dv]:{stringValue:fv},[gv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&wd(h)&&(h=_c(h)),h&&(d.fields[mv]=h),{mapValue:d}})(i,t):s instanceof ro?Ov(s,t):s instanceof lo?xv(s,t):(function(o,h){const d=Vv(o,h),g=l_(d)+l_(o.Ae);return ad(d)&&ad(o.Ae)?Mv(g):Md(o.serializer,g)})(s,t)}function nb(s,t,i){return s instanceof ro?Ov(s,t):s instanceof lo?xv(s,t):i}function Vv(s,t){return s instanceof rc?(function(r){return ad(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(t)?t:{integerValue:0}:null}class sc extends Tc{}class ro extends Tc{constructor(t){super(),this.elements=t}}function Ov(s,t){const i=Uv(t);for(const r of s.elements)i.some((o=>mi(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lo extends Tc{constructor(t){super(),this.elements=t}}function xv(s,t){let i=Uv(t);for(const r of s.elements)i=i.filter((o=>!mi(o,r)));return{arrayValue:{values:i}}}class rc extends Tc{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function l_(s){return ye(s.integerValue||s.doubleValue)}function Uv(s){return Nd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function ib(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof ro&&o instanceof ro||r instanceof lo&&o instanceof lo?wr(r.elements,o.elements,mi):r instanceof rc&&o instanceof rc?mi(r.Ae,o.Ae):r instanceof sc&&o instanceof sc})(s.transform,t.transform)}class ab{constructor(t,i){this.version=t,this.transformResults=i}}class an{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new an}static exists(t){return new an(void 0,t)}static updateTime(t){return new an(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fu(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Sc{}function Lv(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Vd(s.key,an.none()):new ho(s.key,s.data,an.none());{const i=s.data,r=nn.empty();let o=new Ce(He.comparator);for(let h of t.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new La(s.key,r,new Tn(o.toArray()),an.none())}}function sb(s,t,i){s instanceof ho?(function(o,h,d){const g=o.value.clone(),p=u_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,t,i):s instanceof La?(function(o,h,d){if(!Fu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=u_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Pv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Jl(s,t,i,r){return s instanceof ho?(function(h,d,g,p){if(!Fu(h.precondition,d))return g;const y=h.value.clone(),T=c_(h.fieldTransforms,p,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,r):s instanceof La?(function(h,d,g,p){if(!Fu(h.precondition,d))return g;const y=c_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Pv(h)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(s,t,i,r):(function(h,d,g){return Fu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,t,i)}function rb(s,t){let i=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),h=Vv(r.transform,o||null);h!=null&&(i===null&&(i=nn.empty()),i.set(r.field,h))}return i||null}function o_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wr(r,o,((h,d)=>ib(h,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ho extends Sc{constructor(t,i,r,o=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class La extends Sc{constructor(t,i,r,o,h=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Pv(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function u_(s,t,i){const r=new Map;kt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=t.data.field(h.field);r.set(h.field,nb(d,g,i[o]))}return r}function c_(s,t,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,eb(h,d,t))}return r}class Vd extends Sc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zv extends Sc{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(t,i,r,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(t.key)&&sb(h,t,r[o])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Jl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=Iv();return this.mutations.forEach((o=>{const h=t.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=Lv(d,g);p!==null&&r.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Tt.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&wr(this.mutations,t.mutations,((i,r)=>o_(i,r)))&&wr(this.baseMutations,t.baseMutations,((i,r)=>o_(i,r)))}}class Od{constructor(t,i,r,o){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(t,i,r){kt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return ZS})();const h=t.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Od(t,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te,jt;function jv(s){switch(s){case Q.OK:return _t(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function Bv(s){if(s===void 0)return zi("GRPC error has no .code"),Q.UNKNOWN;switch(s){case Te.OK:return Q.OK;case Te.CANCELLED:return Q.CANCELLED;case Te.UNKNOWN:return Q.UNKNOWN;case Te.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Te.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Te.INTERNAL:return Q.INTERNAL;case Te.UNAVAILABLE:return Q.UNAVAILABLE;case Te.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Te.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Te.NOT_FOUND:return Q.NOT_FOUND;case Te.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Te.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Te.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Te.ABORTED:return Q.ABORTED;case Te.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Te.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Te.DATA_LOSS:return Q.DATA_LOSS;default:return _t(39323,{code:s})}}(jt=Te||(Te={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new wa([4294967295,4294967295],0);function h_(s){const t=cb().encode(s),i=new W_;return i.update(t),new Uint8Array(i.digest())}function f_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new wa([i,r],0),new wa([o,h],0)]}class xd{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(r<0)throw new Ql(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=wa.fromNumber(this.ge)}ye(t,i,r){let o=t.add(i.multiply(wa.fromNumber(r)));return o.compare(hb)===1&&(o=new wa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=h_(t),[r,o]=f_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(t,i,r){const o=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new xd(h,o,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=h_(t),[r,o]=f_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t,i,r,o,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const o=new Map;return o.set(t,fo.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new bc(Tt.min(),o,new oe(Ut),ji(),Lt())}}class fo{constructor(t,i,r,o,h){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new fo(r,i,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t,i,r,o){this.be=t,this.removedTargetIds=i,this.key=r,this.De=o}}class kv{constructor(t,i){this.targetId=t,this.Ce=i}}class qv{constructor(t,i,r=Ge.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=o}}class d_{constructor(){this.ve=0,this.Fe=m_(),this.Me=Ge.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:_t(38017,{changeType:h})}})),new fo(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=m_()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fb{constructor(t){this.Ge=t,this.ze=new Map,this.je=ji(),this.Je=Bu(),this.He=Bu(),this.Ye=new oe(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,r=t.Ce.count,o=this.ot(i);if(o){const h=o.target;if(rd(h))if(r===0){const d=new gt(h.path);this.et(i,d,Pe.newNoDocument(d,Tt.min()))}else kt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),p=g?this.ct(g,t,d):1;if(p!==0){this.it(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ma(r).toUint8Array()}catch(p){if(p instanceof hv)return Rr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new xd(d,o,h)}catch(p){return Rr(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&rd(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Pe.newNoDocument(p,t))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Lt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(t)));const o=new bc(t,i,this.Ye,this.je,r);return this.je=ji(),this.Je=Bu(),this.He=Bu(),this.Ye=new oe(Ut),o}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new d_,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ce(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ce(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new d_),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Bu(){return new oe(gt.comparator)}function m_(){return new oe(gt.comparator)}const db={asc:"ASCENDING",desc:"DESCENDING"},mb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gb={and:"AND",or:"OR"};class pb{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ud(s,t){return s.useProto3Json||uo(t)?t:{value:t}}function lc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Hv(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function yb(s,t){return lc(s,t.toTimestamp())}function Sn(s){return kt(!!s,49232),Tt.fromTimestamp((function(i){const r=Ia(i);return new Wt(r.seconds,r.nanos)})(s))}function Ud(s,t){return cd(s,t).canonicalString()}function cd(s,t){const i=(function(o){return new $t(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function Gv(s){const t=$t.fromString(s);return kt(Zv(t),10190,{key:t.toString()}),t}function oc(s,t){return Ud(s.databaseId,t.path)}function Wl(s,t){const i=Gv(t);if(i.get(1)!==s.databaseId.projectId)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(Qv(i))}function Fv(s,t){return Ud(s.databaseId,t)}function _b(s){const t=Gv(s);return t.length===4?$t.emptyPath():Qv(t)}function hd(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Qv(s){return kt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function g_(s,t,i){return{name:oc(s,t),fields:i.value.mapValue.fields}}function vb(s,t){return"found"in t?(function(r,o){kt(!!o.found,43571),o.found.name,o.found.updateTime;const h=Wl(r,o.found.name),d=Sn(o.found.updateTime),g=o.found.createTime?Sn(o.found.createTime):Tt.min(),p=new nn({mapValue:{fields:o.found.fields}});return Pe.newFoundDocument(h,d,g,p)})(s,t):"missing"in t?(function(r,o){kt(!!o.missing,3894),kt(!!o.readTime,22933);const h=Wl(r,o.missing),d=Sn(o.readTime);return Pe.newNoDocument(h,d)})(s,t):_t(7234,{result:t})}function Eb(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],h=(function(y,T){return y.useProto3Json?(kt(T===void 0||typeof T=="string",58123),Ge.fromBase64String(T||"")):(kt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ge.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const T=y.code===void 0?Q.UNKNOWN:Bv(y.code);return new lt(T,y.message||"")})(d);i=new qv(r,o,h,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Wl(s,r.document.name),h=Sn(r.document.updateTime),d=r.document.createTime?Sn(r.document.createTime):Tt.min(),g=new nn({mapValue:{fields:r.document.fields}}),p=Pe.newFoundDocument(o,h,d,g),y=r.targetIds||[],T=r.removedTargetIds||[];i=new Qu(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Wl(s,r.document),h=r.readTime?Sn(r.readTime):Tt.min(),d=Pe.newNoDocument(o,h),g=r.removedTargetIds||[];i=new Qu([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Wl(s,r.document),h=r.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new ub(o,h),g=r.targetId;i=new kv(g,d)}}return i}function Yv(s,t){let i;if(t instanceof ho)i={update:g_(s,t.key,t.value)};else if(t instanceof Vd)i={delete:oc(s,t.key)};else if(t instanceof La)i={update:g_(s,t.key,t.data),updateMask:Db(t.fieldMask)};else{if(!(t instanceof zv))return _t(16599,{Vt:t.type});i={verify:oc(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof sc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof rc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:yb(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:_t(27497)})(s,t.precondition)),i}function Tb(s,t){return s&&s.length>0?(kt(t!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?Sn(o.updateTime):Sn(h);return d.isEqual(Tt.min())&&(d=Sn(h)),new ab(d,o.transformResults||[])})(i,t)))):[]}function Sb(s,t){return{documents:[Fv(s,t.path)]}}function bb(s,t){const i={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Fv(s,o);const h=(function(y){if(y.length!==0)return Xv(Kn.create(y,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const d=(function(y){if(y.length!==0)return y.map((T=>(function(I){return{field:vr(I.field),direction:wb(I.dir)}})(T)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=ud(s,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function Ab(s){let t=_b(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){kt(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const I=Kv(A);return I instanceof Kn&&Tv(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((I=>(function(Z){return new ac(Er(Z.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(I)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let I;return I=typeof A=="object"?A.value:A,uo(I)?null:I})(i.limit));let p=null;i.startAt&&(p=(function(A){const I=!!A.before,z=A.values||[];return new ic(z,I)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const I=!A.before,z=A.values||[];return new ic(z,I)})(i.endAt)),FS(t,o,d,h,g,"F",p,y)}function Rb(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function Kv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Er(i.unaryFilter.field);return Se.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Er(i.unaryFilter.field);return Se.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Er(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Er(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Se.create(Er(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Kn.create(i.compositeFilter.filters.map((r=>Kv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function wb(s){return db[s]}function Nb(s){return mb[s]}function Cb(s){return gb[s]}function vr(s){return{fieldPath:s.canonicalString()}}function Er(s){return He.fromServerFormat(s.fieldPath)}function Xv(s){return s instanceof Se?(function(i){if(i.op==="=="){if(n_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NAN"}};if(e_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(n_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NOT_NAN"}};if(e_(i.value))return{unaryFilter:{field:vr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vr(i.field),op:Nb(i.op),value:i.value}}})(s):s instanceof Kn?(function(i){const r=i.getFilters().map((o=>Xv(o)));return r.length===1?r[0]:{compositeFilter:{op:Cb(i.op),filters:r}}})(s):_t(54877,{filter:s})}function Db(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function Zv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(t,i,r,o,h=Tt.min(),d=Tt.min(),g=Ge.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new ba(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ba(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.yt=t}}function Mb(s){const t=Ab({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?od(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.Cn=new Ob}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(Da.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(Da.min())}updateCollectionGroup(t,i,r){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class Ob{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i]||new Ce($t.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(t){const i=t.lastSegment(),r=t.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ce($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$v=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un($v,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Dr(0)}static cr(){return new Dr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="LruGarbageCollector",xb=1048576;function __([s,t],[i,r]){const o=Ut(s,i);return o===0?Ut(t,r):o}class Ub{constructor(t){this.Ir=t,this.buffer=new Ce(__),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();__(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lb{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ut(y_,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ur(i)?ut(y_,"Ignoring IndexedDB error during garbage collection: ",i):await xr(i)}await this.Vr(3e5)}))}}class Pb{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(yc.ce);const r=new Ub(i);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(p_)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p_):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,o,h,d,g,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(t,r,i)))).next((A=>(h=A,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((A=>(y=Date.now(),yr()<=Bt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function zb(s,t){return new Pb(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(){this.changes=new ws((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Pe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?J.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(t,i,r,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(r!==null&&Jl(r.mutation,o,Tn.empty(),Wt.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const o=Es();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,r).next((h=>{let d=Fl();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Es();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(t,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,o){let h=ji();const d=$l(),g=(function(){return $l()})();return i.forEach(((p,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof La)?h=h.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),Jl(T.mutation,y,T.mutation.getFieldMask(),Wt.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,h).next((p=>(p.forEach(((y,T)=>d.set(y,T))),i.forEach(((y,T)=>g.set(y,new Bb(T,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=$l();let o=new oe(((d,g)=>d-g)),h=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const y=i.get(p);if(y===null)return;let T=r.get(p)||Tn.empty();T=g.applyToLocalView(y,T),r.set(p,T);const A=(o.get(g.batchId)||Lt()).add(p);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,A=Iv();T.forEach((I=>{if(!h.has(I)){const z=Lv(i.get(I),r.get(I));z!==null&&A.set(I,z),h=h.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return J.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Rv(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,o):this.getDocumentsMatchingCollectionQuery(t,i,r,o)}getNextDocuments(t,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,o-h.size):J.resolve(Es());let g=no,p=h;return d.next((y=>J.forEach(y,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),h.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((I=>{p=p.insert(T,I)}))))).next((()=>this.populateOverlays(t,y,h))).next((()=>this.computeViews(t,p,y,Lt()))).next((T=>({batchId:g,changes:Dv(T)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(t,h).next((g=>J.forEach(g,(p=>{const y=(function(A,I){return new co(I,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(t,y,r,o).next((T=>{T.forEach(((A,I)=>{d=d.insert(A,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,h,o)))).next((d=>{h.forEach(((p,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,Pe.newInvalidDocument(T)))}));let g=Fl();return d.forEach(((p,y)=>{const T=h.get(p);T!==void 0&&Jl(T.mutation,y,Tn.empty(),Wt.now()),Ec(i,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Sn(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Mb(o.bundledQuery),readTime:Sn(o.readTime)}})(i)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.overlays=new oe(gt.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Es();return J.forEach(i,(o=>this.getOverlay(t,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((o,h)=>{this.St(t,i,h)})),J.resolve()}removeOverlaysForBatchId(t,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,i,r){const o=Es(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===h&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,r,o){let h=new oe(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let T=h.get(y.largestBatchId);T===null&&(T=Es(),h=h.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=Es(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,T)=>g.set(y,T))),!(g.size()>=o)););return J.resolve(g)}St(t,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new ob(i,r));let h=this.qr.get(i);h===void 0&&(h=Lt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.sessionToken=Ge.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this.Qr=new Ce(Le.$r),this.Ur=new Ce(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new $t([])),r=new Le(i,t),o=new Le(i,t+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new $t([])),r=new Le(i,t),o=new Le(i,t+1);let h=Lt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ce(Le.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new lb(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Le(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return J.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Rd:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),J.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ce(Ut);return i.forEach((o=>{const h=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,o=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new Le(new gt(h),0);let g=new Ce(Ut);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){kt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(i.mutations,(o=>{const h=new Le(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.ri=t,this.docs=(function(){return new oe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return J.resolve(r?r.document.mutableCopy():Pe.newInvalidDocument(i))}getEntries(t,i){let r=ji();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Pe.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,i,r,o){let h=ji();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bS(SS(T),r)<=0||(o.has(T.key)||Ec(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return J.resolve(h)}getAllFromCollectionGroup(t,i,r,o){_t(9500)}ii(t,i){return J.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Yb(this)}getSize(t){return J.resolve(this.size)}}class Yb extends jb{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(t){this.persistence=t,this.si=new ws((i=>Cd(i)),Dd),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ld,this.targetCount=0,this.ai=Dr.ur()}forEachTarget(t,i){return this.si.forEach(((r,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Dr(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,r){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(h).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return J.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),J.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return J.resolve(r)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(t,i){this.ui={},this.overlays={},this.ci=new yc(0),this.li=!1,this.li=!0,this.hi=new Gb,this.referenceDelegate=t(this),this.Pi=new Kb(this),this.indexManager=new Vb,this.remoteDocumentCache=(function(o){return new Qb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ib(i),this.Ii=new qb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Hb,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Fb(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){ut("MemoryPersistence","Starting transaction:",t);const o=new Xb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(t,i){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Xb extends RS{constructor(t){super(),this.currentSequenceNumber=t}}class Pd{constructor(t){this.persistence=t,this.Ri=new Ld,this.Vi=null}static mi(t){return new Pd(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),J.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(t,o).next((h=>{h||i.removeEntry(o,Tt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class uc{constructor(t,i){this.persistence=t,this.pi=new ws((r=>CS(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=zb(this,i)}static mi(t,i){return new uc(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((o=>r+o))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((r,o)=>this.br(t,r,o).next((h=>h?J.resolve():i(o)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,h.removeEntry(d,Tt.min()))})))).next((()=>h.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hu(t.data.value)),i}br(t,i,r){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(t,i,r,o){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=o}static As(t,i){let r=Lt(),o=Lt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new zd(t,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QE()?8:wS(GE())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,o){const h={result:null};return this.ys(t,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(t,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Zb;return this.Ss(t,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>h.result))}bs(t,i,r,o){return r.documentReadCount<this.fs?(yr()<=Bt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",_r(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(yr()<=Bt.DEBUG&&ut("QueryEngine","Query:",_r(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(yr()<=Bt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",_r(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,hi(i))):J.resolve())}ys(t,i){if(r_(i))return J.resolve(null);let r=hi(i);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=od(i,null,"F"),r=hi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((h=>{const d=Lt(...h);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const y=this.Ds(i,g);return this.Cs(i,y,d,p.readTime)?this.ys(t,od(i,null,"F")):this.vs(t,y,i,p)}))))})))))}ws(t,i,r,o){return r_(i)||o.isEqual(Tt.min())?J.resolve(null):this.ps.getDocuments(t,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?J.resolve(null):(yr()<=Bt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),_r(i)),this.vs(t,d,i,TS(o,no)).next((g=>g)))}))}Ds(t,i){let r=new Ce(Nv(t));return i.forEach(((o,h)=>{Ec(t,h)&&(r=r.add(h))})),r}Cs(t,i,r,o){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(t,i,r){return yr()<=Bt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",_r(i)),this.ps.getDocumentsMatchingQuery(t,i,Da.min(),r)}vs(t,i,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd="LocalStore",Jb=3e8;class Wb{constructor(t,i,r,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Ut),this.xs=new ws((h=>Cd(h)),Dd),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new kb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function tA(s,t,i,r){return new Wb(s,t,i,r)}async function Wv(s,t){const i=bt(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let p=Lt();for(const y of o){d.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of h){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function eA(s,t){const i=bt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,T){const A=y.batch,I=A.keys();let z=J.resolve();return I.forEach((Z=>{z=z.next((()=>T.getEntry(p,Z))).next((tt=>{const Y=y.docVersions.get(Z);kt(Y!==null,48541),tt.version.compareTo(Y)<0&&(A.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),T.addEntry(tt)))}))})),z.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,r,t,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Lt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(t)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function t1(s){const t=bt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function nA(s,t){const i=bt(s),r=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((T,A)=>{const I=o.get(A);if(!I)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,A))));let z=I.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(A)!==null?z=z.withResumeToken(Ge.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):T.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(T.resumeToken,r)),o=o.insert(A,z),(function(tt,Y,ct){return tt.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Jb?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(I,z,T)&&g.push(i.Pi.updateTargetData(h,z))}));let p=ji(),y=Lt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(iA(h,d,t.documentUpdates).next((T=>{p=T.ks,y=T.qs}))),!r.isEqual(Tt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(T)}return J.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,y))).next((()=>p))})).then((h=>(i.Ms=o,h)))}function iA(s,t,i){let r=Lt(),o=Lt();return i.forEach((h=>r=r.add(h))),t.getEntries(s,r).next((h=>{let d=ji();return i.forEach(((g,p)=>{const y=h.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Tt.min())?(t.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),d=d.insert(g,p)):ut(jd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function aA(s,t){const i=bt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Rd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function sA(s,t){const i=bt(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,t).next((h=>h?(o=h,J.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new ba(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fd(s,t,i){const r=bt(s),o=r.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Ur(d))throw d;ut(jd,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function v_(s,t,i){const r=bt(s);let o=Tt.min(),h=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,y,T){const A=bt(p),I=A.xs.get(T);return I!==void 0?J.resolve(A.Ms.get(I)):A.Pi.getTargetData(y,T)})(r,d,hi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?o:Tt.min(),i?h:Lt()))).next((g=>(rA(r,YS(t),g),{documents:g,Qs:h})))))}function rA(s,t,i){let r=s.Os.get(t)||Tt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(t,r)}class E_{constructor(){this.activeTargetIds=WS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lA{constructor(){this.Mo=new E_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new E_,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="ConnectivityMonitor";class S_{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ut(T_,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ut(T_,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function dd(){return ku===null?ku=(function(){return 268435456+Math.round(2147483648*Math.random())})():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="RestConnection",uA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cA{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===ec?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,i,r,o,h){const d=dd(),g=this.zo(t,i.toUriEncodedString());ut(Yf,`Sending RPC '${t}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,h);const{host:y}=new URL(g),T=Td(y);return this.Jo(t,g,p,r,T).then((A=>(ut(Yf,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Rr(Yf,`RPC '${t}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(t,i,r,o,h,d){return this.Go(t,i,r,o,h)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Or})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>t[h]=o)),r&&r.headers.forEach(((o,h)=>t[h]=o))}zo(t,i){const r=uA[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class fA extends cA{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,o,h){const d=dd();return new Promise(((g,p)=>{const y=new tv;y.setWithCredentials(!0),y.listenOnce(ev.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qu.NO_ERROR:const A=y.getResponseJson();ut(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),g(A);break;case qu.TIMEOUT:ut(Xe,`RPC '${t}' ${d} timed out`),p(new lt(Q.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const I=y.getStatus();if(ut(Xe,`RPC '${t}' ${d} failed with status:`,I,"response text:",y.getResponseText()),I>0){let z=y.getResponseJson();Array.isArray(z)&&(z=z[0]);const Z=z?.error;if(Z&&Z.status&&Z.message){const tt=(function(ct){const W=ct.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(W)>=0?W:Q.UNKNOWN})(Z.status);p(new lt(tt,Z.message))}else p(new lt(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new lt(Q.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ut(Xe,`RPC '${t}' ${d} completed.`)}}));const T=JSON.stringify(o);ut(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",T,r,15)}))}T_(t,i,r){const o=dd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=av(),g=iv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=h.join("");ut(Xe,`Creating RPC '${t}' stream ${o}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let I=!1,z=!1;const Z=new hA({Yo:Y=>{z?ut(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,Y):(I||(ut(Xe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),I=!0),ut(Xe,`RPC '${t}' stream ${o} sending:`,Y),A.send(Y))},Zo:()=>A.close()}),tt=(Y,ct,W)=>{Y.listen(ct,(et=>{try{W(et)}catch(pt){setTimeout((()=>{throw pt}),0)}}))};return tt(A,Gl.EventType.OPEN,(()=>{z||(ut(Xe,`RPC '${t}' stream ${o} transport opened.`),Z.o_())})),tt(A,Gl.EventType.CLOSE,(()=>{z||(z=!0,ut(Xe,`RPC '${t}' stream ${o} transport closed`),Z.a_(),this.E_(A))})),tt(A,Gl.EventType.ERROR,(Y=>{z||(z=!0,Rr(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),Z.a_(new lt(Q.UNAVAILABLE,"The operation could not be completed")))})),tt(A,Gl.EventType.MESSAGE,(Y=>{if(!z){const ct=Y.data[0];kt(!!ct,16349);const W=ct,et=W?.error||W[0]?.error;if(et){ut(Xe,`RPC '${t}' stream ${o} received error:`,et);const pt=et.status;let nt=(function(b){const R=Te[b];if(R!==void 0)return Bv(R)})(pt),ot=et.message;nt===void 0&&(nt=Q.INTERNAL,ot="Unknown error status: "+pt+" with message "+et.message),z=!0,Z.a_(new lt(nt,ot)),A.close()}else ut(Xe,`RPC '${t}' stream ${o} received:`,ct),Z.u_(ct)}})),tt(g,nv.STAT_EVENT,(Y=>{Y.stat===ed.PROXY?ut(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):Y.stat===ed.NOPROXY&&ut(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Kf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(s){return new pb(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(t,i,r=1e3,o=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ut("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_="PersistentStream";class e1{constructor(t,i,r,o,h,d,g,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bd(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Q.RESOURCE_EXHAUSTED?(zi(i.toString()),zi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{t((()=>{const o=new lt(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ut(b_,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ut(b_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dA extends e1{constructor(t,i,r,o,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Eb(this.serializer,t),r=(function(h){if(!("targetChange"in h))return Tt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Tt.min():d.readTime?Sn(d.readTime):Tt.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hd(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=rd(p)?{documents:Sb(h,p)}:{query:bb(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Hv(h,d.resumeToken);const y=ud(h,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Tt.min())>0){g.readTime=lc(h,d.snapshotVersion.toTimestamp());const y=ud(h,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const r=Rb(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hd(this.serializer),i.removeTarget=t,this.q_(i)}}class mA extends e1{constructor(t,i,r,o,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Tb(t.writeResults,t.commitTime),r=Sn(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hd(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Yv(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{}class pA extends gA{constructor(t,i,r,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(t,cd(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Q.UNKNOWN,h.toString())}))}Ho(t,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,cd(i,r),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Q.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yA{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zi(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="RemoteStore";class _A{constructor(t,i,r,o,h){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Ns(this)&&(ut(As,"Restarting streams for network reachability change."),await(async function(p){const y=bt(p);y.Ea.add(4),await mo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Rc(y)})(this))}))})),this.Ra=new yA(r,o)}}async function Rc(s){if(Ns(s))for(const t of s.da)await t(!0)}async function mo(s){for(const t of s.da)await t(!1)}function n1(s,t){const i=bt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gd(i)?Hd(i):Lr(i).O_()&&qd(i,t))}function kd(s,t){const i=bt(s),r=Lr(i);i.Ia.delete(t),r.O_()&&i1(i,t),i.Ia.size===0&&(r.O_()?r.L_():Ns(i)&&i.Ra.set("Unknown"))}function qd(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Lr(s).Y_(t)}function i1(s,t){s.Va.Ue(t),Lr(s).Z_(t)}function Hd(s){s.Va=new fb({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Lr(s).start(),s.Ra.ua()}function Gd(s){return Ns(s)&&!Lr(s).x_()&&s.Ia.size>0}function Ns(s){return bt(s).Ea.size===0}function a1(s){s.Va=void 0}async function vA(s){s.Ra.set("Online")}async function EA(s){s.Ia.forEach(((t,i)=>{qd(s,t)}))}async function TA(s,t){a1(s),Gd(s)?(s.Ra.ha(t),Hd(s)):s.Ra.set("Unknown")}async function SA(s,t,i){if(s.Ra.set("Online"),t instanceof qv&&t.state===2&&t.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,t)}catch(r){ut(As,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await cc(s,r)}else if(t instanceof Qu?s.Va.Ze(t):t instanceof kv?s.Va.st(t):s.Va.tt(t),!i.isEqual(Tt.min()))try{const r=await t1(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ia.get(y);T&&h.Ia.set(y,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,y)=>{const T=h.Ia.get(p);if(!T)return;h.Ia.set(p,T.withResumeToken(Ge.EMPTY_BYTE_STRING,T.snapshotVersion)),i1(h,p);const A=new ba(T.target,p,y,T.sequenceNumber);qd(h,A)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ut(As,"Failed to raise snapshot:",r),await cc(s,r)}}async function cc(s,t,i){if(!Ur(t))throw t;s.Ea.add(1),await mo(s),s.Ra.set("Offline"),i||(i=()=>t1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ut(As,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Rc(s)}))}function s1(s,t){return t().catch((i=>cc(s,i,t)))}async function wc(s){const t=bt(s),i=Oa(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rd;for(;bA(t);)try{const o=await aA(t.localStore,r);if(o===null){t.Ta.length===0&&i.L_();break}r=o.batchId,AA(t,o)}catch(o){await cc(t,o)}r1(t)&&l1(t)}function bA(s){return Ns(s)&&s.Ta.length<10}function AA(s,t){s.Ta.push(t);const i=Oa(s);i.O_()&&i.X_&&i.ea(t.mutations)}function r1(s){return Ns(s)&&!Oa(s).x_()&&s.Ta.length>0}function l1(s){Oa(s).start()}async function RA(s){Oa(s).ra()}async function wA(s){const t=Oa(s);for(const i of s.Ta)t.ea(i.mutations)}async function NA(s,t,i){const r=s.Ta.shift(),o=Od.from(r,t,i);await s1(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await wc(s)}async function CA(s,t){t&&Oa(s).X_&&await(async function(r,o){if((function(d){return jv(d)&&d!==Q.ABORTED})(o.code)){const h=r.Ta.shift();Oa(r).B_(),await s1(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await wc(r)}})(s,t),r1(s)&&l1(s)}async function A_(s,t){const i=bt(s);i.asyncQueue.verifyOperationInProgress(),ut(As,"RemoteStore received new credentials");const r=Ns(i);i.Ea.add(3),await mo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Rc(i)}async function DA(s,t){const i=bt(s);t?(i.Ea.delete(2),await Rc(i)):t||(i.Ea.add(2),await mo(i),i.Ra.set("Unknown"))}function Lr(s){return s.ma||(s.ma=(function(i,r,o){const h=bt(i);return h.sa(),new dA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:vA.bind(null,s),t_:EA.bind(null,s),r_:TA.bind(null,s),H_:SA.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Gd(s)?Hd(s):s.Ra.set("Unknown")):(await s.ma.stop(),a1(s))}))),s.ma}function Oa(s){return s.fa||(s.fa=(function(i,r,o){const h=bt(i);return h.sa(),new mA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:RA.bind(null,s),r_:CA.bind(null,s),ta:wA.bind(null,s),na:NA.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await wc(s)):(await s.fa.stop(),s.Ta.length>0&&(ut(As,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,i,r,o,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,o,h){const d=Date.now()+r,g=new Fd(t,i,d,o,h);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Q.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qd(s,t){if(zi("AsyncQueue",`${t}: ${s}`),Ur(s))return new lt(Q.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{static emptySet(t){return new Ar(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Fl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ar)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ar;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(){this.ga=new oe(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class Ir{constructor(t,i,r,o,h,d,g,p,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ir(t,i,Ar.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&vc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MA{constructor(){this.queries=w_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=bt(i),h=o.queries;o.queries=w_(),h.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new lt(Q.ABORTED,"Firestore shutting down"))}}function w_(){return new ws((s=>wv(s)),vc)}async function o1(s,t){const i=bt(s);let r=3;const o=t.query;let h=i.queries.get(o);h?!h.ba()&&t.Da()&&(r=2):(h=new IA,r=t.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Qd(d,`Initialization of query '${_r(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&Yd(i)}async function u1(s,t){const i=bt(s),r=t.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=t.Da()?0:1:!h.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function VA(s,t){const i=bt(s);let r=!1;for(const o of t){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&Yd(i)}function OA(s,t,i){const r=bt(s),o=r.queries.get(t);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(t)}function Yd(s){s.Ca.forEach((t=>{t.next()}))}var md,N_;(N_=md||(md={})).Ma="default",N_.Cache="cache";class c1{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new Ir(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ir.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==md.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(t){this.key=t}}class f1{constructor(t){this.key=t}}class xA{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=Nv(t),this.tu=new Ar(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new R_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,A)=>{const I=o.get(T),z=Ec(this.query,A)?A:null,Z=!!I&&this.mutatedKeys.has(I.key),tt=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let Y=!1;I&&z?I.data.isEqual(z.data)?Z!==tt&&(r.track({type:3,doc:z}),Y=!0):this.su(I,z)||(r.track({type:2,doc:z}),Y=!0,(p&&this.eu(z,p)>0||y&&this.eu(z,y)<0)&&(g=!0)):!I&&z?(r.track({type:0,doc:z}),Y=!0):I&&!z&&(r.track({type:1,doc:I}),Y=!0,(p||y)&&(g=!0)),Y&&(z?(d=d.add(z),h=tt?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,o){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((T,A)=>(function(z,Z){const tt=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Y})}};return tt(z)-tt(Z)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,d.length!==0||y?{snapshot:new Ir(this.query,t.tu,h,d,t.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new R_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new f1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new h1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ir.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Kd="SyncEngine";class UA{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class LA{constructor(t){this.key=t,this.hu=!1}}class PA{constructor(t,i,r,o,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ws((g=>wv(g)),vc),this.Iu=new Map,this.Eu=new Set,this.du=new oe(gt.comparator),this.Au=new Map,this.Ru=new Ld,this.Vu={},this.mu=new Map,this.fu=Dr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zA(s,t,i=!0){const r=_1(s);let o;const h=r.Tu.get(t);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await d1(r,t,i,!0),o}async function jA(s,t){const i=_1(s);await d1(i,t,!0,!1)}async function d1(s,t,i,r){const o=await sA(s.localStore,hi(t)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await BA(s,t,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&n1(s.remoteStore,o),g}async function BA(s,t,i,r,o){s.pu=(A,I,z)=>(async function(tt,Y,ct,W){let et=Y.view.ru(ct);et.Cs&&(et=await v_(tt.localStore,Y.query,!1).then((({documents:w})=>Y.view.ru(w,et))));const pt=W&&W.targetChanges.get(Y.targetId),nt=W&&W.targetMismatches.get(Y.targetId)!=null,ot=Y.view.applyChanges(et,tt.isPrimaryClient,pt,nt);return D_(tt,Y.targetId,ot.au),ot.snapshot})(s,A,I,z);const h=await v_(s.localStore,t,!0),d=new xA(t,h.Qs),g=d.ru(h.documents),p=fo.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),y=d.applyChanges(g,s.isPrimaryClient,p);D_(s,i,y.au);const T=new UA(t,i,d);return s.Tu.set(t,T),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function kA(s,t,i){const r=bt(s),o=r.Tu.get(t),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!vc(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await fd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&kd(r.remoteStore,o.targetId),gd(r,o.targetId)})).catch(xr)):(gd(r,o.targetId),await fd(r.localStore,o.targetId,!0))}async function qA(s,t){const i=bt(s),r=i.Tu.get(t),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),kd(i.remoteStore,r.targetId))}async function HA(s,t,i){const r=ZA(s);try{const o=await(function(d,g){const p=bt(d),y=Wt.now(),T=g.reduce(((z,Z)=>z.add(Z.key)),Lt());let A,I;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let Z=ji(),tt=Lt();return p.Ns.getEntries(z,T).next((Y=>{Z=Y,Z.forEach(((ct,W)=>{W.isValidDocument()||(tt=tt.add(ct))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,Z))).next((Y=>{A=Y;const ct=[];for(const W of g){const et=rb(W,A.get(W.key).overlayedDocument);et!=null&&ct.push(new La(W.key,et,_v(et.value.mapValue),an.exists(!0)))}return p.mutationQueue.addMutationBatch(z,y,ct,g)})).next((Y=>{I=Y;const ct=Y.applyToLocalDocumentSet(A,tt);return p.documentOverlayCache.saveOverlays(z,Y.batchId,ct)}))})).then((()=>({batchId:I.batchId,changes:Dv(A)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Ut)),y=y.insert(g,p),d.Vu[d.currentUser.toKey()]=y})(r,o.batchId,i),await go(r,o.changes),await wc(r.remoteStore)}catch(o){const h=Qd(o,"Failed to persist write");i.reject(h)}}async function m1(s,t){const i=bt(s);try{const r=await nA(i.localStore,t);t.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?kt(d.hu,14607):o.removedDocuments.size>0&&(kt(d.hu,42227),d.hu=!1))})),await go(i,r,t)}catch(r){await xr(r)}}function C_(s,t,i){const r=bt(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=bt(d);p.onlineState=g;let y=!1;p.queries.forEach(((T,A)=>{for(const I of A.Sa)I.va(g)&&(y=!0)})),y&&Yd(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function GA(s,t,i){const r=bt(s);r.sharedClientState.updateQueryState(t,"rejected",i);const o=r.Au.get(t),h=o&&o.key;if(h){let d=new oe(gt.comparator);d=d.insert(h,Pe.newNoDocument(h,Tt.min()));const g=Lt().add(h),p=new bc(Tt.min(),new Map,new oe(Ut),d,g);await m1(r,p),r.du=r.du.remove(h),r.Au.delete(t),Xd(r)}else await fd(r.localStore,t,!1).then((()=>gd(r,t,i))).catch(xr)}async function FA(s,t){const i=bt(s),r=t.batch.batchId;try{const o=await eA(i.localStore,t);p1(i,r,null),g1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await go(i,o)}catch(o){await xr(o)}}async function QA(s,t,i){const r=bt(s);try{const o=await(function(d,g){const p=bt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next((A=>(kt(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(y,A)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>p.localDocuments.getDocuments(y,T)))}))})(r.localStore,t);p1(r,t,i),g1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await go(r,o)}catch(o){await xr(o)}}function g1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function p1(s,t,i){const r=bt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(t);h&&(i?h.reject(i):h.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function gd(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||y1(s,r)}))}function y1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(kd(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Xd(s))}function D_(s,t,i){for(const r of i)r instanceof h1?(s.Ru.addReference(r.key,t),YA(s,r)):r instanceof f1?(ut(Kd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||y1(s,r.key)):_t(19791,{wu:r})}function YA(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ut(Kd,"New document in limbo: "+i),s.Eu.add(r),Xd(s))}function Xd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt($t.fromString(t)),r=s.fu.next();s.Au.set(r,new LA(i)),s.du=s.du.insert(i,r),n1(s.remoteStore,new ba(hi(Id(i.path)),r,"TargetPurposeLimboResolution",yc.ce))}}async function go(s,t,i){const r=bt(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const T=y?!y.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=zd.As(p.targetId,y);h.push(T)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(p,y){const T=bt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>J.forEach(y,(I=>J.forEach(I.Es,(z=>T.persistence.referenceDelegate.addReference(A,I.targetId,z))).next((()=>J.forEach(I.ds,(z=>T.persistence.referenceDelegate.removeReference(A,I.targetId,z)))))))))}catch(A){if(!Ur(A))throw A;ut(jd,"Failed to update sequence numbers: "+A)}for(const A of y){const I=A.targetId;if(!A.fromCache){const z=T.Ms.get(I),Z=z.snapshotVersion,tt=z.withLastLimboFreeSnapshotVersion(Z);T.Ms=T.Ms.insert(I,tt)}}})(r.localStore,h))}async function KA(s,t){const i=bt(s);if(!i.currentUser.isEqual(t)){ut(Kd,"User change. New user:",t.toKey());const r=await Wv(i.localStore,t);i.currentUser=t,(function(h,d){h.mu.forEach((g=>{g.forEach((p=>{p.reject(new lt(Q.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await go(i,r.Ls)}}function XA(s,t){const i=bt(s),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let o=Lt();const h=i.Iu.get(t);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function _1(s){const t=bt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=m1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=XA.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=GA.bind(null,t),t.Pu.H_=VA.bind(null,t.eventManager),t.Pu.yu=OA.bind(null,t.eventManager),t}function ZA(s){const t=bt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,t),t}class hc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ac(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return tA(this.persistence,new $b,t.initialUser,this.serializer)}Cu(t){return new Jv(Pd.mi,this.serializer)}Du(t){return new lA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hc.provider={build:()=>new hc};class $A extends hc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){kt(this.persistence.referenceDelegate instanceof uc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lb(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Jv((r=>uc.mi(r,i)),this.serializer)}}class pd{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>C_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KA.bind(null,this.syncEngine),await DA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MA})()}createDatastore(t){const i=Ac(t.databaseInfo.databaseId),r=(function(h){return new fA(h)})(t.databaseInfo);return(function(h,d,g,p){return new pA(h,d,g,p)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,o,h,d,g){return new _A(r,o,h,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>C_(this.syncEngine,i,0)),(function(){return S_.v()?new S_:new oA})())}createSyncEngine(t,i){return(function(o,h,d,g,p,y,T){const A=new PA(o,h,d,g,p,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=bt(i);ut(As,"RemoteStore shutting down."),r.Ea.add(5),await mo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}pd.provider={build:()=>new pd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(Q.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const i=await(async function(o,h){const d=bt(o),g={documents:h.map((A=>oc(d.serializer,A)))},p=await d.Ho("BatchGetDocuments",d.serializer.databaseId,$t.emptyPath(),g,h.length),y=new Map;p.forEach((A=>{const I=vb(d.serializer,A);y.set(I.key.toString(),I)}));const T=[];return h.forEach((A=>{const I=y.get(A.toString());kt(!!I,55234,{key:A}),T.push(I)})),T})(this.datastore,t);return i.forEach((r=>this.recordVersion(r))),i}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Vd(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((i=>{t.delete(i.key.toString())})),t.forEach(((i,r)=>{const o=gt.fromPath(r);this.mutations.push(new zv(o,this.precondition(o)))})),await(async function(r,o){const h=bt(r),d={writes:o.map((g=>Yv(h.serializer,g)))};await h.Go("Commit",h.serializer.databaseId,$t.emptyPath(),d)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw _t(50498,{Gu:t.constructor.name});i=Tt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!i.isEqual(r))throw new lt(Q.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(Tt.min())?an.exists(!1):an.updateTime(i):an.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(Tt.min()))throw new lt(Q.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return an.updateTime(i)}return an.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t,i,r,o,h){this.asyncQueue=t,this.datastore=i,this.options=r,this.updateFunction=o,this.deferred=h,this.zu=r.maxAttempts,this.M_=new Bd(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Ju()}Ju(){this.M_.p_((async()=>{const t=new JA(this.datastore),i=this.Hu(t);i&&i.then((r=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(r)})).catch((o=>{this.Yu(o)}))))})).catch((r=>{this.Yu(r)}))}))}Hu(t){try{const i=this.updateFunction(t);return!uo(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}Yu(t){this.zu>0&&this.Zu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Ju(),Promise.resolve())))):this.deferred.reject(t)}Zu(t){if(t?.name==="FirebaseError"){const i=t.code;return i==="aborted"||i==="failed-precondition"||i==="already-exists"||!jv(i)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class t2{constructor(t,i,r,o,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Ad.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ut(xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ut(xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Qd(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Xf(s,t){s.asyncQueue.verifyOperationInProgress(),ut(xa,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Wv(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function I_(s,t){s.asyncQueue.verifyOperationInProgress();const i=await e2(s);ut(xa,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>A_(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>A_(t.remoteStore,o))),s._onlineComponents=t}async function e2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ut(xa,"Using user provided OfflineComponentProvider");try{await Xf(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Rr("Error using user provided cache. Falling back to memory cache: "+i),await Xf(s,new hc)}}else ut(xa,"Using default OfflineComponentProvider"),await Xf(s,new $A(void 0));return s._offlineComponents}async function Zd(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ut(xa,"Using user provided OnlineComponentProvider"),await I_(s,s._uninitializedComponentsProvider._online)):(ut(xa,"Using default OnlineComponentProvider"),await I_(s,new pd))),s._onlineComponents}function n2(s){return Zd(s).then((t=>t.syncEngine))}function i2(s){return Zd(s).then((t=>t.datastore))}async function yd(s){const t=await Zd(s),i=t.eventManager;return i.onListen=zA.bind(null,t.syncEngine),i.onUnlisten=kA.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=jA.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=qA.bind(null,t.syncEngine),i}function a2(s,t,i={}){const r=new Li;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,p,y){const T=new v1({next:I=>{T.Nu(),d.enqueueAndForget((()=>u1(h,A))),I.fromCache&&p.source==="server"?y.reject(new lt(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(I)},error:I=>y.reject(I)}),A=new c1(g,T,{includeMetadataChanges:!0,qa:!0});return o1(h,A)})(await yd(s),s.asyncQueue,t,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firestore.googleapis.com",V_=!0;class O_{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=T1,this.ssl=V_}else this.host=t.host,this.ssl=t.ssl??V_;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=$v;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xb)throw new lt(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ES("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=E1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nc{constructor(t,i,r,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O_(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new cS;switch(r.type){case"firstParty":return new mS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=M_.get(i);r&&(ut("ComponentProvider","Removing Datastore"),M_.delete(i),r.terminate())})(this),Promise.resolve()}}function s2(s,t,i,r={}){s=ci(s,Nc);const o=Td(t),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${i}`;o&&(jE(`https://${g}`),HE("Firestore",!0)),h.host!==T1&&h.host!==g&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:o,emulatorOptions:r};if(!$u(p,d)&&(s._setSettings(p),r.mockUserToken)){let y,T;if(typeof r.mockUserToken=="string")y=r.mockUserToken,T=Ze.MOCK_USER;else{y=BE(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new lt(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ze(A)}s._authCredentials=new hS(new rv(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Cs(this.firestore,t,this._query)}}class _e{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(oo(i,_e._jsonSchema))return new _e(t,r||null,new gt($t.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:be("string",_e._jsonSchemaVersion),referencePath:be("string")};class Na extends Cs{constructor(t,i,r){super(t,i,Id(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new gt(t))}withConverter(t){return new Na(this.firestore,t,this._path)}}function $d(s,t,...i){if(s=Pn(s),lv("collection","path",t),s instanceof Nc){const r=$t.fromString(t,...i);return Qy(r),new Na(s,null,r)}{if(!(s instanceof _e||s instanceof Na))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child($t.fromString(t,...i));return Qy(r),new Na(s.firestore,null,r)}}function r2(s,t,...i){if(s=Pn(s),arguments.length===1&&(t=Ad.newId()),lv("doc","path",t),s instanceof Nc){const r=$t.fromString(t,...i);return Fy(r),new _e(s,null,new gt(r))}{if(!(s instanceof _e||s instanceof Na))throw new lt(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child($t.fromString(t,...i));return Fy(r),new _e(s.firestore,s instanceof Na?s.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class U_{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bd(this,"async_queue_retry"),this._c=()=>{const r=Kf();r&&ut(x_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Kf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Kf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Li;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ur(t))throw t;ut(x_,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,zi("INTERNAL UNHANDLED ERROR: ",L_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Fd.createAndSchedule(this,t,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&_t(47125,{Pc:L_(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function L_(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class Rs extends Nc{constructor(t,i,r,o){super(t,i,r,o),this.type="firestore",this._queue=new U_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new U_(t),this._firestoreClient=void 0,await t}}}function l2(s,t){const i=typeof s=="object"?s:WT(),r=typeof s=="string"?s:ec,o=KT(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=PE("firestore");h&&s2(o,...h)}return o}function Cc(s){if(s._terminated)throw new lt(Q.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||o2(s),s._firestoreClient}function o2(s){const t=s._freezeSettings(),i=(function(o,h,d,g){return new MS(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,E1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new t2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(t){this._byteString=t}static fromBase64String(t){try{return new En(Ge.fromBase64String(t))}catch(i){throw new lt(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new En(Ge.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oo(t,En._jsonSchema))return En.fromBase64String(t.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:be("string",En._jsonSchemaVersion),bytes:be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:fi._jsonSchemaVersion}}static fromJSON(t){if(oo(t,fi._jsonSchema))return new fi(t.latitude,t.longitude)}}fi._jsonSchemaVersion="firestore/geoPoint/1.0",fi._jsonSchema={type:be("string",fi._jsonSchemaVersion),latitude:be("number"),longitude:be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oo(t,di._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new di(t.vectorValues);throw new lt(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:be("string",di._jsonSchemaVersion),vectorValues:be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=/^__.*__$/;class c2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new La(t,this.data,this.fieldMask,i,this.fieldTransforms):new ho(t,this.data,i,this.fieldTransforms)}}class S1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new La(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function b1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class Wd{constructor(t,i,r,o,h,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Wd({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(b1(this.Ac)&&u2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class h2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Ac(t)}Cc(t,i,r,o=!1){return new Wd({Ac:t,methodName:i,Dc:r,path:He.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dc(s){const t=s._freezeSettings(),i=Ac(s._databaseId);return new h2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function A1(s,t,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,t,i,o);tm("Data must be an object, but it was:",d,r);const g=N1(r,d);let p,y;if(h.merge)p=new Tn(d.fieldMask),y=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const I=_d(t,A,i);if(!d.contains(I))throw new lt(Q.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);D1(T,I)||T.push(I)}p=new Tn(T),y=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,y=d.fieldTransforms;return new c2(new nn(g),p,y)}class Ic extends Jd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ic}}function R1(s,t,i,r){const o=s.Cc(1,t,i);tm("Data must be an object, but it was:",o,r);const h=[],d=nn.empty();Ua(r,((p,y)=>{const T=em(t,p,i);y=Pn(y);const A=o.yc(T);if(y instanceof Ic)h.push(T);else{const I=yo(y,A);I!=null&&(h.push(T),d.set(T,I))}}));const g=new Tn(h);return new S1(d,g,o.fieldTransforms)}function w1(s,t,i,r,o,h){const d=s.Cc(1,t,i),g=[_d(t,r,i)],p=[o];if(h.length%2!=0)throw new lt(Q.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<h.length;I+=2)g.push(_d(t,h[I])),p.push(h[I+1]);const y=[],T=nn.empty();for(let I=g.length-1;I>=0;--I)if(!D1(y,g[I])){const z=g[I];let Z=p[I];Z=Pn(Z);const tt=d.yc(z);if(Z instanceof Ic)y.push(z);else{const Y=yo(Z,tt);Y!=null&&(y.push(z),T.set(z,Y))}}const A=new Tn(y);return new S1(T,A,d.fieldTransforms)}function f2(s,t,i,r=!1){return yo(i,s.Cc(r?4:3,t))}function yo(s,t){if(C1(s=Pn(s)))return tm("Unsupported field value:",t,s),N1(s,t);if(s instanceof Jd)return(function(r,o){if(!b1(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const g of r){let p=yo(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(s,t)}return(function(r,o){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Wt.fromDate(r);return{timestampValue:lc(o.serializer,h)}}if(r instanceof Wt){const h=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lc(o.serializer,h)}}if(r instanceof fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof En)return{bytesValue:Hv(o.serializer,r._byteString)};if(r instanceof _e){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Ud(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof di)return(function(d,g){return{mapValue:{fields:{[pv]:{stringValue:yv},[nc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Md(g.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${pc(r)}`)})(s,t)}function N1(s,t){const i={};return cv(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ua(s,((r,o)=>{const h=yo(o,t.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function C1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof fi||s instanceof En||s instanceof _e||s instanceof Jd||s instanceof di)}function tm(s,t,i){if(!C1(i)||!ov(i)){const r=pc(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function _d(s,t,i){if((t=Pn(t))instanceof po)return t._internalPath;if(typeof t=="string")return em(s,t);throw fc("Field path arguments must be of type string or ",s,!1,void 0,i)}const d2=new RegExp("[~\\*/\\[\\]]");function em(s,t,i){if(t.search(d2)>=0)throw fc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new po(...t.split("."))._internalPath}catch{throw fc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function fc(s,t,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${r}`),d&&(p+=` in document ${o}`),p+=")"),new lt(Q.INVALID_ARGUMENT,g+s+p)}function D1(s,t){return s.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(t,i,r,o,h){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new m2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(nm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class m2 extends dc{data(){return super.data()}}function nm(s,t){return typeof t=="string"?em(s,t):t instanceof po?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class im{}class g2 extends im{}function M1(s,t,...i){let r=[];t instanceof im&&r.push(t),r=r.concat(i),(function(h){const d=h.filter((p=>p instanceof am)).length,g=h.filter((p=>p instanceof Mc)).length;if(d>1||d>0&&g>0)throw new lt(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Mc extends g2{constructor(t,i,r){super(),this._field=t,this._op=i,this._value=r,this.type="where"}static _create(t,i,r){return new Mc(t,i,r)}_apply(t){const i=this._parse(t);return V1(t._query,i),new Cs(t.firestore,t.converter,ld(t._query,i))}_parse(t){const i=Dc(t.firestore);return(function(h,d,g,p,y,T,A){let I;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new lt(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){j_(A,T);const Z=[];for(const tt of A)Z.push(z_(p,h,tt));I={arrayValue:{values:Z}}}else I=z_(p,h,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||j_(A,T),I=f2(g,d,A,T==="in"||T==="not-in");return Se.create(y,T,I)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function vd(s,t,i){const r=t,o=nm("where",s);return Mc._create(o,r,i)}class am extends im{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new am(t,i)}_parse(t){const i=this._queryConstraints.map((r=>r._parse(t))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Kn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const p of g)V1(d,p),d=ld(d,p)})(t._query,i),new Cs(t.firestore,t.converter,ld(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function z_(s,t,i){if(typeof(i=Pn(i))=="string"){if(i==="")throw new lt(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rv(t)&&i.indexOf("/")!==-1)throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=t.path.child($t.fromString(i));if(!gt.isDocumentKey(r))throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t_(s,new gt(r))}if(i instanceof _e)return t_(s,i._key);throw new lt(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pc(i)}.`)}function j_(s,t){if(!Array.isArray(s)||s.length===0)throw new lt(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function V1(s,t){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new lt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class O1{convertValue(t,i="none"){switch(Va(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ma(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return Ua(t,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(t){const i=t.fields?.[nc].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new di(i)}convertGeoPoint(t){return new fi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=_c(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(io(t));default:return null}}convertTimestamp(t){const i=Ia(t);return new Wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=$t.fromString(t);kt(Zv(r),9688,{name:t});const o=new ao(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return o.isEqual(i)||zi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(s,t,i){let r;return r=s?i&&(i.merge||i.mergeFields)?s.toFirestore(t,i):s.toFirestore(t):t,r}class p2 extends O1{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,i)}}class Tr{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ca extends dc{constructor(t,i,r,o,h,d){super(t,i,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(nm("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ca._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ca._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ca._jsonSchema={type:be("string",Ca._jsonSchemaVersion),bundleSource:be("string","DocumentSnapshot"),bundleName:be("string"),bundle:be("string")};class Yu extends Ca{data(t={}){return super.data(t)}}class Ts{constructor(t,i,r,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Tr(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Yu(this._firestore,this._userDataWriter,r.key,r,new Tr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Tr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new Yu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Tr(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:y2(g.type),doc:p,oldIndex:y,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ts._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Ad.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function y2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}Ts._jsonSchemaVersion="firestore/querySnapshot/1.0",Ts._jsonSchema={type:be("string",Ts._jsonSchemaVersion),bundleSource:be("string","QuerySnapshot"),bundleName:be("string"),bundle:be("string")};class Vc extends O1{constructor(t){super(),this.firestore=t}convertBytes(t){return new En(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function _2(s){s=ci(s,Cs);const t=ci(s.firestore,Rs),i=Cc(t),r=new Vc(t);return I1(s._query),a2(i,s._query).then((o=>new Ts(t,r,s,o)))}function Oc(s,t,i,...r){s=ci(s,_e);const o=ci(s.firestore,Rs),h=Dc(o);let d;return d=typeof(t=Pn(t))=="string"||t instanceof po?w1(h,"updateDoc",s._key,t,i,r):R1(h,"updateDoc",s._key,t),U1(o,[d.toMutation(s._key,an.exists(!0))])}function v2(s,t){const i=ci(s.firestore,Rs),r=r2(s),o=x1(s.converter,t);return U1(i,[A1(Dc(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,an.exists(!1))]).then((()=>r))}function E2(s,...t){s=Pn(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||P_(t[r])||(i=t[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(P_(t[r])){const p=t[r];t[r]=p.next?.bind(p),t[r+1]=p.error?.bind(p),t[r+2]=p.complete?.bind(p)}let h,d,g;if(s instanceof _e)d=ci(s.firestore,Rs),g=Id(s._key.path),h={next:p=>{t[r]&&t[r](T2(d,s,p))},error:t[r+1],complete:t[r+2]};else{const p=ci(s,Cs);d=ci(p.firestore,Rs),g=p._query;const y=new Vc(d);h={next:T=>{t[r]&&t[r](new Ts(d,y,p,T))},error:t[r+1],complete:t[r+2]},I1(s._query)}return(function(y,T,A,I){const z=new v1(I),Z=new c1(T,z,A);return y.asyncQueue.enqueueAndForget((async()=>o1(await yd(y),Z))),()=>{z.Nu(),y.asyncQueue.enqueueAndForget((async()=>u1(await yd(y),Z)))}})(Cc(d),g,o,h)}function U1(s,t){return(function(r,o){const h=new Li;return r.asyncQueue.enqueueAndForget((async()=>HA(await n2(r),o,h))),h.promise})(Cc(s),t)}function T2(s,t,i){const r=i.docs.get(t._key),o=new Vc(s);return new Ca(s,o,t._key,r,new Tr(i.hasPendingWrites,i.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2={maxAttempts:5};function Yl(s,t){if((s=Pn(s)).firestore!==t)throw new lt(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t,i){this._firestore=t,this._transaction=i,this._dataReader=Dc(t)}get(t){const i=Yl(t,this._firestore),r=new p2(this._firestore);return this._transaction.lookup([i._key]).then((o=>{if(!o||o.length!==1)return _t(24041);const h=o[0];if(h.isFoundDocument())return new dc(this._firestore,r,h.key,h,i.converter);if(h.isNoDocument())return new dc(this._firestore,r,i._key,null,i.converter);throw _t(18433,{doc:h})}))}set(t,i,r){const o=Yl(t,this._firestore),h=x1(o.converter,i,r),d=A1(this._dataReader,"Transaction.set",o._key,h,o.converter!==null,r);return this._transaction.set(o._key,d),this}update(t,i,r,...o){const h=Yl(t,this._firestore);let d;return d=typeof(i=Pn(i))=="string"||i instanceof po?w1(this._dataReader,"Transaction.update",h._key,i,r,o):R1(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,d),this}delete(t){const i=Yl(t,this._firestore);return this._transaction.delete(i._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2 extends b2{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=Yl(t,this._firestore),r=new Vc(this._firestore);return super.get(t).then((o=>new Ca(this._firestore,r,i._key,o._document,new Tr(!1,!1),i.converter)))}}function R2(s,t,i){s=ci(s,Rs);const r={...S2,...i};return(function(h){if(h.maxAttempts<1)throw new lt(Q.INVALID_ARGUMENT,"Max attempts must be at least 1")})(r),(function(h,d,g){const p=new Li;return h.asyncQueue.enqueueAndForget((async()=>{const y=await i2(h);new WA(h.asyncQueue,y,g,d,p).ju()})),p.promise})(Cc(s),(o=>t(new A2(s,o))),r)}(function(t,i=!0){(function(o){Or=o})(JT),Wu(new to("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Rs(new fS(r.getProvider("auth-internal")),new gS(d,r.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(y.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),br(ky,qy,t),br(ky,qy,"esm2020")})();var w2="firebase",N2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(w2,N2,"app");const C2={apiKey:"AIzaSyAxeBAxKalFCIl6Buut5y5eG7Kee47mENs",authDomain:"chem-card-game.firebaseapp.com",projectId:"chem-card-game",storageBucket:"chem-card-game.firebasestorage.app",messagingSenderId:"484362725443",appId:"1:484362725443:web:3274afc3c009e271b8ccf6",measurementId:"G-099MXETX8X"},D2=C2,I2=Z_(D2),mc=l2(I2);function Ku(s){return Math.ceil(s.atomicMass/100)}function L1(s){const t=M2[s];if(!t)throw new Error(`Element with atomic number ${s} not found`);return t}const xc=[{name:"Hydrogen",atomicNumber:1,atomicSymbol:"H",atomicMass:1.007,family:"Nonmetal",positiveIon:1,negativeIon:1},{name:"Helium",atomicNumber:2,atomicSymbol:"He",atomicMass:4.002,family:"Noble Gas"},{name:"Lithium",atomicNumber:3,atomicSymbol:"Li",atomicMass:6.941,family:"Alkali Metal",positiveIon:1},{name:"Beryllium",atomicNumber:4,atomicSymbol:"Be",atomicMass:9.012,family:"Alkaline Earth Metal",positiveIon:2},{name:"Boron",atomicNumber:5,atomicSymbol:"B",atomicMass:10.811,family:"Metalloid"},{name:"Carbon",atomicNumber:6,atomicSymbol:"C",atomicMass:12.011,family:"Nonmetal"},{name:"Nitrogen",atomicNumber:7,atomicSymbol:"N",atomicMass:14.007,family:"Nonmetal",negativeIon:3},{name:"Oxygen",atomicNumber:8,atomicSymbol:"O",atomicMass:15.999,family:"Nonmetal",negativeIon:2},{name:"Fluorine",atomicNumber:9,atomicSymbol:"F",atomicMass:18.998,family:"Halogen",negativeIon:1},{name:"Neon",atomicNumber:10,atomicSymbol:"Ne",atomicMass:20.18,family:"Noble Gas"},{name:"Sodium",atomicNumber:11,atomicSymbol:"Na",atomicMass:22.99,family:"Alkali Metal",positiveIon:1},{name:"Magnesium",atomicNumber:12,atomicSymbol:"Mg",atomicMass:24.305,family:"Alkaline Earth Metal",positiveIon:2},{name:"Aluminum",atomicNumber:13,atomicSymbol:"Al",atomicMass:26.982,family:"Metal",positiveIon:3},{name:"Silicon",atomicNumber:14,atomicSymbol:"Si",atomicMass:28.086,family:"Metalloid"},{name:"Phosphorus",atomicNumber:15,atomicSymbol:"P",atomicMass:30.974,family:"Nonmetal",negativeIon:3},{name:"Sulfur",atomicNumber:16,atomicSymbol:"S",atomicMass:32.065,family:"Nonmetal",negativeIon:2},{name:"Chlorine",atomicNumber:17,atomicSymbol:"Cl",atomicMass:35.453,family:"Halogen",negativeIon:1},{name:"Argon",atomicNumber:18,atomicSymbol:"Ar",atomicMass:39.948,family:"Noble Gas"},{name:"Potassium",atomicNumber:19,atomicSymbol:"K",atomicMass:39.098,family:"Alkali Metal",positiveIon:1},{name:"Calcium",atomicNumber:20,atomicSymbol:"Ca",atomicMass:40.078,family:"Alkaline Earth Metal",positiveIon:2},{name:"Scandium",atomicNumber:21,atomicSymbol:"Sc",atomicMass:44.956,family:"Transition Metal",positiveIon:3},{name:"Titanium",atomicNumber:22,atomicSymbol:"Ti",atomicMass:47.867,family:"Transition Metal"},{name:"Vanadium",atomicNumber:23,atomicSymbol:"V",atomicMass:50.942,family:"Transition Metal"},{name:"Chromium",atomicNumber:24,atomicSymbol:"Cr",atomicMass:51.996,family:"Transition Metal"},{name:"Manganese",atomicNumber:25,atomicSymbol:"Mn",atomicMass:54.938,family:"Transition Metal"},{name:"Iron",atomicNumber:26,atomicSymbol:"Fe",atomicMass:55.845,family:"Transition Metal"},{name:"Cobalt",atomicNumber:27,atomicSymbol:"Co",atomicMass:58.933,family:"Transition Metal"},{name:"Nickel",atomicNumber:28,atomicSymbol:"Ni",atomicMass:58.693,family:"Transition Metal"},{name:"Copper",atomicNumber:29,atomicSymbol:"Cu",atomicMass:63.546,family:"Transition Metal"},{name:"Zinc",atomicNumber:30,atomicSymbol:"Zn",atomicMass:65.38,family:"Transition Metal"},{name:"Gallium",atomicNumber:31,atomicSymbol:"Ga",atomicMass:69.723,family:"Metal"},{name:"Germanium",atomicNumber:32,atomicSymbol:"Ge",atomicMass:72.64,family:"Metalloid"},{name:"Arsenic",atomicNumber:33,atomicSymbol:"As",atomicMass:74.922,family:"Metalloid",negativeIon:3},{name:"Selenium",atomicNumber:34,atomicSymbol:"Se",atomicMass:78.96,family:"Nonmetal",negativeIon:2},{name:"Bromine",atomicNumber:35,atomicSymbol:"Br",atomicMass:79.904,family:"Halogen",negativeIon:1},{name:"Krypton",atomicNumber:36,atomicSymbol:"Kr",atomicMass:83.798,family:"Noble Gas"},{name:"Rubidium",atomicNumber:37,atomicSymbol:"Rb",atomicMass:85.468,family:"Alkali Metal",positiveIon:1},{name:"Strontium",atomicNumber:38,atomicSymbol:"Sr",atomicMass:87.62,family:"Alkaline Earth Metal",positiveIon:2},{name:"Yttrium",atomicNumber:39,atomicSymbol:"Y",atomicMass:88.906,family:"Transition Metal",positiveIon:3},{name:"Zirconium",atomicNumber:40,atomicSymbol:"Zr",atomicMass:91.224,family:"Transition Metal"},{name:"Niobium",atomicNumber:41,atomicSymbol:"Nb",atomicMass:92.906,family:"Transition Metal"},{name:"Molybdenum",atomicNumber:42,atomicSymbol:"Mo",atomicMass:95.96,family:"Transition Metal"},{name:"Technetium",atomicNumber:43,atomicSymbol:"Tc",atomicMass:98,radioactive:!0,family:"Transition Metal"},{name:"Ruthenium",atomicNumber:44,atomicSymbol:"Ru",atomicMass:101.07,family:"Transition Metal"},{name:"Rhodium",atomicNumber:45,atomicSymbol:"Rh",atomicMass:102.906,family:"Transition Metal"},{name:"Palladium",atomicNumber:46,atomicSymbol:"Pd",atomicMass:106.42,family:"Transition Metal"},{name:"Silver",atomicNumber:47,atomicSymbol:"Ag",atomicMass:107.868,family:"Transition Metal"},{name:"Cadmium",atomicNumber:48,atomicSymbol:"Cd",atomicMass:112.411,family:"Transition Metal"},{name:"Indium",atomicNumber:49,atomicSymbol:"In",atomicMass:114.818,family:"Metal"},{name:"Tin",atomicNumber:50,atomicSymbol:"Sn",atomicMass:118.71,family:"Metal"},{name:"Antimony",atomicNumber:51,atomicSymbol:"Sb",atomicMass:121.76,family:"Metalloid"},{name:"Tellurium",atomicNumber:52,atomicSymbol:"Te",atomicMass:127.6,family:"Metalloid",negativeIon:2},{name:"Iodine",atomicNumber:53,atomicSymbol:"I",atomicMass:126.904,family:"Halogen",negativeIon:1},{name:"Xenon",atomicNumber:54,atomicSymbol:"Xe",atomicMass:131.293,family:"Noble Gas"},{name:"Cesium",atomicNumber:55,atomicSymbol:"Cs",atomicMass:132.905,family:"Alkali Metal",positiveIon:1},{name:"Barium",atomicNumber:56,atomicSymbol:"Ba",atomicMass:137.327,family:"Alkaline Earth Metal",positiveIon:2},{name:"Lanthanum",atomicNumber:57,atomicSymbol:"La",atomicMass:138.905,family:"Lanthanide",positiveIon:3},{name:"Cerium",atomicNumber:58,atomicSymbol:"Ce",atomicMass:140.116,family:"Lanthanide"},{name:"Praseodymium",atomicNumber:59,atomicSymbol:"Pr",atomicMass:140.908,family:"Lanthanide"},{name:"Neodymium",atomicNumber:60,atomicSymbol:"Nd",atomicMass:144.242,family:"Lanthanide"},{name:"Promethium",atomicNumber:61,atomicSymbol:"Pm",atomicMass:145,radioactive:!0,family:"Lanthanide"},{name:"Samarium",atomicNumber:62,atomicSymbol:"Sm",atomicMass:150.36,family:"Lanthanide"},{name:"Europium",atomicNumber:63,atomicSymbol:"Eu",atomicMass:151.964,family:"Lanthanide"},{name:"Gadolinium",atomicNumber:64,atomicSymbol:"Gd",atomicMass:157.25,family:"Lanthanide"},{name:"Terbium",atomicNumber:65,atomicSymbol:"Tb",atomicMass:158.925,family:"Lanthanide"},{name:"Dysprosium",atomicNumber:66,atomicSymbol:"Dy",atomicMass:162.5,family:"Lanthanide"},{name:"Holmium",atomicNumber:67,atomicSymbol:"Ho",atomicMass:164.93,family:"Lanthanide"},{name:"Erbium",atomicNumber:68,atomicSymbol:"Er",atomicMass:167.259,family:"Lanthanide"},{name:"Thulium",atomicNumber:69,atomicSymbol:"Tm",atomicMass:168.934,family:"Lanthanide"},{name:"Ytterbium",atomicNumber:70,atomicSymbol:"Yb",atomicMass:173.054,family:"Lanthanide"},{name:"Lutetium",atomicNumber:71,atomicSymbol:"Lu",atomicMass:174.967,family:"Lanthanide"},{name:"Hafnium",atomicNumber:72,atomicSymbol:"Hf",atomicMass:178.49,family:"Transition Metal"},{name:"Tantalum",atomicNumber:73,atomicSymbol:"Ta",atomicMass:180.948,family:"Transition Metal"},{name:"Tungsten",atomicNumber:74,atomicSymbol:"W",atomicMass:183.84,family:"Transition Metal"},{name:"Rhenium",atomicNumber:75,atomicSymbol:"Re",atomicMass:186.207,family:"Transition Metal"},{name:"Osmium",atomicNumber:76,atomicSymbol:"Os",atomicMass:190.23,family:"Transition Metal"},{name:"Iridium",atomicNumber:77,atomicSymbol:"Ir",atomicMass:192.217,family:"Transition Metal"},{name:"Platinum",atomicNumber:78,atomicSymbol:"Pt",atomicMass:195.084,family:"Transition Metal"},{name:"Gold",atomicNumber:79,atomicSymbol:"Au",atomicMass:196.967,family:"Transition Metal"},{name:"Mercury",atomicNumber:80,atomicSymbol:"Hg",atomicMass:200.59,family:"Transition Metal"},{name:"Thallium",atomicNumber:81,atomicSymbol:"Tl",atomicMass:204.383,family:"Metal"},{name:"Lead",atomicNumber:82,atomicSymbol:"Pb",atomicMass:207.2,family:"Metal"},{name:"Bismuth",atomicNumber:83,atomicSymbol:"Bi",atomicMass:208.98,family:"Metal"},{name:"Polonium",atomicNumber:84,atomicSymbol:"Po",atomicMass:210,radioactive:!0,family:"Metalloid"},{name:"Astatine",atomicNumber:85,atomicSymbol:"At",atomicMass:210,radioactive:!0,family:"Noble Gas",negativeIon:1},{name:"Radon",atomicNumber:86,atomicSymbol:"Rn",atomicMass:222,radioactive:!0,family:"Alkali Metal"},{name:"Francium",atomicNumber:87,atomicSymbol:"Fr",atomicMass:223,radioactive:!0,family:"Alkaline Earth Metal",positiveIon:1},{name:"Radium",atomicNumber:88,atomicSymbol:"Ra",atomicMass:226,radioactive:!0,family:"Actinide",positiveIon:2},{name:"Actinium",atomicNumber:89,atomicSymbol:"Ac",atomicMass:227,radioactive:!0,family:"Actinide",positiveIon:3},{name:"Thorium",atomicNumber:90,atomicSymbol:"Th",atomicMass:232.038,radioactive:!0,family:"Actinide"},{name:"Protactinium",atomicNumber:91,atomicSymbol:"Pa",atomicMass:231.036,radioactive:!0,family:"Actinide"},{name:"Uranium",atomicNumber:92,atomicSymbol:"U",atomicMass:238.029,radioactive:!0,family:"Actinide"},{name:"Neptunium",atomicNumber:93,atomicSymbol:"Np",atomicMass:237,radioactive:!0,family:"Actinide"},{name:"Plutonium",atomicNumber:94,atomicSymbol:"Pu",atomicMass:244,radioactive:!0,family:"Actinide"},{name:"Americium",atomicNumber:95,atomicSymbol:"Am",atomicMass:243,radioactive:!0,family:"Actinide"},{name:"Curium",atomicNumber:96,atomicSymbol:"Cm",atomicMass:247,radioactive:!0,family:"Actinide"},{name:"Berkelium",atomicNumber:97,atomicSymbol:"Bk",atomicMass:247,radioactive:!0,family:"Actinide"},{name:"Californium",atomicNumber:98,atomicSymbol:"Cf",atomicMass:251,radioactive:!0,family:"Actinide"},{name:"Einsteinium",atomicNumber:99,atomicSymbol:"Es",atomicMass:252,radioactive:!0,family:"Actinide"},{name:"Fermium",atomicNumber:100,atomicSymbol:"Fm",atomicMass:257,radioactive:!0,family:"Actinide"},{name:"Mendelevium",atomicNumber:101,atomicSymbol:"Md",atomicMass:258,radioactive:!0,family:"Actinide"},{name:"Nobelium",atomicNumber:102,atomicSymbol:"No",atomicMass:259,radioactive:!0,family:"Actinide"},{name:"Lawrencium",atomicNumber:103,atomicSymbol:"Lr",atomicMass:262,radioactive:!0,family:"Actinide"}],M2=xc.reduce((s,t)=>(s[t.atomicNumber]=t,s),{});function Sr(s){return xc.find(t=>t.atomicNumber===s)}function Ss(s){return s.map(t=>Sr(t)).filter(t=>t!==void 0)}function V2(s){const t=[...s];for(let i=t.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[t[i],t[r]]=[t[r],t[i]]}return t}function P1(s){return{2:{deckSize:36,handSize:15},3:{deckSize:54,handSize:15},4:{deckSize:54,handSize:13},5:{deckSize:54,handSize:10},6:{deckSize:86,handSize:14},7:{deckSize:103,handSize:14},8:{deckSize:103,handSize:12},9:{deckSize:103,handSize:11},10:{deckSize:103,handSize:10}}[s]||{deckSize:103,handSize:10}}function O2(s){const{deckSize:t,handSize:i}=P1(s),r=xc.filter(d=>d.atomicNumber<=t),o=V2([...r]),h=[];for(let d=0;d<s;d++){const g=d*i,p=g+i;h.push(o.slice(g,p).map(y=>y.atomicNumber))}return h}function x2(s){if(s.length===0)return 0;const t=[...s].sort((h,d)=>h-d);let i=1,r=1;for(let h=1;h<t.length;h++)t[h]===t[h-1]+1?(r++,i=Math.max(i,r)):r=1;const o=Math.min(Math.max(i,2),4);return o*o}function U2(s,t,i){const r=Ss(s),o=Ss(t),h=Ss(i),d=r.reduce((T,A)=>T+Ku(A),0),g=o.reduce((T,A)=>T+Ku(A),0),p=h.reduce((T,A)=>T+Ku(A),0);let y=0;return d>g&&(y+=2),d<g&&(y-=2),d>p&&(y+=2),d<p&&(y-=2),y}function L2(s,t){const r=Ss(s).map(o=>o.atomicSymbol);return z1(r,t)}function z1(s,t){return t.length===0?!0:s.some(i=>t.toLowerCase().startsWith(i.toLowerCase())&&z1(s.filter(r=>r!==i),t.slice(i.length)))}function P2(s){const i=Ss(s).filter(r=>r.radioactive).length;return i>=2?7:i===1?-3:0}function z2(s){const t=Ss(s),i={},r={};for(const h of t)h.positiveIon&&(i[h.positiveIon]=(i[h.positiveIon]||0)+1),h.negativeIon&&(r[h.negativeIon]=(r[h.negativeIon]||0)+1);let o=0;for(const h of Object.keys(i)){const d=Number.parseInt(h),g=Math.min(i[d],r[d]||0);o+=g*5}return o}function j2(s){const t=Ss(s),i={};for(const p of t)i[p.family]=(i[p.family]||0)+1;const r=Object.keys(i).length,o=Math.max(...Object.values(i)),h=Math.max(r,o),d=Math.min(h,6);return{1:0,2:1,3:3,4:6,5:10,6:15}[d]||0}function B2(s,t){if(t.length===0)return 0;const i=t.reduce((d,g)=>(d[g.round]||(d[g.round]=[]),d[g.round].push(g),d),{}),r=Object.keys(i).map(Number).sort((d,g)=>d-g),o=[8,5,2];let h=0;for(const d of r){const g=i[d],p=o[h]||0;if(g.some(y=>y.playerId===s))return p;h+=g.length}return 0}function k2(s,t,i,r=0,o=!0){const h=x2(s),d=U2(s,t,i),g=r,p=o?P2(s):0,y=z2(s),T=j2(s),A=h+d+g+p+y+T;return{atomicNumber:h,atomicMass:d,atomicSymbol:g,radioactivity:p,ionization:y,family:T,total:A}}function q2(){return Math.random().toString(36).substring(2,8).toUpperCase()}const j1="games";async function H2(){const s=q2(),t=Math.random().toString(36).substring(2,15),i=Wt.fromDate(new Date(Date.now()+7200*1e3)),r={id:s,phase:"lobby",players:[{id:t,name:"Player 1",isHost:!0}],hostId:t,createdAt:Date.now(),ttl:i};return await v2($d(mc,j1),r),{gameId:s,playerId:t,lobbyData:r}}async function G2(s){const t=M1($d(mc,j1),vd("id","==",s),vd("phase","==","lobby")),i=await _2(t);if(i.empty)return{success:!1};const r=i.docs[0],o=r.data(),h=Math.random().toString(36).substring(2,15),d=o.players.length+1,g={id:h,name:`Player ${d}`,isHost:!1};return await R2(mc,async p=>{const y=await p.get(r.ref);if(!y.exists())throw new Error("Game document no longer exists");const A=[...y.data().players,g];p.update(r.ref,{players:A})}),{success:!0,playerId:h}}async function F2(s,t,i,r){if(!r||r.length>50)throw new Error("Player name must be between 1 and 50 characters");const o=t.players.findIndex(d=>d.id===i);if(o===-1)return!1;const h=[...t.players];return h[o]={...h[o],name:r},await Oc(s,{players:h}),!0}async function Q2(s,t){if(t.players.length<2)return!1;const i=O2(t.players.length),r=i[0].length,o=Wt.fromDate(new Date(Date.now()+7200*1e3)),h={phase:"drafting",players:t.players.map((d,g)=>({...d,draftedCards:[],hand:i[g]})),deck:[...xc],currentRound:1,totalRounds:r,wordSpellingWinners:[],ttl:o};return await Oc(s,h),!0}async function Y2(s,t,i,r){const o=t.players.findIndex(I=>I.id===i);if(o===-1)return!1;const h=t.players[o];if(r<0||r>=h.hand.length)return!1;const d=h.hand[r],g=h.hand.filter((I,z)=>z!==r),p=[...h.draftedCards,d],y=[...t.players];y[o]={...h,hand:g,draftedCards:p};const T=y.every(I=>I.draftedCards.length>=t.currentRound);let A={...t,players:y};if(T)if(y.every(z=>z.hand.length===0))A={...A,phase:"scoring"};else{const z=y.map(tt=>tt.hand),Z=y.map((tt,Y)=>{const ct=(Y+1)%y.length;return{...tt,hand:z[ct]}});A={...A,players:Z,currentRound:t.currentRound+1}}return await Oc(s,A),!0}async function K2(s,t,i,r){if(!r||r.length!==5||!/^[A-Za-z]+$/.test(r))throw new Error("Word must be exactly 5 letters and contain only alphabetic characters");const o=t.players.find(g=>g.id===i);if(!o||t.wordSpellingWinners.some(g=>g.playerId===i)||r.length!==5)return!1;const h=o.draftedCards.slice(0,t.currentRound-1);if(!L2(h,r))return!1;const d=[...t.wordSpellingWinners,{playerId:i,round:t.currentRound}];return await Oc(s,{wordSpellingWinners:d}),!0}function B1(){return new URLSearchParams(window.location.search).get("gameId")}function X2(){return new URLSearchParams(window.location.search).get("playerId")}function B_(s){const t=new URL(window.location.href);t.searchParams.set("gameId",s),window.history.replaceState({},"",t.toString())}function k_(s){const t=new URL(window.location.href);t.searchParams.set("playerId",s),window.history.replaceState({},"",t.toString())}function Z2(s){const t=new URL(window.location.href);return t.searchParams.set("gameId",s),t.searchParams.delete("playerId"),t.toString()}function $2(){const s=new URL(window.location.href);s.search="",window.history.replaceState({},"",s.toString())}const J2=({onJoinLobby:s})=>{const[t,i]=se.useState(()=>B1()||""),[r,o]=se.useState(!1),[h,d]=se.useState(!1),[g,p]=se.useState(""),y=async()=>{o(!0),p("");try{const{gameId:A,playerId:I}=await H2();B_(A),k_(I),s(A,I,!0,"Player 1")}catch{p("Failed to create game. Please try again."),o(!1)}},T=async()=>{if(!t.trim()){p("Please enter a game ID");return}d(!0),p("");try{const A=await G2(t.trim().toUpperCase());A.success&&A.playerId?(B_(t.trim().toUpperCase()),k_(A.playerId),s(t.trim().toUpperCase(),A.playerId,!1,"")):(p("Game not found. Please check the game ID."),d(!1))}catch{p("Failed to join game. Please try again."),d(!1)}};return B.jsxs("div",{className:"game-setup",children:[B.jsxs("div",{className:"setup-header",children:[B.jsx("h1",{children:"Chemistry Card Game"}),B.jsx("p",{children:"Create a new game or join an existing one"})]}),B.jsxs("div",{className:"setup-form",children:[B.jsxs("div",{className:"setup-actions",children:[B.jsxs("div",{className:"create-section",children:[B.jsx("h3",{children:"Start New Game"}),B.jsx("button",{type:"button",onClick:y,disabled:r||h,className:"create-btn",children:r?"Creating...":"Create Game"})]}),B.jsxs("div",{className:"join-section",children:[B.jsx("h3",{children:"Join Existing Game"}),B.jsxs("div",{className:"input-group",children:[B.jsx("label",{htmlFor:"gameId",children:"Game ID:"}),B.jsx("input",{id:"gameId",type:"text",value:t,onChange:A=>i(A.target.value.toUpperCase()),placeholder:"Enter game ID",maxLength:6})]}),B.jsx("button",{type:"button",onClick:T,disabled:r||h,className:"join-btn",children:h?"Joining...":"Join Game"})]})]}),g&&B.jsx("div",{className:"error-message",children:g})]})]})},W2="chem-card-game-player-name",k1="chem-card-game-state";function tR(s){localStorage.setItem(W2,s)}function q_(s){localStorage.setItem(k1,JSON.stringify(s))}function eR(){localStorage.removeItem(k1)}const nR=s=>{const t=Mr.c(74),{gameId:i,playerId:r,isHost:o,playerName:h,lobby:d,gameDocRef:g,loading:p,error:y,onGameStart:T,onPlayerNameChange:A}=s,[I,z]=se.useState(!1),[Z,tt]=se.useState(!1),[Y,ct]=se.useState(h),[W,et]=se.useState(!1);let pt,nt;t[0]!==d||t[1]!==T?(pt=()=>{d&&d.phase!=="lobby"&&T()},nt=[d,T],t[0]=d,t[1]=T,t[2]=pt,t[3]=nt):(pt=t[2],nt=t[3]),se.useEffect(pt,nt);let ot,w;t[4]!==d||t[5]!==A||t[6]!==r||t[7]!==h?(ot=()=>{if(d&&d.phase==="lobby"){const wt=d.players.find(Ie=>Ie.id===r);wt&&wt.name!==h&&A(wt.name)}},w=[d,r,h,A],t[4]=d,t[5]=A,t[6]=r,t[7]=h,t[8]=ot,t[9]=w):(ot=t[8],w=t[9]),se.useEffect(ot,w);let b,R;t[10]!==h?(b=()=>{ct(h)},R=[h],t[10]=h,t[11]=b,t[12]=R):(b=t[11],R=t[12]),se.useEffect(b,R);let V;t[13]!==g||t[14]!==o||t[15]!==d||t[16]!==T?(V=async()=>{if(!o||!d||d.players.length<2||!g)return;z(!0),await Q2(g,d)?T():(z(!1),alert("Failed to start game. Please try again."))},t[13]=g,t[14]=o,t[15]=d,t[16]=T,t[17]=V):V=t[17];const D=V;let O;t[18]===Symbol.for("react.memo_cache_sentinel")?(O=()=>{tt(!0)},t[18]=O):O=t[18];const N=O;let Rt;t[19]!==g||t[20]!==d||t[21]!==A||t[22]!==r||t[23]!==Y?(Rt=async()=>{if(Y.trim()&&d&&g){const wt=Y.trim();await F2(g,d,r,wt)?(tR(wt),A(wt),tt(!1)):alert("Failed to update name. Please try again.")}},t[19]=g,t[20]=d,t[21]=A,t[22]=r,t[23]=Y,t[24]=Rt):Rt=t[24];const Dt=Rt;let G;t[25]!==h?(G=()=>{ct(h),tt(!1)},t[25]=h,t[26]=G):G=t[26];const at=G;let dt;t[27]!==i?(dt=async()=>{const wt=Z2(i);try{await navigator.clipboard.writeText(wt),et(!0),setTimeout(()=>et(!1),2e3)}catch{const Ie=document.createElement("textarea");Ie.value=wt,document.body.appendChild(Ie),Ie.select(),document.execCommand("copy"),document.body.removeChild(Ie),et(!0),setTimeout(()=>et(!1),2e3)}},t[27]=i,t[28]=dt):dt=t[28];const It=dt;if(p){let wt;return t[29]===Symbol.for("react.memo_cache_sentinel")?(wt=B.jsx("div",{className:"lobby-container",children:B.jsx("div",{className:"loading",children:"Loading lobby..."})}),t[29]=wt):wt=t[29],wt}if(y){let wt;return t[30]!==y?(wt=B.jsx("div",{className:"lobby-container",children:B.jsxs("div",{className:"error",children:["Error: ",y]})}),t[30]=y,t[31]=wt):wt=t[31],wt}if(!d||d.phase!=="lobby"){let wt;return t[32]===Symbol.for("react.memo_cache_sentinel")?(wt=B.jsx("div",{className:"lobby-container",children:B.jsx("div",{className:"loading",children:"Loading lobby..."})}),t[32]=wt):wt=t[32],wt}let M;t[33]===Symbol.for("react.memo_cache_sentinel")?(M=B.jsx("h2",{children:"Game Lobby"}),t[33]=M):M=t[33];let X;t[34]!==i?(X=B.jsxs("div",{className:"game-id",children:["Game ID: ",B.jsx("strong",{children:i})]}),t[34]=i,t[35]=X):X=t[35];const rt=W?" Copied!":" Copy Game Link";let st;t[36]!==It||t[37]!==rt?(st=B.jsx("button",{type:"button",onClick:It,className:"copy-url-btn",children:rt}),t[36]=It,t[37]=rt,t[38]=st):st=t[38];let ft;t[39]!==X||t[40]!==st?(ft=B.jsxs("div",{className:"lobby-header",children:[M,X,st]}),t[39]=X,t[40]=st,t[41]=ft):ft=t[41];let Nt;t[42]===Symbol.for("react.memo_cache_sentinel")?(Nt=B.jsx("h3",{children:"Your Name:"}),t[42]=Nt):Nt=t[42];let yt;t[43]!==at||t[44]!==Dt||t[45]!==Z||t[46]!==h||t[47]!==Y?(yt=B.jsxs("div",{className:"player-name-section",children:[Nt,Z?B.jsxs("div",{className:"name-edit",children:[B.jsx("input",{type:"text",value:Y,onChange:wt=>ct(wt.target.value),onKeyDown:wt=>{wt.key==="Enter"&&Dt(),wt.key==="Escape"&&at()},maxLength:20}),B.jsx("button",{type:"button",onClick:Dt,className:"save-btn",children:"Save"}),B.jsx("button",{type:"button",onClick:at,className:"cancel-btn",children:"Cancel"})]}):B.jsxs("div",{className:"name-display",children:[B.jsx("span",{className:"current-name",children:h}),B.jsx("button",{type:"button",onClick:N,className:"edit-btn",children:""})]})]}),t[43]=at,t[44]=Dt,t[45]=Z,t[46]=h,t[47]=Y,t[48]=yt):yt=t[48];let ie;t[49]!==d.players.length?(ie=B.jsxs("h3",{children:["Players (",d.players.length,")"]}),t[49]=d.players.length,t[50]=ie):ie=t[50];let Pt;if(t[51]!==d.players||t[52]!==r){let wt;t[54]!==r?(wt=Ie=>B.jsxs("div",{className:`player ${Ie.isHost?"host":""} ${Ie.id===r?"current":""}`,children:[B.jsx("span",{className:"player-name",children:Ie.name}),Ie.isHost&&B.jsx("span",{className:"host-badge",children:"Host"}),Ie.id===r&&B.jsx("span",{className:"you-badge",children:"You"})]},Ie.id),t[54]=r,t[55]=wt):wt=t[55],Pt=d.players.map(wt),t[51]=d.players,t[52]=r,t[53]=Pt}else Pt=t[53];let De;t[56]!==Pt?(De=B.jsx("div",{className:"players",children:Pt}),t[56]=Pt,t[57]=De):De=t[57];let bn;t[58]!==ie||t[59]!==De?(bn=B.jsxs("div",{className:"players-list",children:[ie,De]}),t[58]=ie,t[59]=De,t[60]=bn):bn=t[60];let cn;t[61]!==D||t[62]!==o||t[63]!==I||t[64]!==d.players.length?(cn=o&&B.jsxs("div",{className:"lobby-actions",children:[B.jsx("button",{type:"button",onClick:D,disabled:d.players.length<2||I,className:"start-game-btn",children:I?"Starting Game...":"Start Game"}),B.jsx("p",{className:"start-hint",children:d.players.length<2?"Waiting for at least one more player...":"Ready to start!"})]}),t[61]=D,t[62]=o,t[63]=I,t[64]=d.players.length,t[65]=cn):cn=t[65];let hn;t[66]!==o?(hn=!o&&B.jsx("div",{className:"waiting-message",children:B.jsx("p",{children:"Waiting for the host to start the game..."})}),t[66]=o,t[67]=hn):hn=t[67];let An;return t[68]!==ft||t[69]!==yt||t[70]!==bn||t[71]!==cn||t[72]!==hn?(An=B.jsxs("div",{className:"lobby-container",children:[ft,yt,bn,cn,hn]}),t[68]=ft,t[69]=yt,t[70]=bn,t[71]=cn,t[72]=hn,t[73]=An):An=t[73],An},Xu=s=>{const t=Mr.c(38),{element:i,onClick:r,isSelected:o,isDisabled:h}=s,d=o===void 0?!1:o,g=h===void 0?!1:h,p=iR,y=aR,T=sR,A=lR,I=`card ${y(i.family)} ${d?"selected":""} ${g?"disabled":""}`,z=g?void 0:r;let Z;t[0]!==i.name?(Z=B.jsx("div",{className:"name",children:i.name}),t[0]=i.name,t[1]=Z):Z=t[1];let tt;t[2]!==i.family?(tt=B.jsx("div",{className:"family",children:i.family}),t[2]=i.family,t[3]=tt):tt=t[3];const Y=p(i.atomicNumber,i.name);let ct;t[4]!==i.name||t[5]!==Y?(ct=B.jsx("div",{className:"cartoon",children:B.jsx("img",{src:Y,alt:i.name,onError:oR})}),t[4]=i.name,t[5]=Y,t[6]=ct):ct=t[6];const W=i.negativeIon||0;let et;t[7]!==W?(et=T(W,"negative"),t[7]=W,t[8]=et):et=t[8];let pt;t[9]!==et?(pt=B.jsx("div",{className:"ion negative",children:et}),t[9]=et,t[10]=pt):pt=t[10];const nt=i.positiveIon||0;let ot;t[11]!==nt?(ot=T(nt,"positive"),t[11]=nt,t[12]=ot):ot=t[12];let w;t[13]!==ot?(w=B.jsx("div",{className:"ion positive",children:ot}),t[13]=ot,t[14]=w):w=t[14];let b;t[15]!==i?(b=A(Ku(i)),t[15]=i,t[16]=b):b=t[16];let R;t[17]!==b?(R=B.jsx("div",{className:"mass",children:b}),t[17]=b,t[18]=R):R=t[18];let V;t[19]!==i.atomicNumber?(V=B.jsx("div",{className:"number",children:i.atomicNumber}),t[19]=i.atomicNumber,t[20]=V):V=t[20];let D;t[21]!==i.atomicSymbol?(D=B.jsx("div",{className:"symbol",children:i.atomicSymbol}),t[21]=i.atomicSymbol,t[22]=D):D=t[22];let O;t[23]!==i.radioactive?(O=i.radioactive&&B.jsx("div",{className:"radioactive-indicator",children:""}),t[23]=i.radioactive,t[24]=O):O=t[24];let N;return t[25]!==g||t[26]!==pt||t[27]!==w||t[28]!==R||t[29]!==V||t[30]!==D||t[31]!==O||t[32]!==I||t[33]!==z||t[34]!==Z||t[35]!==tt||t[36]!==ct?(N=B.jsxs("button",{type:"button",className:I,onClick:z,disabled:g,children:[Z,tt,ct,pt,w,R,V,D,O]}),t[25]=g,t[26]=pt,t[27]=w,t[28]=R,t[29]=V,t[30]=D,t[31]=O,t[32]=I,t[33]=z,t[34]=Z,t[35]=tt,t[36]=ct,t[37]=N):N=t[37],N};function iR(s,t){return`/assets/${s}-${t}.png`}function aR(s){return s.toLowerCase().replaceAll(" ","-")}function sR(s,t){if(!s)return null;const i=t==="positive"?"":"";return new Array(s).fill(0).map((r,o)=>B.jsx("span",{children:i},o))}function rR(s,t){return B.jsx("span",{className:"mass-symbol",children:B.jsx("img",{src:"/assets/weight-icon.svg",alt:"Weight"})},t)}function lR(s){return new Array(s).fill(0).map(rR)}function oR(s){s.currentTarget.style.display="none"}const uR=s=>{const t=Mr.c(3),{className:i}=s,o=`face-down-card ${i===void 0?"":i}`;let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=B.jsx("div",{className:"question-mark",children:"?"}),t[0]=h):h=t[0];let d;return t[1]!==o?(d=B.jsx("div",{className:o,children:h}),t[1]=o,t[2]=d):d=t[2],d},cR=({game:s,gameDocRef:t,currentPlayerId:i})=>{const[r,o]=se.useState(null),[h,d]=se.useState(!1),[g,p]=se.useState(""),[y,T]=se.useState(!1),[A,I]=se.useState("");se.useEffect(()=>{d(!1),o(null)},[s.currentRound]);const z=s.players.find(W=>W.id===i);if(!z)return B.jsx("div",{children:"Player not found"});const Z=z.draftedCards.length>=s.currentRound,tt=async W=>{if(h||Z||!t)return;o(W),d(!0),await Y2(t,s,i,W)||(alert("Failed to submit selection. Please try again."),o(null)),d(!1)},Y=async W=>{if(W.preventDefault(),g.length===5&&!y&&t){T(!0),I("");try{await K2(t,s,i,g)?p(""):I("Cannot spell this word with your drafted cards, or you have already submitted a word.")}catch(et){I("Failed to submit word. Please try again."),console.error("Word submission error:",et)}finally{T(!1)}}},ct=s.players.every(W=>W.draftedCards.length>=s.currentRound);return B.jsxs("div",{className:"drafting-phase",children:[B.jsx("div",{className:"drafting-header",children:B.jsxs("div",{className:"round-info",children:["Round ",s.currentRound," of ",s.totalRounds]})}),B.jsxs("div",{className:"drafting-content",children:[B.jsxs("div",{className:"hand-section",children:[B.jsx("h3",{children:"Your Hand - Select a card to draft:"}),B.jsx("p",{className:"drafting-info",children:"After all players select a card, hands will be passed to the next player."}),B.jsx("div",{className:"hand",children:z.hand.map((W,et)=>({atomicNumber:W,originalIndex:et})).sort((W,et)=>W.atomicNumber-et.atomicNumber).map(({atomicNumber:W,originalIndex:et})=>{const pt=Sr(W);return pt?B.jsx(Xu,{element:pt,onClick:()=>tt(et),isSelected:r===et,isDisabled:h||Z&&ct},`${W}-${et}`):null})})]}),B.jsxs("div",{className:"drafted-cards-section",children:[B.jsx("h3",{children:"All Players' Drafted Cards:"}),s.players.sort((W,et)=>W.id===i?-1:et.id===i?1:W.name.localeCompare(et.name)).map(W=>{const et=W.draftedCards.slice(0,s.currentRound-1),pt=W.draftedCards.slice(s.currentRound-1),nt=et.map(w=>Sr(w)).filter(w=>w!==void 0),ot=pt.map(w=>Sr(w)).filter(w=>w!==void 0);return B.jsxs("div",{className:"player-drafted-cards",children:[B.jsxs("h4",{className:`player-name ${W.id===i?"current-player":""}`,children:[W.name,W.id===i&&" (You)"]}),(nt.length>0||ot.length>0)&&B.jsx("div",{className:"card-group",children:B.jsxs("div",{className:"drafted-cards",children:[nt.sort((w,b)=>w.atomicNumber-b.atomicNumber).map((w,b)=>B.jsx(Xu,{element:w},`${W.id}-revealed-${w.atomicNumber}-${b}`)),ot.length>0&&(W.id===i?B.jsx("div",{className:"unrevealed-cards",children:ot.sort((w,b)=>w.atomicNumber-b.atomicNumber).map((w,b)=>B.jsx(Xu,{element:w},`${W.id}-unrevealed-${w.atomicNumber}-${b}`))}):Array.from({length:ot.length}).map((w,b)=>B.jsx(uR,{},`${W.id}-facedown-${b}`)))]})}),W.draftedCards.length===0&&B.jsx("div",{className:"no-cards",children:"No cards drafted yet"})]},W.id)})]}),B.jsxs("div",{className:"word-spelling-section",children:[B.jsx("h3",{children:"Word Spelling Bonus"}),(()=>{const pt=z.draftedCards.slice(0,s.currentRound-1).map(nt=>Sr(nt)).filter(nt=>nt!==void 0).map(nt=>nt.atomicSymbol.length).reduce((nt,ot)=>nt+ot,0)>=5;return B.jsx(B.Fragment,{children:pt&&s.wordSpellingWinners.length<3&&!s.wordSpellingWinners.some(nt=>nt.playerId===i)&&B.jsxs("form",{onSubmit:Y,className:"word-form",children:[B.jsx("label",{htmlFor:"wordInput",children:"Try to spell a 5-letter word with your revealed cards:"}),B.jsxs("div",{className:"word-input-group",children:[B.jsx("input",{id:"wordInput",type:"text",value:g,onChange:nt=>p(nt.target.value.toUpperCase()),placeholder:"Enter 5-letter word",maxLength:5,disabled:y}),B.jsx("button",{type:"submit",disabled:g.length!==5||y,children:y?"Checking...":"Submit Word"})]}),A&&B.jsx("div",{className:"word-error",children:A})]})})})(),s.wordSpellingWinners.some(W=>W.playerId===i)&&B.jsx("div",{className:"word-success",children:" You have successfully submitted a word and earned points!"}),s.wordSpellingWinners.length>=3&&!s.wordSpellingWinners.some(W=>W.playerId===i)&&B.jsx("div",{className:"word-info",children:"All word spelling spots have been taken."}),s.wordSpellingWinners.length>0&&B.jsxs("div",{className:"word-winners",children:[B.jsx("h4",{children:"Word Spelling Winners:"}),(()=>{const W=s.wordSpellingWinners.reduce((ot,w)=>(ot[w.round]||(ot[w.round]=[]),ot[w.round].push(w),ot),{}),et=Object.keys(W).map(Number).sort((ot,w)=>ot-w),pt=[8,5,2];let nt=0;return et.flatMap(ot=>{const w=W[ot],b=pt[nt]||0;return nt+=w.length,w.map(R=>{const V=s.players.find(D=>D.id===R.playerId);return B.jsxs("div",{className:"word-winner",children:[V?.name,": ",b," points (Round ",ot,")"]},R.playerId)})})})()]})]})]})]})},hR=s=>{const t=Mr.c(50),{game:i,currentPlayerId:r}=s,{deckSize:o}=P1(i.players.length),h=o===103;let d;t[0]!==i.players||t[1]!==i.wordSpellingWinners||t[2]!==h?(d={},i.players.forEach((nt,ot)=>{const w=i.players[ot===0?i.players.length-1:ot-1],b=i.players[ot===i.players.length-1?0:ot+1],R=B2(nt.id,i.wordSpellingWinners);d[nt.id]=k2(nt.draftedCards,w.draftedCards,b.draftedCards,R,h)}),t[0]=i.players,t[1]=i.wordSpellingWinners,t[2]=h,t[3]=d):d=t[3];const g=d;let p,y,T,A,I,z,Z,tt,Y;if(t[4]!==r||t[5]!==i.players||t[6]!==i.wordSpellingWinners||t[7]!==g||t[8]!==h){let nt;t[18]!==g?(nt=(O,N)=>{const Rt=g[O.id]?.total||0,Dt=g[N.id]?.total||0;if(Rt!==Dt)return Dt-Rt;const G=Math.max(...O.draftedCards,0);return Math.max(...N.draftedCards,0)-G},t[18]=g,t[19]=nt):nt=t[19];const ot=[...i.players].sort(nt);let w;t[20]!==r?(w=O=>O.id===r,t[20]=r,t[21]=w):w=t[21];const b=i.players.find(w);tt="scoring-phase",t[22]===Symbol.for("react.memo_cache_sentinel")?(Y=B.jsxs("div",{className:"scoring-header",children:[B.jsx("h2",{children:"Final Scoring"}),B.jsx("p",{children:"Game complete! Here are the final results:"})]}),t[22]=Y):Y=t[22],I="scoring-content",t[23]!==i.players||t[24]!==i.wordSpellingWinners?(z=i.wordSpellingWinners.length>0&&B.jsxs("div",{className:"word-spelling-section",children:[B.jsx("h3",{children:"Word Spelling Winners"}),B.jsx("div",{className:"word-winners",children:(()=>{const O=i.wordSpellingWinners.reduce(fR,{}),N=Object.keys(O).map(Number).sort(dR),Rt=[8,5,2];let Dt=0;return N.flatMap(G=>{const at=O[G],dt=Rt[Dt]||0;return Dt=Dt+at.length,at.map(It=>{const M=i.players.find(X=>X.id===It.playerId);return B.jsxs("div",{className:"word-winner",children:[M?.name,": ",dt," points (Round ",G,")"]},It.playerId)})})})()})]}),t[23]=i.players,t[24]=i.wordSpellingWinners,t[25]=z):z=t[25];let R;t[26]===Symbol.for("react.memo_cache_sentinel")?(R=B.jsx("h3",{children:"Final Scores"}),t[26]=R):R=t[26];let V;t[27]!==r||t[28]!==g||t[29]!==h?(V=(O,N)=>{const Rt=g[O.id],Dt=O.id===r;return B.jsxs("div",{className:`score-entry ${Dt?"current-player":""}`,children:[B.jsxs("div",{className:"rank",children:["#",N+1]}),B.jsxs("div",{className:"player-info",children:[B.jsxs("div",{className:"player-name",children:[O.name," ",Dt&&"(You)"]}),B.jsxs("div",{className:"total-score",children:["Total: ",Rt?.total||0," points"]})]}),Rt&&B.jsxs("div",{className:"score-breakdown",children:[B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Atomic Number:"})," ",B.jsx("span",{children:Rt.atomicNumber})]}),B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Atomic Mass:"})," ",B.jsx("span",{children:Rt.atomicMass})]}),B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Atomic Symbol:"})," ",B.jsx("span",{children:Rt.atomicSymbol})]}),h&&B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Radioactivity:"})," ",B.jsx("span",{children:Rt.radioactivity})]}),B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Ionization:"})," ",B.jsx("span",{children:Rt.ionization})]}),B.jsxs("div",{className:"score-item",children:[B.jsx("span",{children:"Family:"})," ",B.jsx("span",{children:Rt.family})]})]})]},O.id)},t[27]=r,t[28]=g,t[29]=h,t[30]=V):V=t[30];const D=ot.map(V);t[31]!==D?(Z=B.jsxs("div",{className:"final-scores",children:[R,B.jsx("div",{className:"scoreboard",children:D})]}),t[31]=D,t[32]=Z):Z=t[32],T="player-cards",t[33]===Symbol.for("react.memo_cache_sentinel")?(A=B.jsx("h3",{children:"Your Drafted Cards"}),t[33]=A):A=t[33],p="cards-grid",y=b?.draftedCards.sort(mR).map(gR),t[4]=r,t[5]=i.players,t[6]=i.wordSpellingWinners,t[7]=g,t[8]=h,t[9]=p,t[10]=y,t[11]=T,t[12]=A,t[13]=I,t[14]=z,t[15]=Z,t[16]=tt,t[17]=Y}else p=t[9],y=t[10],T=t[11],A=t[12],I=t[13],z=t[14],Z=t[15],tt=t[16],Y=t[17];let ct;t[34]!==p||t[35]!==y?(ct=B.jsx("div",{className:p,children:y}),t[34]=p,t[35]=y,t[36]=ct):ct=t[36];let W;t[37]!==ct||t[38]!==T||t[39]!==A?(W=B.jsxs("div",{className:T,children:[A,ct]}),t[37]=ct,t[38]=T,t[39]=A,t[40]=W):W=t[40];let et;t[41]!==W||t[42]!==I||t[43]!==z||t[44]!==Z?(et=B.jsxs("div",{className:I,children:[z,Z,W]}),t[41]=W,t[42]=I,t[43]=z,t[44]=Z,t[45]=et):et=t[45];let pt;return t[46]!==et||t[47]!==tt||t[48]!==Y?(pt=B.jsxs("div",{className:tt,children:[Y,et]}),t[46]=et,t[47]=tt,t[48]=Y,t[49]=pt):pt=t[49],pt};function fR(s,t){return s[t.round]||(s[t.round]=[]),s[t.round].push(t),s}function dR(s,t){return s-t}function mR(s,t){return s-t}function gR(s,t){const i=Sr(s);return i?B.jsx(Xu,{element:i},`final-${s}-${t}`):null}const pR="games";function yR(s,t){switch(t.type){case"RESET":return{game:null,gameDocRef:null,loading:!1,error:null};case"START_LOADING":return{...s,loading:!0,error:null};case"SET_GAME":return{game:t.payload.game,gameDocRef:t.payload.docRef,loading:!1,error:null};case"SET_ERROR":return{...s,loading:!1,error:t.payload};default:return s}}function _R(s){const t=Mr.c(5),i=!!s;let r;t[0]!==i?(r={game:null,gameDocRef:null,loading:i,error:null},t[0]=i,t[1]=r):r=t[1];const[o,h]=se.useReducer(yR,r);let d,g;return t[2]!==s?(d=()=>{if(!s){h({type:"RESET"});return}h({type:"START_LOADING"});const p=M1($d(mc,pR),vd("id","==",s)),y=E2(p,T=>{if(T.empty){h({type:"SET_ERROR",payload:"Game not found"});return}const A=T.docs[0],I=A.data();if(I.phase==="lobby"){const z=I;h({type:"SET_GAME",payload:{game:{id:z.id,phase:"lobby",players:z.players,hostId:z.hostId,createdAt:z.createdAt},docRef:A.ref}})}else{const z=I;h({type:"SET_GAME",payload:{game:{id:z.id,phase:z.phase,players:z.players,hostId:z.hostId,createdAt:z.createdAt,currentRound:z.currentRound,totalRounds:z.totalRounds,deck:z.deck?.map(vR)||[],wordSpellingWinners:z.wordSpellingWinners},docRef:A.ref}})}},T=>{console.error("Firebase Game Subscription Error:",T),h({type:"SET_ERROR",payload:"Failed to load game"})});return()=>{y()}},g=[s],t[2]=s,t[3]=d,t[4]=g):(d=t[3],g=t[4]),se.useEffect(d,g),o}function vR(s){return s.atomicNumber}function ER(){const s=Mr.c(25),[t,i]=se.useState(NR),[r,o]=se.useState(wR),[h,d]=se.useState(!1),g=t&&r,{game:p,gameDocRef:y,loading:T,error:A}=_R(g?t:null);let I;s[0]!==p||s[1]!==r?(I=p&&r?p.players.find(D=>D.id===r):null,s[0]=p,s[1]=r,s[2]=I):I=s[2];const z=I,Z=z?.isHost??!1,tt=z?.name??"Player";let Y,ct;s[3]!==p?(Y=()=>{if(p&&p.phase==="finished"){const D=setTimeout(()=>{eR(),$2(),i(""),o("")},3e4);return()=>clearTimeout(D)}},ct=[p],s[3]=p,s[4]=Y,s[5]=ct):(Y=s[4],ct=s[5]),se.useEffect(Y,ct);let W;s[6]===Symbol.for("react.memo_cache_sentinel")?(W=(D,O,N,Rt)=>{i(D),o(O),d(!1),q_({gameId:D,playerId:O,isHost:N,playerName:Rt})},s[6]=W):W=s[6];const et=W,pt=RR;let nt;s[7]!==t||s[8]!==Z||s[9]!==r?(nt=D=>{t&&r&&q_({gameId:t,playerId:r,isHost:Z,playerName:D})},s[7]=t,s[8]=Z,s[9]=r,s[10]=nt):nt=s[10];const ot=nt;let w;s[11]!==p||s[12]!==y||s[13]!==A||s[14]!==t||s[15]!==T||s[16]!==ot||s[17]!==Z||s[18]!==h||s[19]!==r||s[20]!==tt?(w=()=>{if(h||T)return B.jsx("div",{className:"loading",children:"Loading..."});if(A)return B.jsxs("div",{className:"error",children:["Error: ",A]});if(!t||!r)return B.jsx(J2,{onJoinLobby:et});if(!p)return B.jsx("div",{className:"loading",children:"Loading game..."});switch(p.phase){case"lobby":return B.jsx(nR,{gameId:t,playerId:r,isHost:Z,playerName:tt,lobby:p,gameDocRef:y,loading:T,error:A,onGameStart:pt,onPlayerNameChange:ot});case"drafting":{const D={...p,players:p.players.map(AR),currentRound:p.currentRound||1,totalRounds:p.totalRounds||1,deck:(p.deck||[]).map(bR),wordSpellingWinners:p.wordSpellingWinners||[]};return B.jsx(cR,{game:D,gameDocRef:y,currentPlayerId:r})}case"scoring":case"finished":{const D={...p,players:p.players.map(SR),currentRound:p.currentRound||1,totalRounds:p.totalRounds||1,deck:(p.deck||[]).map(TR),wordSpellingWinners:p.wordSpellingWinners||[]};return B.jsx(hR,{game:D,currentPlayerId:r})}default:return B.jsxs("div",{children:["Unknown game phase: ",p.phase]})}},s[11]=p,s[12]=y,s[13]=A,s[14]=t,s[15]=T,s[16]=ot,s[17]=Z,s[18]=h,s[19]=r,s[20]=tt,s[21]=w):w=s[21];const b=w;let R;s[22]===Symbol.for("react.memo_cache_sentinel")?(R=B.jsx("header",{className:"app-header",children:B.jsx("h1",{children:"Chemistry Card Game"})}),s[22]=R):R=s[22];let V;return s[23]!==b?(V=B.jsxs("div",{className:"app",children:[R,B.jsx("main",{className:"app-main",children:b()})]}),s[23]=b,s[24]=V):V=s[24],V}function TR(s){return L1(s)}function SR(s){return{...s,draftedCards:s.draftedCards||[],hand:s.hand||[]}}function bR(s){return L1(s)}function AR(s){return{...s,draftedCards:s.draftedCards||[],hand:s.hand||[]}}function RR(){}function wR(){return X2()||""}function NR(){return B1()||""}AE.createRoot(document.getElementById("root")).render(B.jsx(se.StrictMode,{children:B.jsx(ER,{})}));
