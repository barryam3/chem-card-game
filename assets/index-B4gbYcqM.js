(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Cf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function lT(){if(gy)return ql;gy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:r,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var py;function oT(){return py||(py=1,Cf.exports=lT()),Cf.exports}var L=oT(),Nf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function uT(){if(yy)return Rt;yy=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function J(I,$,st){this.props=I,this.context=$,this.refs=nt,this.updater=st||G}J.prototype.isReactComponent={},J.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ft(){}ft.prototype=J.prototype;function ht(I,$,st){this.props=I,this.context=$,this.refs=nt,this.updater=st||G}var F=ht.prototype=new ft;F.constructor=ht,W(F,J.prototype),F.isPureReactComponent=!0;var lt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function D(I,$,st,it,mt,It){return st=It.ref,{$$typeof:s,type:I,key:$,ref:st!==void 0?st:null,props:It}}function b(I,$){return D(I.type,$,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===s}function O(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return $[st]})}var V=/\/+/g;function U(I,$){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):$.toString(36)}function C(){}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,$,st,it,mt){var It=typeof I;(It==="undefined"||It==="boolean")&&(I=null);var Et=!1;if(I===null)Et=!0;else switch(It){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(I.$$typeof){case s:case e:Et=!0;break;case T:return Et=I._init,ee(Et(I._payload),$,st,it,mt)}}if(Et)return mt=mt(I),Et=it===""?"."+U(I,0):it,lt(mt)?(st="",Et!=null&&(st=Et.replace(V,"$&/")+"/"),ee(mt,$,st,"",function(Nn){return Nn})):mt!=null&&(w(mt)&&(mt=b(mt,st+(mt.key==null||I&&I.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Et)),$.push(mt)),1;Et=0;var Oe=it===""?".":it+":";if(lt(I))for(var Ht=0;Ht<I.length;Ht++)it=I[Ht],It=Oe+U(it,Ht),Et+=ee(it,$,st,It,mt);else if(Ht=N(I),typeof Ht=="function")for(I=Ht.call(I),Ht=0;!(it=I.next()).done;)it=it.value,It=Oe+U(it,Ht++),Et+=ee(it,$,st,It,mt);else if(It==="object"){if(typeof I.then=="function")return ee(re(I),$,st,it,mt);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(I,$,st){if(I==null)return I;var it=[],mt=0;return ee(I,it,"","",function(It){return $.call(st,It,mt++)}),it}function at(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var pt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Pt(){}return Rt.Children={map:H,forEach:function(I,$,st){H(I,function(){$.apply(this,arguments)},st)},count:function(I){var $=0;return H(I,function(){$++}),$},toArray:function(I){return H(I,function($){return $})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=J,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=ht,Rt.StrictMode=r,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return tt.H.useMemoCache(I)}},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,$,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=W({},I.props),mt=I.key,It=void 0;if($!=null)for(Et in $.ref!==void 0&&(It=void 0),$.key!==void 0&&(mt=""+$.key),$)!ut.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(it[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)it.children=st;else if(1<Et){for(var Oe=Array(Et),Ht=0;Ht<Et;Ht++)Oe[Ht]=arguments[Ht+2];it.children=Oe}return D(I.type,mt,void 0,void 0,It,it)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},Rt.createElement=function(I,$,st){var it,mt={},It=null;if($!=null)for(it in $.key!==void 0&&(It=""+$.key),$)ut.call($,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=$[it]);var Et=arguments.length-2;if(Et===1)mt.children=st;else if(1<Et){for(var Oe=Array(Et),Ht=0;Ht<Et;Ht++)Oe[Ht]=arguments[Ht+2];mt.children=Oe}if(I&&I.defaultProps)for(it in Et=I.defaultProps,Et)mt[it]===void 0&&(mt[it]=Et[it]);return D(I,It,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:g,render:I}},Rt.isValidElement=w,Rt.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:at}},Rt.memo=function(I,$){return{$$typeof:_,type:I,compare:$===void 0?null:$}},Rt.startTransition=function(I){var $=tt.T,st={};tt.T=st;try{var it=I(),mt=tt.S;mt!==null&&mt(st,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Pt,pt)}catch(It){pt(It)}finally{tt.T=$}},Rt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Rt.use=function(I){return tt.H.use(I)},Rt.useActionState=function(I,$,st){return tt.H.useActionState(I,$,st)},Rt.useCallback=function(I,$){return tt.H.useCallback(I,$)},Rt.useContext=function(I){return tt.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,$){return tt.H.useDeferredValue(I,$)},Rt.useEffect=function(I,$,st){var it=tt.H;if(typeof st=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(I,$)},Rt.useId=function(){return tt.H.useId()},Rt.useImperativeHandle=function(I,$,st){return tt.H.useImperativeHandle(I,$,st)},Rt.useInsertionEffect=function(I,$){return tt.H.useInsertionEffect(I,$)},Rt.useLayoutEffect=function(I,$){return tt.H.useLayoutEffect(I,$)},Rt.useMemo=function(I,$){return tt.H.useMemo(I,$)},Rt.useOptimistic=function(I,$){return tt.H.useOptimistic(I,$)},Rt.useReducer=function(I,$,st){return tt.H.useReducer(I,$,st)},Rt.useRef=function(I){return tt.H.useRef(I)},Rt.useState=function(I){return tt.H.useState(I)},Rt.useSyncExternalStore=function(I,$,st){return tt.H.useSyncExternalStore(I,$,st)},Rt.useTransition=function(){return tt.H.useTransition()},Rt.version="19.1.1",Rt}var _y;function pd(){return _y||(_y=1,Nf.exports=uT()),Nf.exports}var Lt=pd(),Df={exports:{}},Hl={},If={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function cT(){return vy||(vy=1,(function(s){function e(H,at){var pt=H.length;H.push(at);t:for(;0<pt;){var Pt=pt-1>>>1,I=H[Pt];if(0<o(I,at))H[Pt]=at,H[pt]=I,pt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var at=H[0],pt=H.pop();if(pt!==at){H[0]=pt;t:for(var Pt=0,I=H.length,$=I>>>1;Pt<$;){var st=2*(Pt+1)-1,it=H[st],mt=st+1,It=H[mt];if(0>o(it,pt))mt<I&&0>o(It,it)?(H[Pt]=It,H[mt]=pt,Pt=mt):(H[Pt]=it,H[st]=pt,Pt=st);else if(mt<I&&0>o(It,pt))H[Pt]=It,H[mt]=pt,Pt=mt;else break t}}return at}function o(H,at){var pt=H.sortIndex-at.sortIndex;return pt!==0?pt:H.id-at.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,A=null,N=3,G=!1,W=!1,nt=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function lt(H){for(var at=i(_);at!==null;){if(at.callback===null)r(_);else if(at.startTime<=H)r(_),at.sortIndex=at.expirationTime,e(p,at);else break;at=i(_)}}function tt(H){if(nt=!1,lt(H),!W)if(i(p)!==null)W=!0,ut||(ut=!0,U());else{var at=i(_);at!==null&&ee(tt,at.startTime-H)}}var ut=!1,D=-1,b=5,w=-1;function O(){return J?!0:!(s.unstable_now()-w<b)}function V(){if(J=!1,ut){var H=s.unstable_now();w=H;var at=!0;try{t:{W=!1,nt&&(nt=!1,ht(D),D=-1),G=!0;var pt=N;try{e:{for(lt(H),A=i(p);A!==null&&!(A.expirationTime>H&&O());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,N=A.priorityLevel;var I=Pt(A.expirationTime<=H);if(H=s.unstable_now(),typeof I=="function"){A.callback=I,lt(H),at=!0;break e}A===i(p)&&r(p),lt(H)}else r(p);A=i(p)}if(A!==null)at=!0;else{var $=i(_);$!==null&&ee(tt,$.startTime-H),at=!1}}break t}finally{A=null,N=pt,G=!1}at=void 0}}finally{at?U():ut=!1}}}var U;if(typeof F=="function")U=function(){F(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=V,U=function(){re.postMessage(null)}}else U=function(){ft(V,0)};function ee(H,at){D=ft(function(){H(s.unstable_now())},at)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(H){switch(N){case 1:case 2:case 3:var at=3;break;default:at=N}var pt=N;N=at;try{return H()}finally{N=pt}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,at){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pt=N;N=H;try{return at()}finally{N=pt}},s.unstable_scheduleCallback=function(H,at,pt){var Pt=s.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Pt+pt:Pt):pt=Pt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=pt+I,H={id:T++,callback:at,priorityLevel:H,startTime:pt,expirationTime:I,sortIndex:-1},pt>Pt?(H.sortIndex=pt,e(_,H),i(p)===null&&H===i(_)&&(nt?(ht(D),D=-1):nt=!0,ee(tt,pt-Pt))):(H.sortIndex=I,e(p,H),W||G||(W=!0,ut||(ut=!0,U()))),H},s.unstable_shouldYield=O,s.unstable_wrapCallback=function(H){var at=N;return function(){var pt=N;N=at;try{return H.apply(this,arguments)}finally{N=pt}}}})(Vf)),Vf}var Ey;function hT(){return Ey||(Ey=1,If.exports=cT()),If.exports}var Mf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function fT(){if(Ty)return He;Ty=1;var s=pd();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,He.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(p,_,null,T)},He.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},He.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},He.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},He.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:G}):T==="script"&&r.d.X(p,{crossOrigin:A,integrity:N,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},He.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},He.requestFormReset=function(p){r.d.r(p)},He.unstable_batchedUpdates=function(p,_){return p(_)},He.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var Sy;function dT(){if(Sy)return Mf.exports;Sy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Mf.exports=fT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function mT(){if(by)return Hl;by=1;var s=hT(),e=pd(),i=dT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===a){v=!0,a=c,l=f;break}if(E===l){v=!0,l=c,a=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===a){v=!0,a=f,l=c;break}if(E===l){v=!0,l=f,a=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),F=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case tt:return"Suspense";case ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case F:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Pt=[],I=-1;function $(t){return{current:t}}function st(t){0>I||(t.current=Pt[I],Pt[I]=null,I--)}function it(t,n){I++,Pt[I]=t.current,t.current=n}var mt=$(null),It=$(null),Et=$(null),Oe=$(null);function Ht(t,n){switch(it(Et,n),it(It,t),it(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}st(mt),it(mt,t)}function Nn(){st(mt),st(It),st(Et)}function Pr(t){t.memoizedState!==null&&it(Oe,t);var n=mt.current,a=Hp(n,t.type);n!==a&&(it(It,t),it(mt,a))}function Ns(t){It.current===t&&(st(mt),st(It)),Oe.current===t&&(st(Oe),zl._currentValue=pt)}var Ds=Object.prototype.hasOwnProperty,xa=s.unstable_scheduleCallback,Is=s.unstable_cancelCallback,Cc=s.unstable_shouldYield,zr=s.unstable_requestPaint,We=s.unstable_now,yo=s.unstable_getCurrentPriorityLevel,Se=s.unstable_ImmediatePriority,Ce=s.unstable_UserBlockingPriority,hi=s.unstable_NormalPriority,Nc=s.unstable_LowPriority,jr=s.unstable_IdlePriority,Dc=s.log,Ua=s.unstable_setDisableYieldValue,Pi=null,ke=null;function gn(t){if(typeof Dc=="function"&&Ua(t),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(Pi,t)}catch{}}var Xe=Math.clz32?Math.clz32:vo,Ic=Math.log,_o=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(Ic(t)/_o|0)|0}var qn=256,zi=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):a||(a=E&~t,a!==0&&(c=Dn(a))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):a||(a=l&~t,a!==0&&(c=Dn(a)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:c}function ji(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Vs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Br(){var t=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),t}function Bi(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Ms(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,n,a,l,c,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,j=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-Xe(a),K=1<<Q;E[Q]=0,R[Q]=-1;var B=j[Q];if(B!==null)for(j[Q]=null,Q=0;Q<B.length;Q++){var k=B[Q];k!==null&&(k.lane&=-536870913)}a&=~K}l!==0&&ki(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function ki(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Xe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Gi(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Xe(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function kr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Gr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fi(){var t=at.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function Vc(t,n){var a=at.p;try{return at.p=t,n()}finally{at.p=a}}var Hn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Hn,xe="__reactProps$"+Hn,di="__reactContainer$"+Hn,La="__reactEvents$"+Hn,Pa="__reactListeners$"+Hn,Mc="__reactHandles$"+Hn,In="__reactResources$"+Hn,qi="__reactMarker$"+Hn;function Os(t){delete t[ce],delete t[xe],delete t[La],delete t[Pa],delete t[Mc]}function Qn(t){var n=t[ce];if(n)return n;for(var a=t.parentNode;a;){if(n=a[di]||a[ce]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Xp(t);t!==null;){if(a=t[ce])return a;t=Xp(t)}return n}t=a,a=t.parentNode}return null}function Fn(t){if(t=t[ce]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Qi(t){var n=t[In];return n||(n=t[In]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[qi]=!0}var To=new Set,za={};function Yn(t,n){Xn(t,n),Xn(t+"Capture",n)}function Xn(t,n){for(za[t]=n,t=0;t<n.length;t++)To.add(n[t])}var ja=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kn={},xs={};function Oc(t){return Ds.call(xs,t)?!0:Ds.call(Kn,t)?!1:ja.test(t)?xs[t]=!0:(Kn[t]=!0,!1)}function Ba(t,n,a){if(Oc(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function ka(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function yn(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Ga,Us;function mi(t){if(Ga===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Ga=n&&n[1]||"",Us=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ga+t+Us}var Ls=!1;function Ps(t,n){if(!t||Ls)return"";Ls=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),j=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===j.length)for(l=R.length-1,c=j.length-1;1<=l&&0<=c&&R[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==j[c]){var Q=`
`+R[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=c);break}}}finally{Ls=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?mi(a):""}function xc(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Ps(t.type,!1);case 11:return Ps(t.type.render,!1);case 1:return Ps(t.type,!0);case 31:return mi("Activity");default:return""}}function Vn(t){try{var n="";do n+=xc(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qa(t){var n=Fi(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yi(t){t._valueTracker||(t._valueTracker=qa(t))}function Qt(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Fi(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ha=/[\n"\\]/g;function Ne(t){return t.replace(Ha,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(t,n,a,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Qr(t,v,ie(n)):a!=null?Qr(t,v,ie(a)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ie(E):t.removeAttribute("name")}function Hr(t,n,a,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+ie(a):"",n=n!=null?""+ie(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Qr(t,n,a){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Xi(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ie(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function So(t,n,a){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+ie(a):""}function bo(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(ee(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=ie(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fr(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||pi.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Yr(t,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&Fr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Fr(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mn(t){return Ro.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Xr=null;function Kr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ki=null,Ke=null;function wo(t){var n=Fn(t);if(n&&(t=n.stateNode)){var a=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(qr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ne(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(r(90));qr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qt(l)}break t;case"textarea":So(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Xi(t,!!a.multiple,n,!1)}}}var Qa=!1;function Fa(t,n,a){if(Qa)return t(n,a);Qa=!0;try{var l=t(n);return l}finally{if(Qa=!1,(Ki!==null||Ke!==null)&&(gu(),Ki&&(n=Ki,t=Ke,Ke=Ki=null,wo(n),t)))for(n=0;n<t.length;n++)wo(t[n])}}function Zi(t,n){var a=t.stateNode;if(a===null)return null;var l=a[xe]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Ze)try{var $i={};Object.defineProperty($i,"passive",{get:function(){yi=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{yi=!1}var vn=null,$t=null,js=null;function Co(){if(js)return js;var t,n=$t,a=n.length,l,c="value"in vn?vn.value:vn.textContent,f=c.length;for(t=0;t<a&&n[t]===c[t];t++);var v=a-t;for(l=1;l<=v&&n[a-l]===c[f-l];l++);return js=c.slice(t,1<l?1-l:void 0)}function Ya(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xa(){return!0}function Zr(){return!1}function be(t){function n(a,l,c,f,v){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xa:Zr,this.isPropagationStopped=Zr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xa)},persist:function(){},isPersistent:Xa}),n}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ka=be(Ge),Za=T({},Ge,{view:0,detail:0}),$a=be(Za),Bs,Ja,Zn,Wa=T({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Bs=t.screenX-Zn.screenX,Ja=t.screenY-Zn.screenY):Ja=Bs=0,Zn=t),Bs)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),ts=be(Wa),Uc=T({},Wa,{dataTransfer:0}),No=be(Uc),es=T({},Za,{relatedTarget:0}),ks=be(es),Do=T({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=be(Do),Jr=T({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Io=be(Jr),Gs=T({},Ge,{data:0}),Wr=be(Gs),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function qs(){return Oo}var xo=T({},Za,{key:function(t){if(t.key){var n=Vo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ya(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_i[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?Ya(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ya(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Hs=be(xo),$e=T({},Wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=be($e),Uo=T({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Ji=be(Uo),u=T({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=be(u),y=T({},Wa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),S=be(y),z=T({},Ge,{newState:0,oldState:0}),q=be(z),et=[9,13,27,32],bt=Ze&&"CompositionEvent"in window,te=null;Ze&&"documentMode"in document&&(te=document.documentMode);var kt=Ze&&"TextEvent"in window&&!te,fe=Ze&&(!bt||te&&8<te&&11>=te),rn=" ",$n=!1;function On(t,n){switch(t){case"keyup":return et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function el(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:($n=!0,rn);case"textInput":return t=n.data,t===rn&&$n?null:t;default:return null}}function xE(t,n){if(Un)return t==="compositionend"||!bt&&On(t,n)?(t=Co(),js=$t=vn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var UE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!UE[t.type]:n==="textarea"}function am(t,n,a,l){Ki?Ke?Ke.push(l):Ke=[l]:Ki=l,n=Tu(n,"onChange"),0<n.length&&(a=new Ka("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var nl=null,il=null;function LE(t){zp(t,0)}function Lo(t){var n=Hi(t);if(Qt(n))return t}function sm(t,n){if(t==="change")return n}var rm=!1;if(Ze){var Lc;if(Ze){var Pc="oninput"in document;if(!Pc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Pc=typeof lm.oninput=="function"}Lc=Pc}else Lc=!1;rm=Lc&&(!document.documentMode||9<document.documentMode)}function om(){nl&&(nl.detachEvent("onpropertychange",um),il=nl=null)}function um(t){if(t.propertyName==="value"&&Lo(il)){var n=[];am(n,il,t,Kr(t)),Fa(LE,n)}}function PE(t,n,a){t==="focusin"?(om(),nl=n,il=a,nl.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function zE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(il)}function jE(t,n){if(t==="click")return Lo(n)}function BE(t,n){if(t==="input"||t==="change")return Lo(n)}function kE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:kE;function al(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!Ds.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var a=cm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=cm(a)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=gi(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var GE=Ze&&"documentMode"in document&&11>=document.documentMode,Qs=null,jc=null,sl=null,Bc=!1;function mm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bc||Qs==null||Qs!==gi(l)||(l=Qs,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&al(sl,l)||(sl=l,l=Tu(jc,"onSelect"),0<l.length&&(n=new Ka("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Qs)))}function ns(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Fs={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionrun:ns("Transition","TransitionRun"),transitionstart:ns("Transition","TransitionStart"),transitioncancel:ns("Transition","TransitionCancel"),transitionend:ns("Transition","TransitionEnd")},kc={},gm={};Ze&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Fs.animationend.animation,delete Fs.animationiteration.animation,delete Fs.animationstart.animation),"TransitionEvent"in window||delete Fs.transitionend.transition);function is(t){if(kc[t])return kc[t];if(!Fs[t])return t;var n=Fs[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in gm)return kc[t]=n[a];return t}var pm=is("animationend"),ym=is("animationiteration"),_m=is("animationstart"),qE=is("transitionrun"),HE=is("transitionstart"),QE=is("transitioncancel"),vm=is("transitionend"),Em=new Map,Gc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gc.push("scrollEnd");function Ln(t,n){Em.set(t,n),Yn(n,[t])}var Tm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var a=Tm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Vn(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Vn(n)}}var Tn=[],Ys=0,qc=0;function Po(){for(var t=Ys,n=qc=Ys=0;n<t;){var a=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&Sm(a,c,f)}}function zo(t,n,a,l){Tn[Ys++]=t,Tn[Ys++]=n,Tn[Ys++]=a,Tn[Ys++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,a,l){return zo(t,n,a,l),jo(t)}function Xs(t,n){return zo(t,null,null,n),jo(t)}function Sm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Xe(a),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),f):null}function jo(t){if(50<Il)throw Il=0,Zh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ks={};function FE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new FE(t,n,a,l)}function Qc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function bm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Bo(t,n,a,l,c,f){var v=0;if(l=t,typeof t=="function")Qc(t)&&(v=1);else if(typeof t=="string")v=X0(t,a,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,a,n,c),t.elementType=w,t.lanes=f,t;case W:return as(a.children,c,f,n);case nt:v=8,c|=24;break;case J:return t=on(12,a,n,c|2),t.elementType=J,t.lanes=f,t;case tt:return t=on(13,a,n,c),t.elementType=tt,t.lanes=f,t;case ut:return t=on(19,a,n,c),t.elementType=ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:case F:v=10;break t;case ht:v=9;break t;case lt:v=11;break t;case D:v=14;break t;case b:v=16,l=null;break t}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=on(v,a,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function as(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function Fc(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function Yc(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Zs=[],$s=0,ko=null,Go=0,Sn=[],bn=0,ss=null,Ei=1,Ti="";function rs(t,n){Zs[$s++]=Go,Zs[$s++]=ko,ko=t,Go=n}function Am(t,n,a){Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ss,ss=t;var l=Ei;t=Ti;var c=32-Xe(l)-1;l&=~(1<<c),a+=1;var f=32-Xe(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-Xe(n)+c|a<<c|l,Ti=f+t}else Ei=1<<f|a<<c|l,Ti=t}function Xc(t){t.return!==null&&(rs(t,1),Am(t,1,0))}function Kc(t){for(;t===ko;)ko=Zs[--$s],Zs[$s]=null,Go=Zs[--$s],Zs[$s]=null;for(;t===ss;)ss=Sn[--bn],Sn[bn]=null,Ti=Sn[--bn],Sn[bn]=null,Ei=Sn[--bn],Sn[bn]=null}var Je=null,le=null,jt=!1,ls=null,Jn=!1,Zc=Error(r(519));function os(t){var n=Error(r(418,""));throw ol(En(n,t)),Zc}function Rm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[ce]=t,n[xe]=l,a){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(a=0;a<Ml.length;a++)Dt(Ml[a],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),bo(n,l.value,l.defaultValue,l.children),Yi(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||Gp(n.textContent,a)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=Su),n=!0):n=!1,n||os(t)}function wm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Je=Je.return}}function rl(t){if(t!==Je)return!1;if(!jt)return wm(t),jt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||df(t.type,t.memoizedProps)),a=!a),a&&le&&os(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){le=zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ma(t.type)?(t=yf,yf=null,le=t):le=n):le=Je?zn(t.stateNode.nextSibling):null;return!0}function ll(){le=Je=null,jt=!1}function Cm(){var t=ls;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),ls=null),t}function ol(t){ls===null?ls=[t]:ls.push(t)}var $c=$(null),us=null,Si=null;function Wi(t,n,a){it($c,n._currentValue),n._currentValue=a}function bi(t){t._currentValue=$c.current,st($c)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function Wc(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),Jc(f.return,a,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Jc(v,a,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ul(t,n,a,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&Wc(n,t,a,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function cs(t){us=t,Si=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Nm(us,t)}function Ho(t,n){return us===null&&cs(t),Nm(t,n)}function Nm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Si===null){if(t===null)throw Error(r(308));Si=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Si=Si.next=n;return a}var YE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},XE=s.unstable_scheduleCallback,KE=s.unstable_NormalPriority,Ae={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new YE,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&XE(KE,function(){t.controller.abort()})}var hl=null,eh=0,Js=0,Ws=null;function ZE(t,n){if(hl===null){var a=hl=[];eh=0,Js=af(),Ws={status:"pending",value:void 0,then:function(l){a.push(l)}}}return eh++,n.then(Dm,Dm),n}function Dm(){if(--eh===0&&hl!==null){Ws!==null&&(Ws.status="fulfilled");var t=hl;hl=null,Js=0,Ws=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $E(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var Im=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&ZE(t,n),Im!==null&&Im(t,n)};var hs=$(null);function nh(){var t=hs.current;return t!==null?t:Jt.pooledCache}function Qo(t,n){n===null?it(hs,hs.current):it(hs,n.pool)}function Vm(){var t=nh();return t===null?null:{parent:Ae._currentValue,pool:t}}var fl=Error(r(460)),Mm=Error(r(474)),Fo=Error(r(542)),ih={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yo(){}function xm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(Yo,Yo),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(Yo,Yo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw dl=n,fl}}var dl=null;function Um(){if(dl===null)throw Error(r(459));var t=dl;return dl=null,t}function Lm(t){if(t===fl||t===Fo)throw Error(r(483))}var ta=!1;function ah(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sh(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function na(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=jo(t),Sm(t,null,a),n}return zo(t,l,n,a),jo(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gi(t,a)}}function rh(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?c=f=n:f=f.next=n}else c=f=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lh=!1;function gl(){if(lh){var t=Ws;if(t!==null)throw t}}function pl(t,n,a,l){lh=!1;var c=t.updateQueue;ta=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,j=R.next;R.next=null,v===null?f=j:v.next=j,v=R;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==v&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=R))}if(f!==null){var K=c.baseState;v=0,Q=j=R=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===Js&&(lh=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,yt=E;B=n;var Xt=a;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){K=Tt.call(Xt,K,B);break t}K=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,B=typeof Tt=="function"?Tt.call(Xt,K,B):Tt,B==null)break t;K=T({},K,B);break t;case 2:ta=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=k,R=K):Q=Q.next=k,v|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);Q===null&&(R=K),c.baseState=R,c.firstBaseUpdate=j,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),ca|=v,t.lanes=v,t.memoizedState=K}}function Pm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Pm(a[t],n)}var tr=$(null),Xo=$(0);function jm(t,n){t=Ii,it(Xo,t),it(tr,n),Ii=t|n.baseLanes}function oh(){it(Xo,Ii),it(tr,tr.current)}function uh(){Ii=Xo.current,st(tr),st(Xo)}var ia=0,wt=null,Ft=null,pe=null,Ko=!1,er=!1,fs=!1,Zo=0,yl=0,nr=null,JE=0;function de(){throw Error(r(321))}function ch(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function hh(t,n,a,l,c,f){return ia=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Sg:bg,fs=!1,f=a(l,c),fs=!1,er&&(f=km(n,a,l,c)),Bm(t),f}function Bm(t){H.H=nu;var n=Ft!==null&&Ft.next!==null;if(ia=0,pe=Ft=wt=null,Ko=!1,yl=0,nr=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&qo(t)&&(De=!0))}function km(t,n,a,l){wt=t;var c=0;do{if(er&&(nr=null),yl=0,er=!1,25<=c)throw Error(r(301));if(c+=1,pe=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=s0,f=n(a,l)}while(er);return f}function WE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(wt.flags|=1024),n}function fh(){var t=Zo!==0;return Zo=0,t}function dh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function mh(t){if(Ko){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Ko=!1}ia=0,pe=Ft=wt=null,er=!1,yl=Zo=0,nr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Ft=t;else{if(t===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var n=yl;return yl+=1,nr===null&&(nr=[]),t=xm(nr,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Sg:bg),t}function $o(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===F)return qe(t)}throw Error(r(438,String(t)))}function ph(t){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=gh(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=O;return n.index++,a}function Ai(t,n){return typeof n=="function"?n(t):n}function Jo(t){var n=ye();return yh(n,Ft,t)}function yh(t,n,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,j=n,Q=!1;do{var K=j.lane&-536870913;if(K!==j.lane?(Ot&K)===K:(ia&K)===K){var B=j.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),K===Js&&(Q=!0);else if((ia&B)===B){j=j.next,B===Js&&(Q=!0);continue}else K={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=K,v=f):R=R.next=K,wt.lanes|=B,ca|=B;K=j.action,fs&&a(f,K),f=j.hasEagerState?j.eagerState:a(f,K)}else B={lane:K,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},R===null?(E=R=B,v=f):R=R.next=B,wt.lanes|=K,ca|=K;j=j.next}while(j!==null&&j!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(De=!0,Q&&(a=Ws,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=ye(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,f=n.memoizedState;if(c!==null){a.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,l]}function Gm(t,n,a){var l=wt,c=ye(),f=jt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var v=!ln((Ft||c).memoizedState,a);v&&(c.memoizedState=a,De=!0),c=c.queue;var E=Qm.bind(null,l,c,t);if(vl(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ir(9,Wo(),Hm.bind(null,l,c,a,n),null),Jt===null)throw Error(r(349));f||(ia&124)!==0||qm(l,n,a)}return a}function qm(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=gh(),wt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Hm(t,n,a,l){n.value=a,n.getSnapshot=l,Fm(n)&&Ym(t)}function Qm(t,n,a){return a(function(){Fm(n)&&Ym(t)})}function Fm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function Ym(t){var n=Xs(t,2);n!==null&&dn(n,t,2)}function vh(t){var n=tn();if(typeof t=="function"){var a=t;if(t=a(),fs){gn(!0);try{a()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Xm(t,n,a,l){return t.baseState=a,yh(t,Ft,typeof l=="function"?l:Ai)}function t0(t,n,a,l,c){if(eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,l(f),a=n.pending,a===null?(f.next=n.pending=f,Km(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Km(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=a(c,l),R=H.S;R!==null&&R(v,E),Zm(t,n,E)}catch(j){Eh(t,n,j)}finally{H.T=f}}else try{f=a(c,l),Zm(t,n,f)}catch(j){Eh(t,n,j)}}function Zm(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){$m(t,n,l)},function(l){return Eh(t,n,l)}):$m(t,n,a)}function $m(t,n,a){n.status="fulfilled",n.value=a,Jm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Km(t,a)))}function Eh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(jt){var a=Jt.formState;if(a!==null){t:{var l=wt;if(jt){if(le){e:{for(var c=le,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=zn(c.nextSibling),l=c.data==="F!";break t}}os(l)}l=!1}l&&(n=a[0])}}return a=tn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},a.queue=l,a=vg.bind(null,wt,l),l.dispatch=a,l=vh(!1),f=Rh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=t0.bind(null,wt,c,f,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function eg(t){var n=ye();return ng(n,Ft,t)}function ng(t,n,a){if(n=yh(t,n,Wm)[0],t=Jo(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(v){throw v===fl?Fo:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,ir(9,Wo(),e0.bind(null,c,a),null)),[l,f,t]}function e0(t,n){t.action=n}function ig(t){var n=ye(),a=Ft;if(a!==null)return ng(n,a,t);ye(),n=n.memoizedState,a=ye();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ir(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=gh(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Wo(){return{destroy:void 0,resource:void 0}}function ag(){return ye().memoizedState}function tu(t,n,a,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=ir(1|n,Wo(),a,l)}function vl(t,n,a,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&ch(l,Ft.memoizedState.deps)?c.memoizedState=ir(n,f,a,l):(wt.flags|=t,c.memoizedState=ir(1|n,f,a,l))}function sg(t,n){tu(8390656,8,t,n)}function rg(t,n){vl(2048,8,t,n)}function lg(t,n){return vl(4,2,t,n)}function og(t,n){return vl(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,a){a=a!=null?a.concat([t]):null,vl(4,4,ug.bind(null,n,t),a)}function Th(){}function hg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function fg(t,n){var a=ye();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),fs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l}function Sh(t,n,a){return a===void 0||(ia&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=gp(),wt.lanes|=t,ca|=t,a)}function dg(t,n,a,l){return ln(a,n)?a:tr.current!==null?(t=Sh(t,a,l),ln(t,n)||(De=!0),t):(ia&42)===0?(De=!0,t.memoizedState=a):(t=gp(),wt.lanes|=t,ca|=t,n)}function mg(t,n,a,l,c){var f=at.p;at.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Rh(t,!1,n,a);try{var R=c(),j=H.S;if(j!==null&&j(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=$E(R,l);El(t,n,Q,fn(t))}else El(t,n,l,fn(t))}catch(K){El(t,n,{then:function(){},status:"rejected",reason:K},fn())}finally{at.p=f,H.T=v}}function n0(){}function bh(t,n,a,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,n,pt,a===null?n0:function(){return pg(t),a(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:pt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t).next.queue;El(t,n,{},fn())}function Ah(){return qe(zl)}function yg(){return ye().memoizedState}function _g(){return ye().memoizedState}function i0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=fn();t=ea(a);var l=na(n,t,a);l!==null&&(dn(l,n,a),ml(l,n,a)),n={cache:th()},t.payload=n;return}n=n.return}}function a0(t,n,a){var l=fn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},eu(t)?Eg(n,a):(a=Hc(t,n,a,l),a!==null&&(dn(a,t,l),Tg(a,n,l)))}function vg(t,n,a){var l=fn();El(t,n,a,l)}function El(t,n,a,l){var c={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(eu(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,a);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return zo(t,n,c,0),Jt===null&&Po(),!1}catch{}finally{}if(a=Hc(t,n,c,l),a!==null)return dn(a,t,l),Tg(a,n,l),!0}return!1}function Rh(t,n,a,l){if(l={lane:2,revertLane:af(),action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(r(479))}else n=Hc(t,a,l,2),n!==null&&dn(n,t,2)}function eu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Eg(t,n){er=Ko=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Tg(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Gi(t,a)}}var nu={readContext:qe,use:$o,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},Sg={readContext:qe,use:$o,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:sg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,tu(4194308,4,ug.bind(null,n,t),a)},useLayoutEffect:function(t,n){return tu(4194308,4,t,n)},useInsertionEffect:function(t,n){tu(4,2,t,n)},useMemo:function(t,n){var a=tn();n=n===void 0?null:n;var l=t();if(fs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=tn();if(a!==void 0){var c=a(n);if(fs){gn(!0);try{a(n)}finally{gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=a0.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,a=vg.bind(null,wt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Th,useDeferredValue:function(t,n){var a=tn();return Sh(a,t,n)},useTransition:function(){var t=vh(!1);return t=mg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=wt,c=tn();if(jt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Jt===null)throw Error(r(349));(Ot&124)!==0||qm(l,n,a)}c.memoizedState=a;var f={value:a,getSnapshot:n};return c.queue=f,sg(Qm.bind(null,l,f,t),[t]),l.flags|=2048,ir(9,Wo(),Hm.bind(null,l,f,a,n),null),a},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(jt){var a=Ti,l=Ei;a=(l&~(1<<32-Xe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=Zo++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=JE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rh.bind(null,wt,!0,a),a.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return tn().memoizedState=i0.bind(null,wt)}},bg={readContext:qe,use:$o,useCallback:hg,useContext:qe,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:Jo,useRef:ag,useState:function(){return Jo(Ai)},useDebugValue:Th,useDeferredValue:function(t,n){var a=ye();return dg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=Jo(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:Gm,useId:yg,useHostTransitionStatus:Ah,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var a=ye();return Xm(a,Ft,t,n)},useMemoCache:ph,useCacheRefresh:_g},s0={readContext:qe,use:$o,useCallback:hg,useContext:qe,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:_h,useRef:ag,useState:function(){return _h(Ai)},useDebugValue:Th,useDeferredValue:function(t,n){var a=ye();return Ft===null?Sh(a,t,n):dg(a,Ft.memoizedState,t,n)},useTransition:function(){var t=_h(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:Gm,useId:yg,useHostTransitionStatus:Ah,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var a=ye();return Ft!==null?Xm(a,Ft,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ph,useCacheRefresh:_g},ar=null,Tl=0;function iu(t){var n=Tl;return Tl+=1,ar===null&&(ar=[]),xm(ar,t,n)}function Sl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function au(t,n){throw n.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){var n=t._init;return n(t._payload)}function Rg(t){function n(x,M){if(t){var P=x.deletions;P===null?(x.deletions=[M],x.flags|=16):P.push(M)}}function a(x,M){if(!t)return null;for(;M!==null;)n(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function c(x,M){return x=vi(x,M),x.index=0,x.sibling=null,x}function f(x,M,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<M?(x.flags|=67108866,M):P):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,M,P,Y){return M===null||M.tag!==6?(M=Fc(P,x.mode,Y),M.return=x,M):(M=c(M,P),M.return=x,M)}function R(x,M,P,Y){var ct=P.type;return ct===W?Q(x,M,P.props.children,Y,P.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ag(ct)===M.type)?(M=c(M,P.props),Sl(M,P),M.return=x,M):(M=Bo(P.type,P.key,P.props,null,x.mode,Y),Sl(M,P),M.return=x,M)}function j(x,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Yc(P,x.mode,Y),M.return=x,M):(M=c(M,P.children||[]),M.return=x,M)}function Q(x,M,P,Y,ct){return M===null||M.tag!==7?(M=as(P,x.mode,Y,ct),M.return=x,M):(M=c(M,P),M.return=x,M)}function K(x,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Fc(""+M,x.mode,P),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return P=Bo(M.type,M.key,M.props,null,x.mode,P),Sl(P,M),P.return=x,P;case G:return M=Yc(M,x.mode,P),M.return=x,M;case b:var Y=M._init;return M=Y(M._payload),K(x,M,P)}if(ee(M)||U(M))return M=as(M,x.mode,P,null),M.return=x,M;if(typeof M.then=="function")return K(x,iu(M),P);if(M.$$typeof===F)return K(x,Ho(x,M),P);au(x,M)}return null}function B(x,M,P,Y){var ct=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(x,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===ct?R(x,M,P,Y):null;case G:return P.key===ct?j(x,M,P,Y):null;case b:return ct=P._init,P=ct(P._payload),B(x,M,P,Y)}if(ee(P)||U(P))return ct!==null?null:Q(x,M,P,Y,null);if(typeof P.then=="function")return B(x,M,iu(P),Y);if(P.$$typeof===F)return B(x,M,Ho(x,P),Y);au(x,P)}return null}function k(x,M,P,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(P)||null,E(M,x,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return x=x.get(Y.key===null?P:Y.key)||null,R(M,x,Y,ct);case G:return x=x.get(Y.key===null?P:Y.key)||null,j(M,x,Y,ct);case b:var Ct=Y._init;return Y=Ct(Y._payload),k(x,M,P,Y,ct)}if(ee(Y)||U(Y))return x=x.get(P)||null,Q(M,x,Y,ct,null);if(typeof Y.then=="function")return k(x,M,P,iu(Y),ct);if(Y.$$typeof===F)return k(x,M,P,Ho(M,Y),ct);au(M,Y)}return null}function Tt(x,M,P,Y){for(var ct=null,Ct=null,dt=M,_t=M=0,Ve=null;dt!==null&&_t<P.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var zt=B(x,dt,P[_t],Y);if(zt===null){dt===null&&(dt=Ve);break}t&&dt&&zt.alternate===null&&n(x,dt),M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt,dt=Ve}if(_t===P.length)return a(x,dt),jt&&rs(x,_t),ct;if(dt===null){for(;_t<P.length;_t++)dt=K(x,P[_t],Y),dt!==null&&(M=f(dt,M,_t),Ct===null?ct=dt:Ct.sibling=dt,Ct=dt);return jt&&rs(x,_t),ct}for(dt=l(dt);_t<P.length;_t++)Ve=k(dt,x,_t,P[_t],Y),Ve!==null&&(t&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),M=f(Ve,M,_t),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return t&&dt.forEach(function(va){return n(x,va)}),jt&&rs(x,_t),ct}function yt(x,M,P,Y){if(P==null)throw Error(r(151));for(var ct=null,Ct=null,dt=M,_t=M=0,Ve=null,zt=P.next();dt!==null&&!zt.done;_t++,zt=P.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var va=B(x,dt,zt.value,Y);if(va===null){dt===null&&(dt=Ve);break}t&&dt&&va.alternate===null&&n(x,dt),M=f(va,M,_t),Ct===null?ct=va:Ct.sibling=va,Ct=va,dt=Ve}if(zt.done)return a(x,dt),jt&&rs(x,_t),ct;if(dt===null){for(;!zt.done;_t++,zt=P.next())zt=K(x,zt.value,Y),zt!==null&&(M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return jt&&rs(x,_t),ct}for(dt=l(dt);!zt.done;_t++,zt=P.next())zt=k(dt,x,_t,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&dt.delete(zt.key===null?_t:zt.key),M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return t&&dt.forEach(function(rT){return n(x,rT)}),jt&&rs(x,_t),ct}function Xt(x,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:t:{for(var ct=P.key;M!==null;){if(M.key===ct){if(ct=P.type,ct===W){if(M.tag===7){a(x,M.sibling),Y=c(M,P.props.children),Y.return=x,x=Y;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&Ag(ct)===M.type){a(x,M.sibling),Y=c(M,P.props),Sl(Y,P),Y.return=x,x=Y;break t}a(x,M);break}else n(x,M);M=M.sibling}P.type===W?(Y=as(P.props.children,x.mode,Y,P.key),Y.return=x,x=Y):(Y=Bo(P.type,P.key,P.props,null,x.mode,Y),Sl(Y,P),Y.return=x,x=Y)}return v(x);case G:t:{for(ct=P.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(x,M.sibling),Y=c(M,P.children||[]),Y.return=x,x=Y;break t}else{a(x,M);break}else n(x,M);M=M.sibling}Y=Yc(P,x.mode,Y),Y.return=x,x=Y}return v(x);case b:return ct=P._init,P=ct(P._payload),Xt(x,M,P,Y)}if(ee(P))return Tt(x,M,P,Y);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(r(150));return P=ct.call(P),yt(x,M,P,Y)}if(typeof P.then=="function")return Xt(x,M,iu(P),Y);if(P.$$typeof===F)return Xt(x,M,Ho(x,P),Y);au(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(x,M.sibling),Y=c(M,P),Y.return=x,x=Y):(a(x,M),Y=Fc(P,x.mode,Y),Y.return=x,x=Y),v(x)):a(x,M)}return function(x,M,P,Y){try{Tl=0;var ct=Xt(x,M,P,Y);return ar=null,ct}catch(dt){if(dt===fl||dt===Fo)throw dt;var Ct=on(29,dt,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var sr=Rg(!0),wg=Rg(!1),An=$(null),Wn=null;function aa(t){var n=t.alternate;it(Re,Re.current&1),it(An,t),Wn===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(Wn=t)}function Cg(t){if(t.tag===22){if(it(Re,Re.current),it(An,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else sa()}function sa(){it(Re,Re.current),it(An,An.current)}function Ri(t){st(An),Wn===t&&(Wn=null),st(Re)}var Re=$(0);function su(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||pf(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:T({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ch={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=fn(),c=ea(l);c.payload=n,a!=null&&(c.callback=a),n=na(t,c,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=fn(),c=ea(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=na(t,c,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=fn(),l=ea(a);l.tag=2,n!=null&&(l.callback=n),n=na(t,l,a),n!==null&&(dn(n,t,a),ml(n,t,a))}};function Ng(t,n,a,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!al(a,l)||!al(c,f):!0}function Dg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function ds(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=T({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){ru(t)}function Vg(t){console.error(t)}function Mg(t){ru(t)}function lu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,a){return a=ea(a),a.tag=3,a.payload={element:null},a.callback=function(){lu(t,n)},a}function xg(t){return t=ea(t),t.tag=3,t}function Ug(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Og(n,a,l),typeof c!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function r0(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,c,!0),a=An.current,a!==null){switch(a.tag){case 13:return Wn===null?Jh():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return a.flags|=65536,l===ih?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),tf(t,l,c)),!1}throw Error(r(435,a.tag))}return tf(t,l,c),Jh(),!1}if(jt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),ol(En(t,a)))):(l!==Zc&&(n=Error(r(423),{cause:l}),ol(En(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,a),c=Nh(t.stateNode,l,c),rh(t,c),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,a),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=En(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Nh(a.stateNode,l,t),rh(a,t),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ha===null||!ha.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=xg(c),Ug(c,t,a,l),rh(a,c),!1}a=a.return}while(a!==null);return!1}var Lg=Error(r(461)),De=!1;function Ue(t,n,a,l){n.child=t===null?wg(n,null,a,l):sr(n,t.child,a,l)}function Pg(t,n,a,l,c){a=a.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return cs(n),l=hh(t,n,a,v,f,c),E=fh(),t!==null&&!De?(dh(t,n,c),wi(t,n,c)):(jt&&E&&Xc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function zg(t,n,a,l,c){if(t===null){var f=a.type;return typeof f=="function"&&!Qc(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,jg(t,n,f,l,c)):(t=Bo(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(v,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function jg(t,n,a,l,c){if(t!==null){var f=t.memoizedProps;if(al(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Dh(t,n,a,l,c)}function Bg(t,n,a){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return kg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qo(n,f!==null?f.cachePool:null),f!==null?jm(n,f):oh(),Cg(n);else return n.lanes=n.childLanes=536870912,kg(t,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Qo(n,f.cachePool),jm(n,f),sa(),n.memoizedState=null):(t!==null&&Qo(n,null),oh(),sa());return Ue(t,n,c,a),n.child}function kg(t,n,a,l){var c=nh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},t!==null&&Qo(n,null),oh(),Cg(n),t!==null&&ul(t,n,l,!0),null}function ou(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Dh(t,n,a,l,c){return cs(n),a=hh(t,n,a,l,void 0,c),l=fh(),t!==null&&!De?(dh(t,n,c),wi(t,n,c)):(jt&&l&&Xc(n),n.flags|=1,Ue(t,n,a,c),n.child)}function Gg(t,n,a,l,c,f){return cs(n),n.updateQueue=null,a=km(n,l,a,c),Bm(t),l=fh(),t!==null&&!De?(dh(t,n,f),wi(t,n,f)):(jt&&l&&Xc(n),n.flags|=1,Ue(t,n,a,f),n.child)}function qg(t,n,a,l,c){if(cs(n),n.stateNode===null){var f=Ks,v=a.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new a(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ah(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?qe(v):Ks,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(wh(n,a,v,l),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Ch.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=ds(a,E);f.props=R;var j=f.context,Q=a.contextType;v=Ks,typeof Q=="object"&&Q!==null&&(v=qe(Q));var K=a.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==v)&&Dg(n,f,l,v),ta=!1;var B=n.memoizedState;f.state=B,pl(n,l,f,c),gl(),j=n.memoizedState,E||B!==j||ta?(typeof K=="function"&&(wh(n,a,K,l),j=n.memoizedState),(R=ta||Ng(n,a,R,l,B,j,v))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sh(t,n),v=n.memoizedProps,Q=ds(a,v),f.props=Q,K=n.pendingProps,B=f.context,j=a.contextType,R=Ks,typeof j=="object"&&j!==null&&(R=qe(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||B!==R)&&Dg(n,f,l,R),ta=!1,B=n.memoizedState,f.state=B,pl(n,l,f,c),gl();var k=n.memoizedState;v!==K||B!==k||ta||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(wh(n,a,E,l),k=n.memoizedState),(Q=ta||Ng(n,a,Q,l,B,k,R)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=sr(n,t.child,null,c),n.child=sr(n,null,a,c)):Ue(t,n,a,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Hg(t,n,a,l){return ll(),n.flags|=256,Ue(t,n,a,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:Vm()}}function Mh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Rn),t}function Qg(t,n,a){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(jt){if(c?aa(n):sa(),jt){var E=le,R;if(R=E){t:{for(R=E,E=Jn;R.nodeType!==8;){if(!E){E=null;break t}if(R=zn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:ss!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,le=null,R=!0):R=!1}R||os(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(sa(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=as(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Vh(a),c.childLanes=Mh(t,v,a),n.memoizedState=Ih,l):(aa(n),Oh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(aa(n),n.flags&=-257,n=xh(t,n,a)):n.memoizedState!==null?(sa(),n.child=t.child,n.flags|=128,n=null):(sa(),c=l.fallback,E=n.mode,l=uu({mode:"visible",children:l.children},E),c=as(c,E,a,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,sr(n,t.child,null,a),l=n.child,l.memoizedState=Vh(a),l.childLanes=Mh(t,v,a),n.memoizedState=Ih,n=c);else if(aa(n),pf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var j=v.dgst;v=j,l=Error(r(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),n=xh(t,n,a)}else if(De||ul(t,n,a,!1),v=(a&t.childLanes)!==0,De||v){if(v=Jt,v!==null&&(l=a&-a,l=(l&42)!==0?1:kr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Xs(t,l),dn(v,t,l),Lg;E.data==="$?"||Jh(),n=xh(t,n,a)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=zn(E.nextSibling),Je=n,jt=!0,ls=null,Jn=!1,t!==null&&(Sn[bn++]=Ei,Sn[bn++]=Ti,Sn[bn++]=ss,Ei=t.id,Ti=t.overflow,ss=n),n=Oh(n,l.children),n.flags|=4096);return n}return c?(sa(),c=l.fallback,E=n.mode,R=t.child,j=R.sibling,l=vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,j!==null?c=vi(j,c):(c=as(c,E,a,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Vh(a):(R=E.cachePool,R!==null?(j=Ae._currentValue,R=R.parent!==j?{parent:j,pool:j}:R):R=Vm(),E={baseLanes:E.baseLanes|a,cachePool:R}),c.memoizedState=E,c.childLanes=Mh(t,v,a),n.memoizedState=Ih,l):(aa(n),a=t.child,t=a.sibling,a=vi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=a,n.memoizedState=null,a)}function Oh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,a){return sr(n,t.child,null,a),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Fg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function Uh(t,n,a,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=c)}function Yg(t,n,a){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,a),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Fg(t,a,n);else if(t.tag===19)Fg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(Re,l),c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&su(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uh(n,!1,c,a,f);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&su(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Uh(n,!0,a,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),ca|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ul(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,a=vi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=vi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function l0(t,n,a){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),Wi(n,Ae,t.memoizedState.cache),ll();break;case 27:case 5:Pr(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(aa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Qg(t,n,a):(aa(n),t=wi(t,n,a),t!==null?t.sibling:null);aa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return Yg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,Bg(t,n,a);case 24:Wi(n,Ae,t.memoizedState.cache)}return wi(t,n,a)}function Xg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Lh(t,a)&&(n.flags&128)===0)return De=!1,l0(t,n,a);De=(t.flags&131072)!==0}else De=!1,jt&&(n.flags&1048576)!==0&&Am(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Qc(l)?(t=ds(l,t),n.tag=1,n=qg(null,n,l,t,a)):(n.tag=0,n=Dh(null,n,l,t,a));else{if(l!=null){if(c=l.$$typeof,c===lt){n.tag=11,n=Pg(null,n,l,t,a);break t}else if(c===D){n.tag=14,n=zg(null,n,l,t,a);break t}}throw n=re(l)||l,Error(r(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=ds(l,n.pendingProps),qg(t,n,l,c,a);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,sh(t,n),pl(n,l,null,a);var v=n.memoizedState;if(l=v.cache,Wi(n,Ae,l),l!==f.cache&&Wc(n,[Ae],a,!0),gl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,a);break t}else if(l!==c){c=En(Error(r(424)),n),ol(c),n=Hg(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=zn(t.firstChild),Je=n,jt=!0,ls=null,Jn=!0,a=wg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===c){n=wi(t,n,a);break t}Ue(t,n,l,a)}n=n.child}return n;case 26:return ou(t,n),t===null?(a=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,t=n.pendingProps,l=bu(Et.current).createElement(a),l[ce]=n,l[xe]=t,Pe(l,a,t),he(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pr(n),t===null&&jt&&(l=n.stateNode=Kp(n.type,n.pendingProps,Et.current),Je=n,Jn=!0,c=le,ma(n.type)?(yf=c,le=zn(l.firstChild)):le=c),Ue(t,n,n.pendingProps.children,a),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&jt&&((c=l=le)&&(l=U0(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Je=n,le=zn(l.firstChild),Jn=!1,c=!0):c=!1),c||os(n)),Pr(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:v!==null&&df(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,WE,null,null,a),zl._currentValue=c),ou(t,n),Ue(t,n,l,a),n.child;case 6:return t===null&&jt&&((t=a=le)&&(a=L0(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,Je=n,le=null,t=!0):t=!1),t||os(n)),null;case 13:return Qg(t,n,a);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=sr(n,null,l,a):Ue(t,n,l,a),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,a);case 7:return Ue(t,n,n.pendingProps,a),n.child;case 8:return Ue(t,n,n.pendingProps.children,a),n.child;case 12:return Ue(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),Ue(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,cs(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,a),n.child;case 14:return zg(t,n,n.type,n.pendingProps,a);case 15:return jg(t,n,n.type,n.pendingProps,a);case 19:return Yg(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=uu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=vi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Bg(t,n,a);case 24:return cs(n),l=qe(Ae),t===null?(c=nh(),c===null&&(c=Jt,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),n.memoizedState={parent:l,cache:c},ah(n),Wi(n,Ae,c)):((t.lanes&a)!==0&&(sh(t,n),pl(n,null,null,a),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wi(n,Ae,l)):(l=f.cache,Wi(n,Ae,l),l!==c.cache&&Wc(n,[Ae],a,!0))),Ue(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ci(t){t.flags|=4}function Kg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?Wn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Wn))throw dl=ih,Mm;t.flags|=8192}}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bi():536870912,t.lanes|=n,ur|=n)}function bl(t,n){if(!jt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ae(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function o0(t,n,a){var l=n.pendingProps;switch(Kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),bi(Ae),Nn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),ae(n),null;case 26:return a=n.memoizedState,t===null?(Ci(n),a!==null?(ae(n),Kg(n,a)):(ae(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Ci(n),ae(n),Kg(n,a)):(ae(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),ae(n),n.flags&=-16777217),null;case 27:Ns(n),a=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}t=mt.current,rl(n)?Rm(n):(t=Kp(c,l,a),n.stateNode=t,Ci(n))}return ae(n),null;case 5:if(Ns(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return ae(n),null}if(t=mt.current,rl(n))Rm(n);else{switch(c=bu(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(a,{is:l.is}):c.createElement(a)}}t[ce]=n,t[xe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return ae(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Et.current,rl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Gp(t.nodeValue,a)),t||os(n)}else t=bu(t).createTextNode(l),t[ce]=n,n.stateNode=t}return ae(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ce]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),c=!1}else c=Cm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),cu(n,n.updateQueue),ae(n),null;case 4:return Nn(),t===null&&of(n.stateNode.containerInfo),ae(n),null;case 10:return bi(n.type),ae(n),null;case 19:if(st(Re),c=n.memoizedState,c===null)return ae(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)bl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=su(t),f!==null){for(n.flags|=128,bl(c,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)bm(a,t),a=a.sibling;return it(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>du&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304)}else{if(!l)if(t=su(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),bl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!jt)return ae(n),null}else 2*We()-c.renderingStartTime>du&&a!==536870912&&(n.flags|=128,l=!0,bl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Re.current,it(Re,l?t&1|2:t&1),n):(ae(n),null);case 22:case 23:return Ri(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),a=n.updateQueue,a!==null&&cu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&st(hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),bi(Ae),ae(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function u0(t,n){switch(Kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return bi(Ae),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ns(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ll()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return st(Re),null;case 4:return Nn(),null;case 10:return bi(n.type),null;case 22:case 23:return Ri(n),uh(),t!==null&&st(hs),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return bi(Ae),null;case 25:return null;default:return null}}function Zg(t,n){switch(Kc(n),n.tag){case 3:bi(Ae),Nn();break;case 26:case 27:case 5:Ns(n);break;case 4:Nn();break;case 13:Ri(n);break;case 19:st(Re);break;case 10:bi(n.type);break;case 22:case 23:Ri(n),uh(),t!==null&&st(hs);break;case 24:bi(Ae)}}function Al(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==c)}}catch(E){Kt(n,n.return,E)}}function ra(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=a,j=E;try{j()}catch(Q){Kt(c,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){Kt(n,n.return,Q)}}function $g(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{zm(n,a)}catch(l){Kt(t,t.return,l)}}}function Jg(t,n,a){a.props=ds(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Kt(t,n,c)}}function ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Kt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Kt(t,n,c)}else a.current=null}function Wg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Kt(t,t.return,c)}}function Ph(t,n,a){try{var l=t.stateNode;I0(l,t.type,a,n),l[xe]=n}catch(c){Kt(t,t.return,c)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ma(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ma(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jh(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Su));else if(l!==4&&(l===27&&ma(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(jh(t,n,a),t=t.sibling;t!==null;)jh(t,n,a),t=t.sibling}function hu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ma(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(hu(t,n,a),t=t.sibling;t!==null;)hu(t,n,a),t=t.sibling}function ep(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,a),n[ce]=t,n[xe]=a}catch(f){Kt(t,t.return,f)}}var Ni=!1,me=!1,Bh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function c0(t,n){if(t=t.containerInfo,hf=Du,t=dm(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,E=-1,R=-1,j=0,Q=0,K=t,B=null;e:for(;;){for(var k;K!==a||c!==0&&K.nodeType!==3||(E=v+c),K!==f||l!==0&&K.nodeType!==3||(R=v+l),K.nodeType===3&&(v+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===a&&++j===c&&(E=v),B===f&&++Q===l&&(R=v),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}a=E===-1||R===-1?null:{start:E,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(ff={focusedElem:t,selectionRange:a},Du=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=n,c=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Tt=ds(a.type,c,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Kt(a,a.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function ip(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:la(t,a),l&4&&Al(5,a);break;case 1:if(la(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(v){Kt(a,a.return,v)}else{var c=ds(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Kt(a,a.return,v)}}l&64&&$g(a),l&512&&Rl(a,a.return);break;case 3:if(la(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{zm(t,n)}catch(v){Kt(a,a.return,v)}}break;case 27:n===null&&l&4&&ep(a);case 26:case 5:la(t,a),n===null&&l&4&&Wg(a),l&512&&Rl(a,a.return);break;case 12:la(t,a);break;case 13:la(t,a),l&4&&rp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=v0.bind(null,a),P0(t,a))));break;case 22:if(l=a.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||me,c=Ni;var f=me;Ni=l,(me=n)&&!f?oa(t,a,(a.subtreeFlags&8772)!==0):la(t,a),Ni=c,me=f}break;case 30:break;default:la(t,a)}}function ap(t){var n=t.alternate;n!==null&&(t.alternate=null,ap(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Os(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Di(t,n,a){for(a=a.child;a!==null;)sp(t,n,a),a=a.sibling}function sp(t,n,a){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(Pi,a)}catch{}switch(a.tag){case 26:me||ti(a,n),Di(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:me||ti(a,n);var l=ne,c=en;ma(a.type)&&(ne=a.stateNode,en=!1),Di(t,n,a),xl(a.stateNode),ne=l,en=c;break;case 5:me||ti(a,n);case 6:if(l=ne,c=en,ne=null,Di(t,n,a),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){Kt(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){Kt(a,n,f)}break;case 18:ne!==null&&(en?(t=ne,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Gl(t)):Yp(ne,a.stateNode));break;case 4:l=ne,c=en,ne=a.stateNode.containerInfo,en=!0,Di(t,n,a),ne=l,en=c;break;case 0:case 11:case 14:case 15:me||ra(2,a,n),me||ra(4,a,n),Di(t,n,a);break;case 1:me||(ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Jg(a,n,l)),Di(t,n,a);break;case 21:Di(t,n,a);break;case 22:me=(l=me)||a.memoizedState!==null,Di(t,n,a),me=l;break;default:Di(t,n,a)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Gl(t)}catch(a){Kt(n,n.return,a)}}function h0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(r(435,t.tag))}}function kh(t,n){var a=h0(t);n.forEach(function(l){var c=E0.bind(null,t,l);a.has(l)||(a.add(l),l.then(c,c))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ma(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(r(160));sp(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Pn=null;function lp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(ra(3,t,t.return),Al(3,t),ra(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Pn;if(un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,a),f[ce]=t,he(f),l=f;break t;case"link":var v=ey("link","href",c).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;case"meta":if(v=ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,a),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),a!==null&&l&4&&Ph(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(me||a===null||ti(a,a.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(k){Kt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Bh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(k){Kt(t,t.return,k)}}break;case 3:if(wu=null,c=Pn,Pn=Au(n.containerInfo),un(n,t),Pn=c,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Gl(n.containerInfo)}catch(k){Kt(t,t.return,k)}Bh&&(Bh=!1,op(t));break;case 4:l=Pn,Pn=Au(t.stateNode.containerInfo),un(n,t),cn(t),Pn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Yh=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 22:c=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,j=Ni,Q=me;if(Ni=j||c,me=Q||R,un(n,t),me=Q,Ni=j,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||R||Ni||me||ms(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Kt(R,R.return,k)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(k){Kt(R,R.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kh(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(tp(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,f=zh(t);hu(t,f,c);break;case 5:var v=a.stateNode;a.flags&32&&(_n(v,""),a.flags&=-33);var E=zh(t);hu(t,E,v);break;case 3:case 4:var R=a.stateNode.containerInfo,j=zh(t);jh(t,j,R);break;default:throw Error(r(161))}}catch(Q){Kt(t,t.return,Q)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function la(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function ms(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),ms(n);break;case 1:ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Jg(n,n.return,a),ms(n);break;case 27:xl(n.stateNode);case 26:case 5:ti(n,n.return),ms(n);break;case 22:n.memoizedState===null&&ms(n);break;case 30:ms(n);break;default:ms(n)}t=t.sibling}}function oa(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:oa(c,f,a),Al(4,f);break;case 1:if(oa(c,f,a),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){Kt(l,l.return,j)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Pm(R[c],E)}catch(j){Kt(l,l.return,j)}}a&&v&64&&$g(f),Rl(f,f.return);break;case 27:ep(f);case 26:case 5:oa(c,f,a),a&&l===null&&v&4&&Wg(f),Rl(f,f.return);break;case 12:oa(c,f,a);break;case 13:oa(c,f,a),a&&v&4&&rp(c,f);break;case 22:f.memoizedState===null&&oa(c,f,a),Rl(f,f.return);break;case 30:break;default:oa(c,f,a)}n=n.sibling}}function Gh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function ei(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,a,l),n=n.sibling}function up(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,a,l),c&2048&&Al(9,n);break;case 1:ei(t,n,a,l);break;case 3:ei(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(c&2048){ei(t,n,a,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else ei(t,n,a,l);break;case 13:ei(t,n,a,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,a,l):wl(t,n):f._visibility&2?ei(t,n,a,l):(f._visibility|=2,rr(t,n,a,l,(n.subtreeFlags&10256)!==0)),c&2048&&Gh(v,n);break;case 24:ei(t,n,a,l),c&2048&&qh(n.alternate,n);break;default:ei(t,n,a,l)}}function rr(t,n,a,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=a,R=l,j=v.flags;switch(v.tag){case 0:case 11:case 15:rr(f,v,E,R,c),Al(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&2?rr(f,v,E,R,c):wl(f,v):(Q._visibility|=2,rr(f,v,E,R,c)),c&&j&2048&&Gh(v.alternate,v);break;case 24:rr(f,v,E,R,c),c&&j&2048&&qh(v.alternate,v);break;default:rr(f,v,E,R,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:wl(a,l),c&2048&&Gh(l.alternate,l);break;case 24:wl(a,l),c&2048&&qh(l.alternate,l);break;default:wl(a,l)}n=n.sibling}}var Cl=8192;function lr(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:lr(t),t.flags&Cl&&t.memoizedState!==null&&Z0(Pn,t.memoizedState,t.memoizedProps);break;case 5:lr(t);break;case 3:case 4:var n=Pn;Pn=Au(t.stateNode.containerInfo),lr(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,lr(t),Cl=n):lr(t));break;default:lr(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&ra(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fu(t)):Nl(t);break;default:Nl(t)}}function fu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:ra(8,n,n.return),fu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,fu(n));break;default:fu(n)}t=t.sibling}}function dp(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(ap(l),l===a){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var f0={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},d0=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Nt=null,Ot=0,qt=0,hn=null,ua=!1,or=!1,Hh=!1,Ii=0,oe=0,ca=0,gs=0,Qh=0,Rn=0,ur=0,Dl=null,nn=null,Fh=!1,Yh=0,du=1/0,mu=null,ha=null,Le=0,fa=null,cr=null,hr=0,Xh=0,Kh=null,mp=null,Il=0,Zh=null;function fn(){if((Gt&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Js;return t!==0?t:af()}return fi()}function gp(){Rn===0&&(Rn=(Ot&536870912)===0||jt?Br():536870912);var t=An.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,a){(t===Jt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(fr(t,0),da(t,Ot,Rn,!1)),ue(t,a),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(gs|=a),oe===4&&da(t,Ot,Rn,!1)),ni(t))}function pp(t,n,a){if((Gt&6)!==0)throw Error(r(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||ji(t,n),c=l?p0(t,n):Wh(t,n,!0),f=l;do{if(c===0){or&&!l&&da(t,n,0,!1);break}else{if(a=t.current.alternate,f&&!m0(a)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(fr(E,v).flags|=256),v=Wh(E,v,!1),v!==2){if(Hh&&!R){E.errorRecoveryDisabledLanes|=f,gs|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){fr(t,0),da(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:da(l,n,Rn,!ua);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Yh+300-We(),10<c)){if(da(l,n,Rn,!ua),pn(l,0,!0)!==0)break t;l.timeoutHandle=Qp(yp.bind(null,l,a,nn,mu,Fh,n,Rn,gs,ur,ua,f,2,-0,0),c);break t}yp(l,a,nn,mu,Fh,n,Rn,gs,ur,ua,f,0,-0,0)}}break}while(!0);ni(t)}function yp(t,n,a,l,c,f,v,E,R,j,Q,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:K0},cp(n),K=$0(),K!==null)){t.cancelPendingCommit=K(Ap.bind(null,t,n,f,a,l,c,v,E,R,Q,1,B,k)),da(t,f,v,!j);return}Ap(t,n,f,a,l,c,v,E,R)}function m0(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function da(t,n,a,l){n&=~Qh,n&=~gs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Xe(c),v=1<<f;l[f]=-1,c&=~v}a!==0&&ki(t,a,n)}function gu(){return(Gt&6)===0?(Vl(0),!1):!0}function $h(){if(Nt!==null){if(qt===0)var t=Nt.return;else t=Nt,Si=us=null,mh(t),ar=null,Tl=0,t=Nt;for(;t!==null;)Zg(t.alternate,t),t=t.return;Nt=null}}function fr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,M0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$h(),Jt=t,Nt=a=vi(t.current,null),Ot=n,qt=0,hn=null,ua=!1,or=ji(t,n),Hh=!1,ur=Rn=Qh=gs=ca=oe=0,nn=Dl=null,Fh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Xe(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Po(),a}function _p(t,n){wt=null,H.H=nu,n===fl||n===Fo?(n=Um(),qt=3):n===Mm?(n=Um(),qt=4):qt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(oe=1,lu(t,En(n,t.current)))}function vp(){var t=H.H;return H.H=nu,t===null?nu:t}function Ep(){var t=H.A;return H.A=f0,t}function Jh(){oe=4,ua||(Ot&4194048)!==Ot&&An.current!==null||(or=!0),(ca&134217727)===0&&(gs&134217727)===0||Jt===null||da(Jt,Ot,Rn,!1)}function Wh(t,n,a){var l=Gt;Gt|=2;var c=vp(),f=Ep();(Jt!==t||Ot!==n)&&(mu=null,fr(t,n)),n=!1;var v=oe;t:do try{if(qt!==0&&Nt!==null){var E=Nt,R=hn;switch(qt){case 8:$h(),v=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var j=qt;if(qt=0,hn=null,dr(t,E,R,j),a&&or){v=0;break t}break;default:j=qt,qt=0,hn=null,dr(t,E,R,j)}}g0(),v=oe;break}catch(Q){_p(t,Q)}while(!0);return n&&t.shellSuspendCounter++,Si=us=null,Gt=l,H.H=c,H.A=f,Nt===null&&(Jt=null,Ot=0,Po()),v}function g0(){for(;Nt!==null;)Tp(Nt)}function p0(t,n){var a=Gt;Gt|=2;var l=vp(),c=Ep();Jt!==t||Ot!==n?(mu=null,du=We()+500,fr(t,n)):or=ji(t,n);t:do try{if(qt!==0&&Nt!==null){n=Nt;var f=hn;e:switch(qt){case 1:qt=0,hn=null,dr(t,n,f,1);break;case 2:case 9:if(Om(f)){qt=0,hn=null,Sp(n);break}n=function(){qt!==2&&qt!==9||Jt!==t||(qt=7),ni(t)},f.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Om(f)?(qt=0,hn=null,Sp(n)):(qt=0,hn=null,dr(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||iy(v)){qt=0,hn=null;var R=E.sibling;if(R!==null)Nt=R;else{var j=E.return;j!==null?(Nt=j,pu(j)):Nt=null}break e}}qt=0,hn=null,dr(t,n,f,5);break;case 6:qt=0,hn=null,dr(t,n,f,6);break;case 8:$h(),oe=6;break t;default:throw Error(r(462))}}y0();break}catch(Q){_p(t,Q)}while(!0);return Si=us=null,H.H=l,H.A=c,Gt=a,Nt!==null?0:(Jt=null,Ot=0,Po(),oe)}function y0(){for(;Nt!==null&&!Cc();)Tp(Nt)}function Tp(t){var n=Xg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?pu(t):Nt=n}function Sp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Gg(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Gg(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:mh(n);default:Zg(a,n),n=Nt=bm(n,Ii),n=Xg(a,n,Ii)}t.memoizedProps=t.pendingProps,n===null?pu(t):Nt=n}function dr(t,n,a,l){Si=us=null,mh(n),ar=null,Tl=0;var c=n.return;try{if(r0(t,c,n,a,Ot)){oe=1,lu(t,En(a,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;oe=1,lu(t,En(a,t.current)),Nt=null;return}n.flags&32768?(jt||l===1?t=!0:or||(Ot&536870912)!==0?t=!1:(ua=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),bp(n,t)):pu(n)}function pu(t){var n=t;do{if((n.flags&32768)!==0){bp(n,ua);return}t=n.return;var a=o0(n.alternate,n,Ii);if(a!==null){Nt=a;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);oe===0&&(oe=5)}function bp(t,n){do{var a=u0(t.alternate,t);if(a!==null){a.flags&=32767,Nt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=a}while(t!==null);oe=6,Nt=null}function Ap(t,n,a,l,c,f,v,E,R){t.cancelPendingCommit=null;do yu();while(Le!==0);if((Gt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qc,Eo(t,a,f,v,E,R),t===Jt&&(Nt=Jt=null,Ot=0),cr=n,fa=t,hr=a,Xh=f,Kh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,T0(hi,function(){return Dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=at.p,at.p=2,v=Gt,Gt|=4;try{c0(t,n,a)}finally{Gt=v,at.p=c,H.T=l}}Le=1,Rp(),wp(),Cp()}}function Rp(){if(Le===1){Le=0;var t=fa,n=cr,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=at.p;at.p=2;var c=Gt;Gt|=4;try{lp(n,t);var f=ff,v=dm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(R!==null&&zc(E)){var j=R.start,Q=R.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),Tt=E.textContent.length,yt=Math.min(R.start,Tt),Xt=R.end===void 0?yt:Math.min(R.end,Tt);!k.extend&&yt>Xt&&(v=Xt,Xt=yt,yt=v);var x=hm(E,yt),M=hm(E,Xt);if(x&&M&&(k.rangeCount!==1||k.anchorNode!==x.node||k.anchorOffset!==x.offset||k.focusNode!==M.node||k.focusOffset!==M.offset)){var P=K.createRange();P.setStart(x.node,x.offset),k.removeAllRanges(),yt>Xt?(k.addRange(P),k.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),k.addRange(P))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Du=!!hf,ff=hf=null}finally{Gt=c,at.p=l,H.T=a}}t.current=n,Le=2}}function wp(){if(Le===2){Le=0;var t=fa,n=cr,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=at.p;at.p=2;var c=Gt;Gt|=4;try{ip(t,n.alternate,n)}finally{Gt=c,at.p=l,H.T=a}}Le=3}}function Cp(){if(Le===4||Le===3){Le=0,zr();var t=fa,n=cr,a=hr,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,cr=fa=null,Np(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(ha=null),Gr(a),n=n.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=at.p,at.p=2,H.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,at.p=c}}(hr&3)!==0&&yu(),ni(t),c=t.pendingLanes,(a&4194090)!==0&&(c&42)!==0?t===Zh?Il++:(Il=0,Zh=t):Il=0,Vl(0)}}function Np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function yu(t){return Rp(),wp(),Cp(),Dp()}function Dp(){if(Le!==5)return!1;var t=fa,n=Xh;Xh=0;var a=Gr(hr),l=H.T,c=at.p;try{at.p=32>a?32:a,H.T=null,a=Kh,Kh=null;var f=fa,v=hr;if(Le=0,cr=fa=null,hr=0,(Gt&6)!==0)throw Error(r(331));var E=Gt;if(Gt|=4,fp(f.current),up(f,f.current,v,a),Gt=E,Vl(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(Pi,f)}catch{}return!0}finally{at.p=c,H.T=l,Np(t,n)}}function Ip(t,n,a){n=En(a,n),n=Nh(t.stateNode,n,2),t=na(t,n,2),t!==null&&(ue(t,2),ni(t))}function Kt(t,n,a){if(t.tag===3)Ip(t,t,a);else for(;n!==null;){if(n.tag===3){Ip(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ha===null||!ha.has(l))){t=En(a,t),a=xg(2),l=na(n,a,2),l!==null&&(Ug(a,l,n,t),ue(l,2),ni(l));break}}n=n.return}}function tf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new d0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Hh=!0,c.add(a),t=_0.bind(null,t,n,a),n.then(t,t))}function _0(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ot&a)===a&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>We()-Yh?(Gt&2)===0&&fr(t,0):Qh|=a,ur===Ot&&(ur=0)),ni(t)}function Vp(t,n){n===0&&(n=Bi()),t=Xs(t,n),t!==null&&(ue(t,n),ni(t))}function v0(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Vp(t,a)}function E0(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vp(t,a)}function T0(t,n){return xa(t,n)}var _u=null,mr=null,ef=!1,vu=!1,nf=!1,ps=0;function ni(t){t!==mr&&t.next===null&&(mr===null?_u=mr=t:mr=mr.next=t),vu=!0,ef||(ef=!0,b0())}function Vl(t,n){if(!nf&&vu){nf=!0;do for(var a=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Xe(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Up(l,f))}else f=Ot,f=pn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ji(l,f)||(a=!0,Up(l,f));l=l.next}while(a);nf=!1}}function S0(){Mp()}function Mp(){vu=ef=!1;var t=0;ps!==0&&(V0()&&(t=ps),ps=0);for(var n=We(),a=null,l=_u;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,a===null?_u=c:a.next=c,c===null&&(mr=a)):(a=l,(t!==0||(f&3)!==0)&&(vu=!0)),l=c}Vl(t)}function Op(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Xe(f),E=1<<v,R=c[v];R===-1?((E&a)===0||(E&l)!==0)&&(c[v]=Vs(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,a=Ot,a=pn(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Is(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ji(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Is(l),Gr(a)){case 2:case 8:a=Ce;break;case 32:a=hi;break;case 268435456:a=jr;break;default:a=hi}return l=xp.bind(null,t),a=xa(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Is(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(yu()&&t.callbackNode!==a)return null;var l=Ot;return l=pn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Op(t,We()),t.callbackNode!=null&&t.callbackNode===a?xp.bind(null,t):null)}function Up(t,n){if(yu())return null;pp(t,n,!0)}function b0(){O0(function(){(Gt&6)!==0?xa(Se,S0):Mp()})}function af(){return ps===0&&(ps=Br()),ps}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mn(""+t)}function Pp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function A0(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var f=Lp((c[xe]||null).action),v=l.submitter;v&&(n=(n=v[xe]||null)?Lp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Ka("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ps!==0){var R=v?Pp(c,v):new FormData(c);bh(a,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Pp(c,v):new FormData(c),bh(a,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var sf=0;sf<Gc.length;sf++){var rf=Gc[sf],R0=rf.toLowerCase(),w0=rf[0].toUpperCase()+rf.slice(1);Ln(R0,"on"+w0)}Ln(pm,"onAnimationEnd"),Ln(ym,"onAnimationIteration"),Ln(_m,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(qE,"onTransitionRun"),Ln(HE,"onTransitionStart"),Ln(QE,"onTransitionCancel"),Ln(vm,"onTransitionEnd"),Xn("onMouseEnter",["mouseout","mouseover"]),Xn("onMouseLeave",["mouseout","mouseover"]),Xn("onPointerEnter",["pointerout","pointerover"]),Xn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,j=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(Q){ru(Q)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,j=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=j;try{f(c)}catch(Q){ru(Q)}c.currentTarget=null,f=R}}}}function Dt(t,n){var a=n[La];a===void 0&&(a=n[La]=new Set);var l=t+"__bubble";a.has(l)||(jp(n,t,2,!1),a.add(l))}function lf(t,n,a){var l=0;n&&(l|=4),jp(a,t,l,n)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[Eu]){t[Eu]=!0,To.forEach(function(a){a!=="selectionchange"&&(C0.has(a)||lf(a,!1,t),lf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eu]||(n[Eu]=!0,lf("selectionchange",!1,n))}}function jp(t,n,a,l){switch(uy(n)){case 2:var c=tT;break;case 8:c=eT;break;default:c=Sf}a=c.bind(null,n,a,t),c=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function uf(t,n,a,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=Qn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Fa(function(){var j=f,Q=Kr(a),K=[];t:{var B=Em.get(t);if(B!==void 0){var k=Ka,Tt=t;switch(t){case"keypress":if(Ya(a)===0)break t;case"keydown":case"keyup":k=Hs;break;case"focusin":Tt="focus",k=ks;break;case"focusout":Tt="blur",k=ks;break;case"beforeblur":case"afterblur":k=ks;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ji;break;case pm:case ym:case _m:k=$r;break;case vm:k=m;break;case"scroll":case"scrollend":k=$a;break;case"wheel":k=S;break;case"copy":case"cut":case"paste":k=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=tl;break;case"toggle":case"beforetoggle":k=q}var yt=(n&4)!==0,Xt=!yt&&(t==="scroll"||t==="scrollend"),x=yt?B!==null?B+"Capture":null:B;yt=[];for(var M=j,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||x===null||(Y=Zi(M,x),Y!=null&&yt.push(Ol(M,Y,P))),Xt)break;M=M.return}0<yt.length&&(B=new k(B,Tt,null,a,Q),K.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&a!==Xr&&(Tt=a.relatedTarget||a.fromElement)&&(Qn(Tt)||Tt[di]))break t;if((k||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,k?(Tt=a.relatedTarget||a.toElement,k=j,Tt=Tt?Qn(Tt):null,Tt!==null&&(Xt=h(Tt),yt=Tt.tag,Tt!==Xt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(k=null,Tt=j),k!==Tt)){if(yt=ts,Y="onMouseLeave",x="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=tl,Y="onPointerLeave",x="onPointerEnter",M="pointer"),Xt=k==null?B:Hi(k),P=Tt==null?B:Hi(Tt),B=new yt(Y,M+"leave",k,a,Q),B.target=Xt,B.relatedTarget=P,Y=null,Qn(Q)===j&&(yt=new yt(x,M+"enter",Tt,a,Q),yt.target=P,yt.relatedTarget=Xt,Y=yt),Xt=Y,k&&Tt)e:{for(yt=k,x=Tt,M=0,P=yt;P;P=gr(P))M++;for(P=0,Y=x;Y;Y=gr(Y))P++;for(;0<M-P;)yt=gr(yt),M--;for(;0<P-M;)x=gr(x),P--;for(;M--;){if(yt===x||x!==null&&yt===x.alternate)break e;yt=gr(yt),x=gr(x)}yt=null}else yt=null;k!==null&&Bp(K,B,k,yt,!1),Tt!==null&&Xt!==null&&Bp(K,Xt,Tt,yt,!0)}}t:{if(B=j?Hi(j):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var ct=sm;else if(im(B))if(rm)ct=BE;else{ct=zE;var Ct=PE}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&zs(j.elementType)&&(ct=sm):ct=jE;if(ct&&(ct=ct(t,j))){am(K,ct,a,Q);break t}Ct&&Ct(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&Qr(B,"number",B.value)}switch(Ct=j?Hi(j):window,t){case"focusin":(im(Ct)||Ct.contentEditable==="true")&&(Qs=Ct,jc=j,sl=null);break;case"focusout":sl=jc=Qs=null;break;case"mousedown":Bc=!0;break;case"contextmenu":case"mouseup":case"dragend":Bc=!1,mm(K,a,Q);break;case"selectionchange":if(GE)break;case"keydown":case"keyup":mm(K,a,Q)}var dt;if(bt)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Un?On(t,a)&&(_t="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_t="onCompositionStart");_t&&(fe&&a.locale!=="ko"&&(Un||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Un&&(dt=Co()):(vn=Q,$t="value"in vn?vn.value:vn.textContent,Un=!0)),Ct=Tu(j,_t),0<Ct.length&&(_t=new Wr(_t,t,null,a,Q),K.push({event:_t,listeners:Ct}),dt?_t.data=dt:(dt=xn(a),dt!==null&&(_t.data=dt)))),(dt=kt?el(t,a):xE(t,a))&&(_t=Tu(j,"onBeforeInput"),0<_t.length&&(Ct=new Wr("onBeforeInput","beforeinput",null,a,Q),K.push({event:Ct,listeners:_t}),Ct.data=dt)),A0(K,t,j,a,Q)}zp(K,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Tu(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zi(t,a),c!=null&&l.unshift(Ol(t,c,f)),c=Zi(t,n),c!=null&&l.push(Ol(t,c,f))),t.tag===3)return l;t=t.return}return[]}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Bp(t,n,a,l,c){for(var f=n._reactName,v=[];a!==null&&a!==l;){var E=a,R=E.alternate,j=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||j===null||(R=j,c?(j=Zi(a,f),j!=null&&v.unshift(Ol(a,j,R))):c||(j=Zi(a,f),j!=null&&v.push(Ol(a,j,R)))),a=a.return}v.length!==0&&t.push({event:n,listeners:v})}var N0=/\r\n?/g,D0=/\u0000|\uFFFD/g;function kp(t){return(typeof t=="string"?t:""+t).replace(N0,`
`).replace(D0,"")}function Gp(t,n){return n=kp(n),kp(t)===n}function Su(){}function Yt(t,n,a,l,c,f){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":ka(t,"class",l);break;case"tabIndex":ka(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ka(t,a,l);break;case"style":Yr(t,l,f);break;case"data":if(n!=="object"){ka(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Mn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Mn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Su);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Mn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),Ba(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ao.get(a)||a,Ba(t,a,l))}}function cf(t,n,a,l,c,f){switch(a){case"style":Yr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Su);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!za.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),f=t[xe]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ba(t,a,l)}}}function Pe(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,v,a,null)}}c&&Yt(t,n,"srcSet",a.srcSet,a,null),l&&Yt(t,n,"src",a.src,a,null);return;case"input":Dt("invalid",t);var E=f=v=c=null,R=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":c=Q;break;case"type":v=Q;break;case"checked":R=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Yt(t,n,l,Q,a,null)}}Hr(t,f,E,R,j,v,c,!1),Yi(t);return;case"select":Dt("invalid",t),l=v=f=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,a,null)}n=f,a=v,t.multiple=!!l,n!=null?Xi(t,!!l,n,!1):a!=null&&Xi(t,!!l,a,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,v,E,a,null)}bo(t,l,c,f),Yi(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,a,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Dt(Ml[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,j,l,a,null)}return;default:if(zs(n)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&cf(t,n,Q,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&Yt(t,n,E,l,a,null))}function I0(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,j=null,Q=null;for(k in a){var K=a[k];if(a.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=a[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":j=k;break;case"defaultChecked":Q=k;break;case"value":v=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}qr(t,v,E,R,j,Q,f,c);return;case"select":k=v=E=B=null;for(f in a)if(R=a[f],a.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=a[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,a=v,l=k,B!=null?Xi(t,!!a,B,!1):!!l!=!!a&&(n!=null?Xi(t,!!a,n,!0):Xi(t,!!a,a?[]:"",!1));return;case"textarea":k=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=a[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}So(t,B,k);return;case"option":for(var Tt in a)if(B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Yt(t,n,Tt,null,l,B)}for(R in l)if(B=l[R],k=a[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!l.hasOwnProperty(yt)&&Yt(t,n,yt,null,l,B);for(j in l)if(B=l[j],k=a[j],l.hasOwnProperty(j)&&B!==k&&(B!=null||k!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:Yt(t,n,j,B,l,k)}return;default:if(zs(n)){for(var Xt in a)B=a[Xt],a.hasOwnProperty(Xt)&&B!==void 0&&!l.hasOwnProperty(Xt)&&cf(t,n,Xt,void 0,l,B);for(Q in l)B=l[Q],k=a[Q],!l.hasOwnProperty(Q)||B===k||B===void 0&&k===void 0||cf(t,n,Q,B,l,k);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,B);for(K in l)B=l[K],k=a[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var hf=null,ff=null;function bu(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function V0(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,M0=typeof clearTimeout=="function"?clearTimeout:void 0,Fp=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Fp<"u"?function(t){return Fp.resolve(null).then(t).catch(x0)}:Qp;function x0(t){setTimeout(function(){throw t})}function ma(t){return t==="head"}function Yp(t,n){var a=n,l=0,c=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&xl(v.documentElement),a&2&&xl(v.body),a&4)for(a=v.head,xl(a),v=a.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[qi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(c===0){t.removeChild(f),Gl(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Gl(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gf(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function U0(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function L0(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function P0(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Xp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function Kp(t,n,a){switch(n=bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Os(t)}var wn=new Map,Zp=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=at.d;at.d={f:z0,r:j0,D:B0,C:k0,L:G0,m:q0,X:Q0,S:H0,M:F0};function z0(){var t=Vi.f(),n=gu();return t||n}function j0(t){var n=Fn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Vi.r(t)}var pr=typeof document>"u"?null:document;function $p(t,n,a){var l=pr;if(l&&typeof n=="string"&&n){var c=Ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function B0(t){Vi.D(t),$p("dns-prefetch",t,null)}function k0(t,n){Vi.C(t,n),$p("preconnect",t,n)}function G0(t,n,a){Vi.L(t,n,a);var l=pr;if(l&&t&&n){var c='link[rel="preload"][as="'+Ne(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Ne(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Ne(a.imageSizes)+'"]')):c+='[href="'+Ne(t)+'"]';var f=c;switch(n){case"style":f=yr(t);break;case"script":f=_r(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function q0(t,n){Vi.m(t,n);var a=pr;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_r(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ll(f)))return}l=a.createElement("link"),Pe(l,"link",t),he(l),a.head.appendChild(l)}}}function H0(t,n,a){Vi.S(t,n,a);var l=pr;if(l&&t){var c=Qi(l).hoistableStyles,f=yr(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ul(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},a),(a=wn.get(f))&&_f(t,a);var R=v=l.createElement("link");he(R),Pe(R,"link",t),R._p=new Promise(function(j,Q){R.onload=j,R.onerror=Q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function Q0(t,n){Vi.X(t,n);var a=pr;if(a&&t){var l=Qi(a).hoistableScripts,c=_r(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&vf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function F0(t,n){Vi.M(t,n);var a=pr;if(a&&t){var l=Qi(a).hoistableScripts,c=_r(t),f=l.get(c);f||(f=a.querySelector(Ll(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&vf(t,n),f=a.createElement("script"),he(f),Pe(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,a,l){var c=(c=Et.current)?Au(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=yr(a.href),a=Qi(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=yr(a.href);var f=Qi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ul(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},wn.set(t,a),f||Y0(c,t,a,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_r(a),a=Qi(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yr(t){return'href="'+Ne(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Y0(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",a),he(n),t.head.appendChild(n))}function _r(t){return'[src="'+Ne(t)+'"]'}function Ll(t){return"script[async]"+t}function ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ne(a.href)+'"]');if(l)return n.instance=l,he(l),l;var c=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Pe(l,"style",c),Ru(l,a.precedence,t),n.instance=l;case"stylesheet":c=yr(a.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=Wp(a),(c=wn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Ru(f,a.precedence,t),n.instance=f;case"script":return f=_r(a.src),(c=t.querySelector(Ll(f)))?(n.instance=c,he(c),c):(l=a,(c=wn.get(f))&&(l=T({},a),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,a.precedence,t));return n.instance}function Ru(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wu=null;function ey(t,n,a){if(wu===null){var l=new Map,c=wu=new Map;c.set(a,l)}else c=wu,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var f=a[c];if(!(f[qi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function X0(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function K0(){}function Z0(t,n,a){if(Pl===null)throw Error(r(475));var l=Pl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=yr(a.href),f=t.querySelector(Ul(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,a=Wp(a),(c=wn.get(c))&&_f(a,c),f=f.createElement("link"),he(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",a),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $0(){if(Pl===null)throw Error(r(475));var t=Pl;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(J0,t),Nu=null,Cu.call(t))}function J0(t,n){if(!(n.state.loading&4)){var a=Nu.get(t);if(a)var l=a.get(null);else{a=new Map,Nu.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,c),a.set(v,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:F,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function W0(t,n,a,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ms(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ms(0),this.hiddenUpdates=Ms(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ay(t,n,a,l,c,f,v,E,R,j,Q,K){return t=new W0(t,n,a,v,E,R,j,K),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:n},ah(f),t}function sy(t){return t?(t=Ks,t):Ks}function ry(t,n,a,l,c,f){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=ea(n),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=na(t,l,n),a!==null&&(dn(a,t,n),ml(a,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Tf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13){var n=Xs(t,67108864);n!==null&&dn(n,t,67108864),Tf(t,67108864)}}var Du=!0;function tT(t,n,a,l){var c=H.T;H.T=null;var f=at.p;try{at.p=2,Sf(t,n,a,l)}finally{at.p=f,H.T=c}}function eT(t,n,a,l){var c=H.T;H.T=null;var f=at.p;try{at.p=8,Sf(t,n,a,l)}finally{at.p=f,H.T=c}}function Sf(t,n,a,l){if(Du){var c=bf(l);if(c===null)uf(t,n,l,Iu,a),cy(t,l);else if(iT(c,t,n,a,l))l.stopPropagation();else if(cy(t,l),n&4&&-1<nT.indexOf(t)){for(;c!==null;){var f=Fn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Xe(v);E.entanglements[1]|=R,v&=~R}ni(f),(Gt&6)===0&&(du=We()+500,Vl(0))}}break;case 13:E=Xs(f,2),E!==null&&dn(E,f,2),gu(),Tf(f,2)}if(f=bf(l),f===null&&uf(t,n,l,Iu,a),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,a)}}function bf(t){return t=Kr(t),Af(t)}var Iu=null;function Af(t){if(Iu=null,t=Qn(t),t!==null){var n=h(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Iu=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yo()){case Se:return 2;case Ce:return 8;case hi:case Nc:return 32;case jr:return 268435456;default:return 32}default:return 32}}var Rf=!1,ga=null,pa=null,ya=null,jl=new Map,Bl=new Map,_a=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(t,n){switch(t){case"focusin":case"focusout":ga=null;break;case"dragenter":case"dragleave":pa=null;break;case"mouseover":case"mouseout":ya=null;break;case"pointerover":case"pointerout":jl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function kl(t,n,a,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Fn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iT(t,n,a,l,c){switch(n){case"focusin":return ga=kl(ga,t,n,a,l,c),!0;case"dragenter":return pa=kl(pa,t,n,a,l,c),!0;case"mouseover":return ya=kl(ya,t,n,a,l,c),!0;case"pointerover":var f=c.pointerId;return jl.set(f,kl(jl.get(f)||null,t,n,a,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Bl.set(f,kl(Bl.get(f)||null,t,n,a,l,c)),!0}return!1}function hy(t){var n=Qn(t.target);if(n!==null){var a=h(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Vc(t.priority,function(){if(a.tag===13){var l=fn();l=kr(l);var c=Xs(a,l);c!==null&&dn(c,a,l),Tf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=bf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Xr=l,a.target.dispatchEvent(l),Xr=null}else return n=Fn(a),n!==null&&oy(n),t.blockedOn=a,!1;n.shift()}return!0}function fy(t,n,a){Vu(t)&&a.delete(n)}function aT(){Rf=!1,ga!==null&&Vu(ga)&&(ga=null),pa!==null&&Vu(pa)&&(pa=null),ya!==null&&Vu(ya)&&(ya=null),jl.forEach(fy),Bl.forEach(fy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,aT)))}var Ou=null;function dy(t){Ou!==t&&(Ou=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||a)===null)continue;break}var f=Fn(a);f!==null&&(t.splice(n,3),n-=3,bh(f,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Gl(t){function n(R){return Mu(R,t)}ga!==null&&Mu(ga,t),pa!==null&&Mu(pa,t),ya!==null&&Mu(ya,t),jl.forEach(n),Bl.forEach(n);for(var a=0;a<_a.length;a++){var l=_a[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_a.length&&(a=_a[0],a.blockedOn===null);)hy(a),a.blockedOn===null&&_a.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],v=c[xe]||null;if(typeof f=="function")v||dy(a);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[xe]||null)E=v.formAction;else if(Af(c)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),dy(a)}}}function wf(t){this._internalRoot=t}xu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=fn();ry(a,l,t,n,null,null)},xu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),gu(),n[di]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<_a.length&&n!==0&&n<_a[a].priority;a++);_a.splice(a,0,t),a===0&&hy(t)}};var my=e.version;if(my!=="19.1.1")throw Error(r(527,my,"19.1.1"));at.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var sT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Pi=Uu.inject(sT),ke=Uu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var a=!1,l="",c=Ig,f=Vg,v=Mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ay(t,1,!1,null,null,a,l,c,f,v,E,null),t[di]=n.current,of(t),new wf(n)},Hl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ig,v=Vg,E=Mg,R=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),n=ay(t,1,!0,n,a??null,l,c,f,v,E,R,j),n.context=sy(null),a=n.current,l=fn(),l=kr(l),c=ea(l),c.callback=null,na(a,c,l),a=l,n.current.lanes=a,ue(n,a),ni(n),t[di]=n.current,of(t),new xu(n)},Hl.version="19.1.1",Hl}var Ay;function gT(){if(Ay)return Df.exports;Ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Df.exports=mT(),Df.exports}var pT=gT();const yT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=function(s){const e=[];let i=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_T=function(s){const e=[];let i=0,r=0;for(;i<s.length;){const o=s[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const h=s[i++],d=s[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},G_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,p=o+2<s.length,_=p?s[o+2]:0,T=h>>2,A=(h&3)<<4|g>>4;let N=(g&15)<<2|_>>6,G=_&63;p||(G=64,d||(N=64)),r.push(i[T],i[A],i[N],i[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(k_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):_T(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const A=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||_==null||A==null)throw new vT;const N=h<<2|g>>4;if(r.push(N),_!==64){const G=g<<4&240|_>>2;if(r.push(G),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ET=function(s){const e=k_(s);return G_.encodeByteArray(e,!0)},Xu=function(s){return ET(s).replace(/\./g,"")},TT=function(s){try{return G_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ST(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=()=>ST().__FIREBASE_DEFAULTS__,AT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const s=Ry.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},RT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&TT(s[1]);return e&&JSON.parse(e)},yd=()=>{try{return yT()||bT()||AT()||RT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wT=s=>yd()?.emulatorHosts?.[s],CT=s=>{const e=wT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},q_=()=>yd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xu(JSON.stringify(i)),Xu(JSON.stringify(d)),""].join(".")}const Kl={};function VT(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function MT(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let wy=!1;function OT(s,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Kl[s]===e||Kl[s]||wy)return;Kl[s]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=VT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,G){N.setAttribute("width","24"),N.setAttribute("id",G),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{wy=!0,d()},N}function T(N,G){N.setAttribute("id",G),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=MT(r),G=i("text"),W=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),ht=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const F=N.element;g(F),T(J,nt);const lt=_();p(ht,ft),F.append(ht,W,J,lt),document.body.appendChild(F)}h?(W.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){const s=yd()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){return!UT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function zT(){return new Promise((s,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="FirebaseError";class Vr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=jT,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?BT(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vr(o,g,r)}}function BT(s,e){return s.replace(kT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const kT=/\{\$([^}]+)}/g;function Ku(s,e){if(s===e)return!0;const i=Object.keys(s),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=s[o],d=e[o];if(Cy(h)&&Cy(d)){if(!Ku(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Cy(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(s){return s&&s._delegate?s._delegate:s}class to{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qT(s){return s===ys?void 0:s}function HT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new GT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ut||(Ut={}));const FT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},YT=Ut.INFO,XT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},KT=(s,e,...i)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=XT[e];if(o)console[o](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Q_{constructor(e){this.name=e,this._logLevel=YT,this._logHandler=KT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const ZT=(s,e)=>e.some(i=>s instanceof i);let Ny,Dy;function $T(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F_=new WeakMap,qf=new WeakMap,Y_=new WeakMap,Of=new WeakMap,vd=new WeakMap;function WT(s){const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(Ta(s.result)),o()},d=()=>{r(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&F_.set(i,s)}).catch(()=>{}),vd.set(e,s),e}function t1(s){if(qf.has(s))return;const e=new Promise((i,r)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});qf.set(s,e)}let Hf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return qf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||Y_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ta(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function e1(s){Hf=s(Hf)}function n1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=s.call(xf(this),e,...i);return Y_.set(r,e.sort?e.sort():[e]),Ta(r)}:JT().includes(s)?function(...e){return s.apply(xf(this),e),Ta(F_.get(this))}:function(...e){return Ta(s.apply(xf(this),e))}}function i1(s){return typeof s=="function"?n1(s):(s instanceof IDBTransaction&&t1(s),ZT(s,$T())?new Proxy(s,Hf):s)}function Ta(s){if(s instanceof IDBRequest)return WT(s);if(Of.has(s))return Of.get(s);const e=i1(s);return e!==s&&(Of.set(s,e),vd.set(e,s)),e}const xf=s=>vd.get(s);function a1(s,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=Ta(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Ta(d.result),p.oldVersion,p.newVersion,Ta(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const s1=["get","getKey","getAll","getAllKeys","count"],r1=["put","add","delete","clear"],Uf=new Map;function Iy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=r1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||s1.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&p.done]))[0]};return Uf.set(e,h),h}e1(s=>({...s,get:(e,i,r)=>Iy(e,i)||s.get(e,i,r),has:(e,i)=>!!Iy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(o1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function o1(s){return s.getComponent()?.type==="VERSION"}const Qf="@firebase/app",Vy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new Q_("@firebase/app"),u1="@firebase/app-compat",c1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",p1="@firebase/database",y1="@firebase/data-connect",_1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",S1="@firebase/installations-compat",b1="@firebase/messaging",A1="@firebase/messaging-compat",R1="@firebase/performance",w1="@firebase/performance-compat",C1="@firebase/remote-config",N1="@firebase/remote-config-compat",D1="@firebase/storage",I1="@firebase/storage-compat",V1="@firebase/firestore",M1="@firebase/ai",O1="@firebase/firestore-compat",x1="firebase",U1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff="[DEFAULT]",L1={[Qf]:"fire-core",[u1]:"fire-core-compat",[h1]:"fire-analytics",[c1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[p1]:"fire-rtdb",[y1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[S1]:"fire-iid-compat",[b1]:"fire-fcm",[A1]:"fire-fcm-compat",[R1]:"fire-perf",[w1]:"fire-perf-compat",[C1]:"fire-rc",[N1]:"fire-rc-compat",[D1]:"fire-gcs",[I1]:"fire-gcs-compat",[V1]:"fire-fst",[O1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,P1=new Map,Yf=new Map;function My(s,e){try{s.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function $u(s){const e=s.name;if(Yf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,s);for(const i of Zu.values())My(i,s);for(const i of P1.values())My(i,s);return!0}function z1(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function j1(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sa=new H_("app","Firebase",B1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=U1;function X_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const r={name:Ff,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw Sa.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw Sa.create("no-options");const h=Zu.get(o);if(h){if(Ku(i,h.options)&&Ku(r,h.config))return h;throw Sa.create("duplicate-app",{appName:o})}const d=new QT(o);for(const p of Yf.values())d.addComponent(p);const g=new k1(i,r,d);return Zu.set(o,g),g}function q1(s=Ff){const e=Zu.get(s);if(!e&&s===Ff&&q_())return X_();if(!e)throw Sa.create("no-app",{appName:s});return e}function br(s,e,i){let r=L1[s]??s;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}$u(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",Q1=1,eo="firebase-heartbeat-store";let Lf=null;function K_(){return Lf||(Lf=a1(H1,Q1,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(s=>{throw Sa.create("idb-open",{originalErrorMessage:s.message})})),Lf}async function F1(s){try{const i=(await K_()).transaction(eo),r=await i.objectStore(eo).get(Z_(s));return await i.done,r}catch(e){if(e instanceof Vr)Mi.warn(e.message);else{const i=Sa.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Oy(s,e){try{const r=(await K_()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,Z_(s)),await r.done}catch(i){if(i instanceof Vr)Mi.warn(i.message);else{const r=Sa.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(r.message)}}}function Z_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,X1=30;class K1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>X1){const o=J1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xy(),{heartbeatsToSend:i,unsentEntries:r}=Z1(this._heartbeatsCache.heartbeats),o=Xu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mi.warn(e),""}}}function xy(){return new Date().toISOString().substring(0,10)}function Z1(s,e=Y1){const i=[];let r=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?zT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await F1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uy(s){return Xu(JSON.stringify({version:2,heartbeats:s})).length}function J1(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(s){$u(new to("platform-logger",e=>new l1(e),"PRIVATE")),$u(new to("heartbeat",e=>new K1(e),"PRIVATE")),br(Qf,Vy,s),br(Qf,Vy,"esm2020"),br("fire-js","")}W1("");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ba,$_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,b){function w(){}w.prototype=b.prototype,D.F=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,V,U){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return b.prototype[V].apply(O,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,b,w){w||(w=0);const O=Array(16);if(typeof b=="string")for(var V=0;V<16;++V)O[V]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(V=0;V<16;++V)O[V]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],V=D.g[2];let U=D.g[3],C;C=b+(U^w&(V^U))+O[0]+3614090360&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(V^b&(w^V))+O[1]+3905402710&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(w^U&(b^w))+O[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(b^V&(U^b))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(U^w&(V^U))+O[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(V^b&(w^V))+O[5]+1200080426&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(w^U&(b^w))+O[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(b^V&(U^b))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(U^w&(V^U))+O[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(V^b&(w^V))+O[9]+2336552879&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(w^U&(b^w))+O[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(b^V&(U^b))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(U^w&(V^U))+O[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=U+(V^b&(w^V))+O[13]+4254626195&4294967295,U=b+(C<<12&4294967295|C>>>20),C=V+(w^U&(b^w))+O[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(b^V&(U^b))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=b+(V^U&(w^V))+O[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(b^w))+O[6]+3225465664&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(U^b))+O[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(V^U))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(w^V))+O[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(b^w))+O[10]+38016083&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(U^b))+O[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(V^U))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(w^V))+O[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(b^w))+O[14]+3275163606&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(U^b))+O[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(V^U))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(V^U&(w^V))+O[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(b^w))+O[2]+4243563512&4294967295,U=b+(C<<9&4294967295|C>>>23),C=V+(b^w&(U^b))+O[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^b&(V^U))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=b+(w^V^U)+O[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^V)+O[8]+2272392833&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^w)+O[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^b)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^U)+O[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^V)+O[4]+1272893353&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^w)+O[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^b)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^U)+O[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^V)+O[0]+3936430074&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^w)+O[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^b)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(w^V^U)+O[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=U+(b^w^V)+O[12]+3873151461&4294967295,U=b+(C<<11&4294967295|C>>>21),C=V+(U^b^w)+O[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^b)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=b+(V^(w|~U))+O[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~V))+O[7]+1126891415&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~w))+O[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~b))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~U))+O[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~V))+O[3]+2399980690&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~w))+O[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~b))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~U))+O[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~V))+O[15]+4264355552&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~w))+O[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~b))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=b+(V^(w|~U))+O[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=U+(w^(b|~V))+O[11]+3174756917&4294967295,U=b+(C<<10&4294967295|C>>>22),C=V+(b^(U|~w))+O[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~b))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,b){b===void 0&&(b=D.length);const w=b-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<b;){if(V==0)for(;U<=w;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<b;)if(O[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<b;)if(O[V++]=D[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=b},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;b=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=b&255,b/=256;for(this.v(D),D=Array(16),b=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[b++]=this.g[w]>>>O&255;return D};function h(D,b){var w=g;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function d(D,b){this.h=b;const w=[];let O=!0;for(let V=D.length-1;V>=0;V--){const U=D[V]|0;O&&U==b||(w[V]=U,O=!1)}this.g=w}var g={};function p(D){return-128<=D&&D<128?h(D,function(b){return new d([b|0],b<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return J(_(-D));const b=[];let w=1;for(let O=0;D>=w;O++)b[O]=D/w|0,w*=4294967296;return new d(b,0)}function T(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return J(T(D.substring(1),b));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(b,8));let O=A;for(let U=0;U<D.length;U+=8){var V=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+V),b);V<8?(V=_(Math.pow(b,V)),O=O.j(V).add(_(C))):(O=O.j(w),O=O.add(_(C)))}return O}var A=p(0),N=p(1),G=p(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();let D=0,b=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*b,b*=4294967296}return D},s.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(D);const b=_(Math.pow(D,6));var w=this;let O="";for(;;){const V=lt(w,b).g;w=ft(w,V.j(b));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=V,W(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},s.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function nt(D){return D.h==-1}s.l=function(D){return D=ft(this,D),nt(D)?-1:W(D)?0:1};function J(D){const b=D.g.length,w=[];for(let O=0;O<b;O++)w[O]=~D.g[O];return new d(w,~D.h).add(N)}s.abs=function(){return nt(this)?J(this):this},s.add=function(D){const b=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let V=0;V<=b;V++){let U=O+(this.i(V)&65535)+(D.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=C>>>16,U&=65535,C&=65535,w[V]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ft(D,b){return D.add(J(b))}s.j=function(D){if(W(this)||W(D))return A;if(nt(this))return nt(D)?J(this).j(J(D)):J(J(this).j(D));if(nt(D))return J(this.j(J(D)));if(this.l(G)<0&&D.l(G)<0)return _(this.m()*D.m());const b=this.g.length+D.g.length,w=[];for(var O=0;O<2*b;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<D.g.length;V++){const U=this.i(O)>>>16,C=this.i(O)&65535,re=D.i(V)>>>16,ee=D.i(V)&65535;w[2*O+2*V]+=C*ee,ht(w,2*O+2*V),w[2*O+2*V+1]+=U*ee,ht(w,2*O+2*V+1),w[2*O+2*V+1]+=C*re,ht(w,2*O+2*V+1),w[2*O+2*V+2]+=U*re,ht(w,2*O+2*V+2)}for(D=0;D<b;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=b;D<2*b;D++)w[D]=0;return new d(w,0)};function ht(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function F(D,b){this.g=D,this.h=b}function lt(D,b){if(W(b))throw Error("division by zero");if(W(D))return new F(A,A);if(nt(D))return b=lt(J(D),b),new F(J(b.g),J(b.h));if(nt(b))return b=lt(D,J(b)),new F(J(b.g),b.h);if(D.g.length>30){if(nt(D)||nt(b))throw Error("slowDivide_ only works with positive integers.");for(var w=N,O=b;O.l(D)<=0;)w=tt(w),O=tt(O);var V=ut(w,1),U=ut(O,1);for(O=ut(O,2),w=ut(w,2);!W(O);){var C=U.add(O);C.l(D)<=0&&(V=V.add(w),U=C),O=ut(O,1),w=ut(w,1)}return b=ft(D,V.j(b)),new F(V,b)}for(V=A;D.l(b)>=0;){for(w=Math.max(1,Math.floor(D.m()/b.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),C=U.j(b);nt(C)||C.l(D)>0;)w-=O,U=_(w),C=U.j(b);W(U)&&(U=N),V=V.add(U),D=ft(D,C)}return new F(V,D)}s.B=function(D){return lt(this,D).h},s.and=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},s.or=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},s.xor=function(D){const b=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<b;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function tt(D){const b=D.g.length+1,w=[];for(let O=0;O<b;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function ut(D,b){const w=b>>5;b%=32;const O=D.g.length-w,V=[];for(let U=0;U<O;U++)V[U]=b>0?D.i(U+w)>>>b|D.i(U+w+1)<<32-b:D.i(U+w);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,ba=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J_,Ql,W_,ku,Xf,tv,ev,nv;(function(){var s,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var z=u[S];if(!(z in y))break t;y=y[z]}u=u[u.length-1],S=y[u],m=m(S),m!=S&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&y.push([S,m[S]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=p,_.apply(null,arguments)}function T(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var S=y.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(S,z,q){for(var et=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)et[bt-2]=arguments[bt];return m.prototype[z].apply(S,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const y=Array(m);for(let S=0;S<m;S++)y[S]=u[S];return y}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const z=arguments[S];var y=typeof z;if(y=y!="object"?y:z?Array.isArray(z)?"array":y:"null",y=="array"||y=="object"&&typeof z.length=="number"){y=u.length||0;const q=z.length||0;u.length=y+q;for(let et=0;et<q;et++)u[y+et]=z[et]}else u.push(z)}}class nt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,y){const S=F.get();S.set(m,y),this.h?this.h.next=S:this.g=S,this.h=S}}var F=new nt(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ut=!1,D=new ht,b=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(w)}};function w(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){J(y)}var m=F;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(re,V),re.prototype.init=function(u,m){const y=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function at(u,m,y,S,z){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!S,this.ha=z,this.key=++H,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,y){for(const S in u)m.call(y,u[S],S,u)}function I(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function $(u){const m={};for(const y in u)m[y]=u[y];return m}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let y,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(y in S)u[y]=S[y];for(let q=0;q<st.length;q++)y=st[q],Object.prototype.hasOwnProperty.call(S,y)&&(u[y]=S[y])}}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,m,y,S,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=Et(u,m,S,z);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new at(m,this.src,q,!!S,z),m.fa=y,u.push(m)),m};function It(u,m){const y=m.type;if(y in u.g){var S=u.g[y],z=Array.prototype.indexOf.call(S,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(S,z,1),q&&(pt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Et(u,m,y,S){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==S)return z}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ht={};function Nn(u,m,y,S,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Nn(u,m[q],y,S,z);return null}return y=yo(y),u&&u[ee]?u.J(m,y,g(S)?!!S.capture:!1,z):Pr(u,m,y,!1,S,z)}function Pr(u,m,y,S,z,q){if(!m)throw Error("Invalid event type");const et=g(z)?!!z.capture:!!z;let bt=zr(u);if(bt||(u[Oe]=bt=new mt(u)),y=bt.add(m,y,S,et,q),y.proxy)return y;if(S=Ns(),y.proxy=S,S.src=u,S.listener=y,u.addEventListener)U||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),S,z);else if(u.attachEvent)u.attachEvent(Is(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ns(){function u(y){return m.call(u.src,u.listener,y)}const m=Cc;return u}function Ds(u,m,y,S,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ds(u,m[q],y,S,z);else S=g(S)?!!S.capture:!!S,y=yo(y),u&&u[ee]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Et(m,y,S,z),y>-1&&(pt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=zr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,y,S,z)),(y=u>-1?m[u]:null)&&xa(y))}function xa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])It(m.i,u);else{var y=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(y,S,u.capture):m.detachEvent?m.detachEvent(Is(y),S):m.addListener&&m.removeListener&&m.removeListener(S),(y=zr(m))?(It(y,u),y.h==0&&(y.src=null,m[Oe]=null)):pt(u)}}}function Is(u){return u in Ht?Ht[u]:Ht[u]="on"+u}function Cc(u,m){if(u.da)u=!0;else{m=new re(m,this);const y=u.listener,S=u.ha||u.src;u.fa&&xa(u),u=y.call(S,m)}return u}function zr(u){return u=u[Oe],u instanceof mt?u:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function Se(){O.call(this),this.i=new mt(this),this.M=this,this.G=null}A(Se,O),Se.prototype[ee]=!0,Se.prototype.removeEventListener=function(u,m,y,S){Ds(this,u,m,y,S)};function Ce(u,m){var y,S=u.G;if(S)for(y=[];S;S=S.G)y.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var z=m;m=new V(S,u),it(m,z)}z=!0;let q,et;if(y)for(et=y.length-1;et>=0;et--)q=m.g=y[et],z=hi(q,S,!0,m)&&z;if(q=m.g=u,z=hi(q,S,!0,m)&&z,z=hi(q,S,!1,m)&&z,y)for(et=0;et<y.length;et++)q=m.g=y[et],z=hi(q,S,!1,m)&&z}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let S=0;S<y.length;S++)pt(y[S]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,y,S){return this.i.add(String(u),m,!1,y,S)},Se.prototype.K=function(u,m,y,S){return this.i.add(String(u),m,!0,y,S)};function hi(u,m,y,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==y){const bt=et.listener,te=et.ha||et.src;et.fa&&It(u.i,et),z=bt.call(te,S)!==!1&&z}}return z&&!S.defaultPrevented}function Nc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function jr(u){u.g=Nc(()=>{u.g=null,u.i&&(u.i=!1,jr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dc extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:jr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ua(u){O.call(this),this.h=u,this.g={}}A(Ua,O);var Pi=[];function ke(u){Pt(u.g,function(m,y){this.g.hasOwnProperty(y)&&xa(m)},u),u.g={}}Ua.prototype.N=function(){Ua.Z.N.call(this),ke(this)},Ua.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Xe=d.JSON.parse,Ic=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _o(){}function vo(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){V.call(this,"d")}A(zi,V);function Dn(){V.call(this,"c")}A(Dn,V);var pn={},ji=null;function Vs(){return ji=ji||new Se}pn.Ia="serverreachability";function Br(u){V.call(this,pn.Ia,u)}A(Br,V);function Bi(u){const m=Vs();Ce(m,new Br(m))}pn.STAT_EVENT="statevent";function Ms(u,m){V.call(this,pn.STAT_EVENT,u),this.stat=m}A(Ms,V);function ue(u){const m=Vs();Ce(m,new Ms(m,u))}pn.Ja="timingevent";function Eo(u,m){V.call(this,pn.Ja,u),this.size=m}A(Eo,V);function ki(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Gi(){this.g=!0}Gi.prototype.ua=function(){this.g=!1};function kr(u,m,y,S,z,q){u.info(function(){if(u.g)if(q){var et="",bt=q.split("&");for(let kt=0;kt<bt.length;kt++){var te=bt[kt].split("=");if(te.length>1){const fe=te[0];te=te[1];const rn=fe.split("_");et=rn.length>=2&&rn[1]=="type"?et+(fe+"="+te+"&"):et+(fe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+m+`
`+y+`
`+et})}function Gr(u,m,y,S,z,q,et){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+m+`
`+y+`
`+q+" "+et})}function fi(u,m,y,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hn(u,y)+(S?" "+S:"")})}function Vc(u,m){u.info(function(){return"TIMEOUT: "+m})}Gi.prototype.info=function(){};function Hn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var S=y[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let et=1;et<S.length;et++)S[et]=""}}}}return gn(q)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},di;function La(){}A(La,_o),La.prototype.g=function(){return new XMLHttpRequest},di=new La;function Pa(u){return encodeURIComponent(String(u))}function Mc(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function In(u,m,y,S){this.j=u,this.i=m,this.l=y,this.S=S||1,this.V=new Ua(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var Os={},Qn={};function Fn(u,m,y){u.M=1,u.A=gi(ie(m)),u.u=y,u.R=!0,Hi(u,null)}function Hi(u,m){u.F=Date.now(),za(u),u.B=ie(u.A);var y=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),Ao(y.i,"t",S),u.C=0,y=u.j.L,u.h=new qi,u.g=qs(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Dc(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,S=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Pi[0]=z.toString()),z=Pi);for(let q=0;q<z.length;q++){const et=Nn(y,z[q],S||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?$(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Bi(),kr(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&Ge(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Ge(this.g),te=this.g.ya(),kt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Ka(this.g)))){this.K||bt!=4||te==7||(te==8||kt<=0?Bi(3):Bi(2)),Xn(this);var m=this.g.ca();this.X=m;var y=Qi(this);if(this.o=m==200,Gr(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var q=S;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xs(this,u);else{this.o=!1,this.m=3,ue(12),Kn(this),ja(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<y.length;)if(fe=To(this,y),fe==Qn){bt==4&&(this.m=4,ue(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Os){this.m=4,ue(15),fi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),xs(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||y.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,y,"[Invalid Chunked Response]"),Kn(this),ja(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Jr(et),et.P=!0,ue(11))}}else fi(this.i,this.l,y,null),xs(this,y);bt==4&&Kn(this),this.o&&!this.K&&(bt==4?Wr(this.j,this):(this.o=!1,za(this)))}else Za(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Kn(this),ja(this)}}}catch{}finally{}};function Qi(u){if(!he(u))return u.g.la();const m=Ka(u.g);if(m==="")return"";let y="";const S=m.length,z=Ge(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Kn(u),ja(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(z&&q==S-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function To(u,m){var y=u.C,S=m.indexOf(`
`,y);return S==-1?Qn:(y=Number(m.substring(y,S)),isNaN(y)?Os:(S+=1,S+y>m.length?Qn:(m=m.slice(S,S+y),u.C=S+y,m)))}In.prototype.cancel=function(){this.K=!0,Kn(this)};function za(u){u.T=Date.now()+u.H,Yn(u,u.H)}function Yn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ki(_(u.aa,u),m)}function Xn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vc(this.i,this.B),this.M!=2&&(Bi(),ue(17)),Kn(this),this.m=2,ja(this)):Yn(this,this.T-u)};function ja(u){u.j.I==0||u.K||Wr(u.j,u)}function Kn(u){Xn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ke(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xs(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||Ga(y.h,u))){if(!u.L&&Ga(y.h,u)&&y.I==3){try{var S=y.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)Gs(y),Zn(y);else break t;$r(y),ue(18)}}else y.xa=z[1],0<y.xa-y.K&&z[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=ki(_(y.Va,y),6e3));yn(y.h)<=1&&y.ta&&(y.ta=void 0)}else _i(y,11)}else if((u.L||y.g==u)&&Gs(y),!C(m))for(z=y.Ba.g.parse(m),m=0;m<z.length;m++){let kt=z[m];const fe=kt[0];if(!(fe<=y.K))if(y.K=fe,kt=kt[1],y.I==2)if(kt[0]=="c"){y.M=kt[1],y.ba=kt[2];const rn=kt[3];rn!=null&&(y.ka=rn,y.j.info("VER="+y.ka));const $n=kt[4];$n!=null&&(y.za=$n,y.j.info("SVER="+y.za));const On=kt[5];On!=null&&typeof On=="number"&&On>0&&(S=1.5*On,y.O=S,y.j.info("backChannelRequestTimeoutMs_="+S)),S=y;const xn=u.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var q=S.h;q.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Us(q,q.h),q.h=null))}if(S.G){const el=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.wa=el,Qt(S.J,S.G,el))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),S=y;var et=u;if(S.na=Oo(S,S.L?S.ba:null,S.W),et.L){mi(S.h,et);var bt=et,te=S.O;te&&(bt.H=te),bt.D&&(Xn(bt),za(bt)),S.g=et}else Do(S);y.i.length>0&&ts(y)}else kt[0]!="stop"&&kt[0]!="close"||_i(y,7);else y.I==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?_i(y,7):Ja(y):kt[0]!="noop"&&y.l&&y.l.qa(kt),y.A=0)}}Bi(4)}catch{}}var Oc=class{constructor(u,m){this.g=u,this.map=m}};function Ba(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ka(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yn(u){return u.h?1:u.g?u.g.size:0}function Ga(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Us(u,m){u.g?u.g.add(m):u.h=m}function mi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ba.prototype.cancel=function(){if(this.i=Ls(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ls(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return G(u.i)}var Ps=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const S=u[y].indexOf("=");let z,q=null;S>=0?(z=u[y].substring(0,S),q=u[y].substring(S+1)):z=u[y],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Fi(this,u.j),this.o=u.o,this.g=u.g,qa(this,u.u),this.h=u.h,Yi(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(Ps))?(this.l=!1,Fi(this,m[1]||"",!0),this.o=Ha(m[2]||""),this.g=Ha(m[3]||"",!0),qa(this,m[4]),this.h=Ha(m[5]||"",!0),Yi(this,m[6]||"",!0),this.m=Ha(m[7]||"")):(this.l=!1,this.i=new _n(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ne(m,Hr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ne(m,Hr,!0),"@"),u.push(Pa(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ne(y,y.charAt(0)=="/"?Xi:Qr,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ne(y,bo)),u.join("")},Vn.prototype.resolve=function(u){const m=ie(this);let y=!!u.j;y?Fi(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var S=u.h;if(y)qa(m,u.u);else if(y=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=m.h.lastIndexOf("/");z!=-1&&(S=m.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let et=0;et<z.length;){const bt=z[et++];bt=="."?S&&et==z.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&et==z.length&&q.push("")):(q.push(bt),S=!0)}S=q.join("/")}else S=z}return y?m.h=S:y=u.i.toString()!=="",y?Yi(m,Ro(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ie(u){return new Vn(u)}function Fi(u,m,y){u.j=y?Ha(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qa(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yi(u,m,y){m instanceof _n?(u.i=m,Xr(u.i,u.l)):(y||(m=Ne(m,So)),u.i=new _n(m,u.l))}function Qt(u,m,y){u.i.set(m,y)}function gi(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ha(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ne(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,qr),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qr(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hr=/[#\/\?@]/g,Qr=/[#\?:]/g,Xi=/[#\?]/g,So=/[#\?@]/g,bo=/#/g;function _n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&xc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}s=_n.prototype,s.add=function(u,m){pi(this),this.i=null,u=Mn(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Fr(u,m){pi(u),m=Mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yr(u,m){return pi(u),m=Mn(u,m),u.g.has(m)}s.forEach=function(u,m){pi(this),this.g.forEach(function(y,S){y.forEach(function(z){u.call(m,z,S,this)},this)},this)};function zs(u,m){pi(u);let y=[];if(typeof m=="string")Yr(u,m)&&(y=y.concat(u.g.get(Mn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}s.set=function(u,m){return pi(this),this.i=null,u=Mn(this,u),Yr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=zs(this,u),u.length>0?String(u[0]):m):m};function Ao(u,m,y){Fr(u,m),y.length>0&&(u.i=null,u.g.set(Mn(u,m),G(y)),u.h+=y.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var y=m[S];const z=Pa(y);y=zs(this,y);for(let q=0;q<y.length;q++){let et=z;y[q]!==""&&(et+="="+Pa(y[q])),u.push(et)}}return this.i=u.join("&")};function Ro(u){const m=new _n;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Xr(u,m){m&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(y,S){const z=S.toLowerCase();S!=z&&(Fr(this,S),Ao(this,z,y))},u)),u.j=m}function Kr(u,m){const y=new Gi;if(d.Image){const S=new Image;S.onload=T(Ke,y,"TestLoadImage: loaded",!0,m,S),S.onerror=T(Ke,y,"TestLoadImage: error",!1,m,S),S.onabort=T(Ke,y,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(Ke,y,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Ki(u,m){const y=new Gi,S=new AbortController,z=setTimeout(()=>{S.abort(),Ke(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(z),q.ok?Ke(y,"TestPingServer: ok",!0,m):Ke(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Ke(y,"TestPingServer: error",!1,m)})}function Ke(u,m,y,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(y)}catch{}}function wo(){this.g=new Ic}function Qa(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Qa,_o),Qa.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Fa,Se),s=Fa.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ze(this):yi(this),this.readyState==3&&Zi(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Ze(this))},s.Na=function(u){this.g&&(this.response=u,Ze(this))},s.ga=function(){this.g&&Ze(this)};function Ze(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let m="";return Pt(u,function(y,S){m+=S,m+=":",m+=y,m+=`\r
`}),m}function vn(u,m,y){t:{for(S in y){var S=!1;break t}S=!0}S||(y=$i(y),typeof u=="string"?y!=null&&Pa(y):Qt(u,m,y))}function $t(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,Se);var js=/^https?$/i,Co=["POST","PUT"];s=$t.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,y,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():di.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ya(this,q);return}if(u=y||"",y=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)y.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())y.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||S||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ya(this,q)}};function Ya(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xa(u),be(u)}function Xa(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),be(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),be(this,!0)),$t.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},s.Xa=function(){Zr(this)};function Zr(u){if(u.h&&typeof h<"u"){if(u.v&&Ge(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),Ge(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var S;if(S=q===0){let et=String(u.D).match(Ps)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),S=!js.test(et?et.toLowerCase():"")}y=S}if(y)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var z=Ge(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Xa(u)}}finally{be(u)}}}}function be(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ce(u,"ready");try{y.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Ge(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Ge(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Xe(m)}};function Ka(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Za(u){const m={};u=(u.g&&Ge(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(C(u[S]))continue;var y=Mc(u[S]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[z]||[];m[z]=q,q.push(y)}I(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $a(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Bs(u){this.za=0,this.i=[],this.j=new Gi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$a("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$a("baseRetryDelayMs",5e3,u),this.Za=$a("retryDelaySeedMs",1e4,u),this.Ta=$a("forwardChannelMaxRetries",2,u),this.va=$a("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ba(u&&u.concurrentRequestLimit),this.Ba=new wo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Bs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,y,S){ue(0),this.W=u,this.H=m||{},y&&S!==void 0&&(this.H.OSID=y,this.H.OAID=S),this.F=this.X,this.J=Oo(this,null,this.W),ts(this)};function Ja(u){if(Wa(u),u.I==3){var m=u.V++,y=ie(u.J);if(Qt(y,"SID",u.M),Qt(y,"RID",m),Qt(y,"TYPE","terminate"),es(u,y),m=new In(u,u.j,m),m.M=2,m.A=gi(ie(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=qs(m.j,null),m.g.ea(m.A)),m.F=Date.now(),za(m)}Mo(u)}function Zn(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Wa(u){Zn(u),u.v&&(d.clearTimeout(u.v),u.v=null),Gs(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ts(u){if(!ka(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||b(),ut||(tt(),ut=!0),D.add(m,u),u.D=0}}function Uc(u,m){return yn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ki(_(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new In(this,this.j,u);let q=this.o;if(this.U&&(q?(q=$(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var S=this.i[y];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=ks(this,z,m),y=ie(this.J),Qt(y,"RID",u),Qt(y,"CVER",22),this.G&&Qt(y,"X-HTTP-Session-Id",this.G),es(this,y),q&&(this.R?m="headers="+Pa($i(q))+"&"+m:this.u&&vn(y,this.u,q)),Us(this.h,z),this.Ra&&Qt(y,"TYPE","init"),this.S?(Qt(y,"$req",m),Qt(y,"SID","null"),z.U=!0,Fn(z,y,null)):Fn(z,y,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||ka(this.h)||No(this))};function No(u,m){var y;m?y=m.l:y=u.V++;const S=ie(u.J);Qt(S,"SID",u.M),Qt(S,"RID",y),Qt(S,"AID",u.K),es(u,S),u.u&&u.o&&vn(S,u.u,u.o),y=new In(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ks(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Us(u.h,y),Fn(y,S,m)}function es(u,m){u.H&&Pt(u.H,function(y,S){Qt(m,S,y)}),u.l&&Pt({},function(y,S){Qt(m,S,y)})}function ks(u,m,y){y=Math.min(u.i.length,y);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var z=u.i;let bt=-1;for(;;){const te=["count="+y];bt==-1?y>0?(bt=z[0].g,te.push("ofs="+bt)):bt=0:te.push("ofs="+bt);let kt=!0;for(let fe=0;fe<y;fe++){var q=z[fe].g;const rn=z[fe].map;if(q-=bt,q<0)bt=Math.max(0,z[fe].g-100),kt=!1;else try{q="req"+q+"_"||"";try{var et=rn instanceof Map?rn:Object.entries(rn);for(const[$n,On]of et){let xn=On;g(On)&&(xn=gn(On)),te.push(q+$n+"="+encodeURIComponent(xn))}}catch($n){throw te.push(q+"type="+encodeURIComponent("_badmap")),$n}}catch{S&&S(rn)}}if(kt){et=te.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function Do(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||b(),ut||(tt(),ut=!0),D.add(m,u),u.A=0}}function $r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ki(_(u.Da,u),Vo(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ki(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Zn(this),Io(this))};function Jr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),es(u,m),u.u&&u.o&&vn(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=gi(ie(m)),y.u=null,y.R=!0,Hi(y,u)}s.Va=function(){this.C!=null&&(this.C=null,Zn(this),$r(this),ue(19))};function Gs(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wr(u,m){var y=null;if(u.g==m){Gs(u),Jr(u),u.g=null;var S=2}else if(Ga(u.h,m))y=m.G,mi(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;S=Vs(),Ce(S,new Eo(S,y)),ts(u)}else Do(u);else if(z=m.m,z==3||z==0&&m.X>0||!(S==1&&Uc(u,m)||S==2&&$r(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),z){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Vo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),S=u.Ua;const z=!S;S=new Vn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Fi(S,"https"),gi(S),z?Kr(S.toString(),y):Ki(S.toString(),y)}else ue(2);u.I=0,u.l&&u.l.pa(m),Mo(u),Wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Mo(u){if(u.I=0,u.ja=[],u.l){const m=Ls(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Oo(u,m,y){var S=y instanceof Vn?ie(y):new Vn(y);if(S.g!="")m&&(S.g=m+"."+S.g),qa(S,S.u);else{var z=d.location;S=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new Vn(null);S&&Fi(q,S),m&&(q.g=m),z&&qa(q,z),y&&(q.h=y),S=q}return y=u.G,m=u.wa,y&&m&&Qt(S,y,m),Qt(S,"VER",u.ka),es(u,S),S}function qs(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Qa({ab:y})):new $t(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}s=xo.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Hs(){}Hs.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){Se.call(this),this.g=new Bs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A($e,Se),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Ja(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=gn(u),u=y);m.i.push(new Oc(m.Ya++,u)),m.I==3&&ts(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Ja(this.g),delete this.g,$e.Z.N.call(this)};function tl(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(tl,zi);function Uo(){Dn.call(this),this.status=1}A(Uo,Dn);function Ji(u){this.g=u}A(Ji,xo),Ji.prototype.ra=function(){Ce(this.g,"a")},Ji.prototype.qa=function(u){Ce(this.g,new tl(u))},Ji.prototype.pa=function(u){Ce(this.g,new Uo)},Ji.prototype.oa=function(){Ce(this.g,"b")},Hs.prototype.createWebChannel=Hs.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,nv=function(){return new Hs},ev=function(){return Vs()},tv=pn,Xf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,ku=ce,xe.COMPLETE="complete",W_=xe,vo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Ql=vo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,J_=$t}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",zy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Q_("@firebase/firestore");function vr(){return Ts.logLevel}function ot(s,...e){if(Ts.logLevel<=Ut.DEBUG){const i=e.map(Ed);Ts.debug(`Firestore (${Mr}): ${s}`,...i)}}function Oi(s,...e){if(Ts.logLevel<=Ut.ERROR){const i=e.map(Ed);Ts.error(`Firestore (${Mr}): ${s}`,...i)}}function Rr(s,...e){if(Ts.logLevel<=Ut.WARN){const i=e.map(Ed);Ts.warn(`Firestore (${Mr}): ${s}`,...i)}}function Ed(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,iv(s,r,i)}function iv(s,e,i){let r=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Oi(r),new Error(r)}function Bt(s,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,s||iv(e,o,r)}function At(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Vr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Fe.UNAUTHENTICATED)))}shutdown(){}}class eS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nS{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Bt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let h=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Aa,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Aa)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bt(typeof r.accessToken=="string",31837,{l:r}),new av(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string",2055,{h:e}),new Fe(e)}}class iS{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aS{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new iS(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Fe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class jy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sS{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,j1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){Bt(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new jy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(Bt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new jy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rS(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=rS(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(s,e){return s<e?-1:s>e?1:0}function Kf(s,e){const i=Math.min(s.length,e.length);for(let r=0;r<i;r++){const o=s.charAt(r),h=e.charAt(r);if(o!==h)return Pf(o)===Pf(h)?Vt(o,h):Pf(o)?1:-1}return Vt(s.length,e.length)}const lS=55296,oS=57343;function Pf(s){const e=s.charCodeAt(0);return e>=lS&&e<=oS}function wr(s,e,i){return s.length===e.length&&s.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="__name__";class ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=ii.isNumericId(e),o=ii.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ba.fromString(e.substring(4,e.length-2))}}class Wt extends ii{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const uS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class je extends ii{construct(e,i,r){return new je(e,i,r)}static isValidIdentifier(e){return uS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),je.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===By}static keyField(){return new je([By])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new rt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new je(i)}static emptyPath(){return new je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sv(s,e,i){if(!i)throw new rt(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function cS(s,e,i,r){if(e===!0&&r===!0)throw new rt(X.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function ky(s){if(!gt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Gy(s){if(gt.isDocumentKey(s))throw new rt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rv(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function cc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function ai(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(s);throw new rt(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(s,e){const i={typeString:s};return e&&(i.value=e),i}function oo(s,e){if(!rv(s))throw new rt(X.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(X.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Hy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Hy);return new Zt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oo(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Ee("string",Zt._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(e){return new St(e)}static min(){return new St(new Zt(0,0))}static max(){return new St(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function hS(s,e){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new Zt(i+1,0):new Zt(i,r));return new wa(o,gt.empty(),e)}function fS(s){return new wa(s.readTime,s.key,no)}class wa{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new wa(St.min(),gt.empty(),no)}static max(){return new wa(St.max(),gt.empty(),no)}}function dS(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,e.documentKey),i!==0?i:Vt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==mS)throw s;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(p=>r(p)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function pS(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xr(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=-1;function fc(s){return s==null}function Ju(s){return s===0&&1/s==-1/0}function yS(s){return typeof s=="number"&&Number.isInteger(s)&&!Ju(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="";function _S(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Qy(e)),e=vS(s.get(i),e);return Qy(e)}function vS(s,e){let i=e;const r=s.length;for(let o=0;o<r;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case lv:i+="";break;default:i+=h}}return i}function Qy(s){return s+lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Ma(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function ov(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new se(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new se(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new ze(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new se(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(je.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(je.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new uv("Invalid base64 string: "+h):h}})(e);return new Be(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const ES=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(s){if(Bt(!!s,39018),typeof s=="string"){let e=0;const i=ES.exec(s);if(Bt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Na(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="server_timestamp",hv="__type__",fv="__previous_value__",dv="__local_write_time__";function bd(s){return(s?.mapValue?.fields||{})[hv]?.stringValue===cv}function dc(s){const e=s.mapValue.fields[fv];return bd(e)?dc(e):e}function io(s){const e=Ca(s.mapValue.fields[dv].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,i,r,o,h,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Wu="(default)";class ao{constructor(e,i){this.projectId=e,this.database=i||Wu}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===Wu}isEqual(e){return e instanceof ao&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",SS="__max__",zu={mapValue:{}},gv="__vector__",tc="value";function Da(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?bd(s)?4:AS(s)?9007199254740991:bS(s)?10:11:vt(28295,{value:s})}function ci(s,e){if(s===e)return!0;const i=Da(s);if(i!==Da(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return io(s).isEqual(io(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Ca(o.timestampValue),g=Ca(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,h){return Na(o.bytesValue).isEqual(Na(h.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(s,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?Ju(d)===Ju(g):isNaN(d)&&isNaN(g)}return!1})(s,e);case 9:return wr(s.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Fy(d)!==Fy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0})(s,e);default:return vt(52216,{left:s})}}function so(s,e){return(s.values||[]).find((i=>ci(i,e)))!==void 0}function Cr(s,e){if(s===e)return 0;const i=Da(s),r=Da(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(s.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,e);case 3:return Xy(s.timestampValue,e.timestampValue);case 4:return Xy(io(s),io(e));case 5:return Kf(s.stringValue,e.stringValue);case 6:return(function(h,d){const g=Na(h),p=Na(d);return g.compareTo(p)})(s.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Vt(g[_],p[_]);if(T!==0)return T}return Vt(g.length,p.length)})(s.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Vt(ge(h.latitude),ge(d.latitude));return g!==0?g:Vt(ge(h.longitude),ge(d.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Ky(s.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},p=d.fields||{},_=g[tc]?.arrayValue,T=p[tc]?.arrayValue,A=Vt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Ky(_,T)})(s.mapValue,e.mapValue);case 11:return(function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const N=Kf(p[A],T[A]);if(N!==0)return N;const G=Cr(g[p[A]],_[T[A]]);if(G!==0)return G}return Vt(p.length,T.length)})(s.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Xy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Vt(s,e);const i=Ca(s),r=Ca(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function Ky(s,e){const i=s.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Cr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function Nr(s){return Zf(s)}function Zf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=Ca(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Na(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Zf(h);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Gu(s){switch(Da(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(s);return e?16+Gu(e):16;case 5:return 2*s.stringValue.length;case 6:return Na(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+Gu(h)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return Ma(r.fields,((h,d)=>{o+=h.length+Gu(d)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function Zy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function $f(s){return!!s&&"integerValue"in s}function Ad(s){return!!s&&"arrayValue"in s}function $y(s){return!!s&&"nullValue"in s}function Jy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function qu(s){return!!s&&"mapValue"in s}function bS(s){return(s?.mapValue?.fields||{})[mv]?.stringValue===gv}function Zl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return Ma(s.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Zl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(s.arrayValue.values[i]);return e}return{...s}}function AS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===SS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=je.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Zl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ma(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new sn(Zl(this.value))}}function pv(s){const e=[];return Ma(s.fields,((i,r)=>{const o=new je([i]);if(qu(r)){const h=pv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,o,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,St.min(),St.min(),St.min(),sn.empty(),0)}static newFoundDocument(e,i,r,o){return new Ye(e,1,i,St.min(),r,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,St.min(),St.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,St.min(),St.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.position=e,this.inclusive=i}}function Wy(s,e,i){let r=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Cr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ci(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function RS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{}class ve extends yv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new CS(e,i,r):i==="array-contains"?new IS(e,r):i==="in"?new VS(e,r):i==="not-in"?new MS(e,r):i==="array-contains-any"?new OS(e,r):new ve(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new NS(e,r):new DS(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&Da(this.value)===Da(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends yv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new Bn(e,i)}matches(e){return _v(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(s){return s.op==="and"}function vv(s){return wS(s)&&_v(s)}function wS(s){for(const e of s.filters)if(e instanceof Bn)return!1;return!0}function Jf(s){if(s instanceof ve)return s.field.canonicalString()+s.op.toString()+Nr(s.value);if(vv(s))return s.filters.map((e=>Jf(e))).join(",");{const e=s.filters.map((i=>Jf(i))).join(",");return`${s.op}(${e})`}}function Ev(s,e){return s instanceof ve?(function(r,o){return o instanceof ve&&r.op===o.op&&r.field.isEqual(o.field)&&ci(r.value,o.value)})(s,e):s instanceof Bn?(function(r,o){return o instanceof Bn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,g)=>h&&Ev(d,o.filters[g])),!0):!1})(s,e):void vt(19439)}function Tv(s){return s instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Nr(i.value)}`})(s):s instanceof Bn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Tv).join(" ,")+"}"})(s):"Filter"}class CS extends ve{constructor(e,i,r){super(e,i,r),this.key=gt.fromName(r.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class NS extends ve{constructor(e,i){super(e,"in",i),this.keys=Sv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class DS extends ve{constructor(e,i){super(e,"not-in",i),this.keys=Sv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Sv(s,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class IS extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&so(i.arrayValue,this.value)}}class VS extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&so(this.value.arrayValue,i)}}class MS extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(so(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!so(this.value.arrayValue,i)}}class OS extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>so(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e,i=null,r=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function e_(s,e=null,i=[],r=[],o=null,h=null,d=null){return new xS(s,e,i,r,o,h,d)}function Rd(s){const e=At(s);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Jf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Nr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Nr(r))).join(",")),e.Te=i}return e.Te}function wd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!RS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Ev(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!t_(s.startAt,e.startAt)&&t_(s.endAt,e.endAt)}function Wf(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i=null,r=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function US(s,e,i,r,o,h,d,g){return new uo(s,e,i,r,o,h,d,g)}function Cd(s){return new uo(s)}function n_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function bv(s){return s.collectionGroup!==null}function $l(s){const e=At(s);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(je.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new nc(h,r))})),i.has(je.keyField().canonicalString())||e.Ie.push(new nc(je.keyField(),r))}return e.Ie}function si(s){const e=At(s);return e.Ee||(e.Ee=LS(e,$l(s))),e.Ee}function LS(s,e){if(s.limitType==="F")return e_(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new nc(o.field,h)}));const i=s.endAt?new ec(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ec(s.startAt.position,s.startAt.inclusive):null;return e_(s.path,s.collectionGroup,e,s.filters,s.limit,i,r)}}function td(s,e){const i=s.filters.concat([e]);return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function ed(s,e,i){return new uo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function mc(s,e){return wd(si(s),si(e))&&s.limitType===e.limitType}function Av(s){return`${Rd(si(s))}|lt:${s.limitType}`}function Er(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Tv(o))).join(", ")}]`),fc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Nr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Nr(o))).join(",")),`Target(${r})`})(si(s))}; limitType=${s.limitType})`}function gc(s,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(s,e)&&(function(r,o){for(const h of $l(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,$l(r),o)||r.endAt&&!(function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,$l(r),o))})(s,e)}function PS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Rv(s){return(e,i)=>{let r=!1;for(const o of $l(s)){const h=zS(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function zS(s,e,i){const r=s.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,g){const p=d.data.field(h),_=g.data.field(h);return p!==null&&_!==null?Cr(p,_):vt(42886)})(s.field,e,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ma(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new se(gt.comparator);function xi(){return jS}const wv=new se(gt.comparator);function Fl(...s){let e=wv;for(const i of s)e=e.insert(i.key,i);return e}function Cv(s){let e=wv;return s.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _s(){return Jl()}function Nv(){return Jl()}function Jl(){return new Rs((s=>s.toString()),((s,e)=>s.isEqual(e)))}const BS=new se(gt.comparator),kS=new we(gt.comparator);function Mt(...s){let e=kS;for(const i of s)e=e.add(i);return e}const GS=new we(Vt);function qS(){return GS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function Dv(s){return{integerValue:""+s}}function HS(s,e){return yS(e)?Dv(e):Nd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function QS(s,e,i){return s instanceof ic?(function(o,h){const d={fields:{[hv]:{stringValue:cv},[dv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&bd(h)&&(h=dc(h)),h&&(d.fields[fv]=h),{mapValue:d}})(i,e):s instanceof ro?Vv(s,e):s instanceof lo?Mv(s,e):(function(o,h){const d=Iv(o,h),g=i_(d)+i_(o.Ae);return $f(d)&&$f(o.Ae)?Dv(g):Nd(o.serializer,g)})(s,e)}function FS(s,e,i){return s instanceof ro?Vv(s,e):s instanceof lo?Mv(s,e):i}function Iv(s,e){return s instanceof ac?(function(r){return $f(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ic extends pc{}class ro extends pc{constructor(e){super(),this.elements=e}}function Vv(s,e){const i=Ov(e);for(const r of s.elements)i.some((o=>ci(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lo extends pc{constructor(e){super(),this.elements=e}}function Mv(s,e){let i=Ov(e);for(const r of s.elements)i=i.filter((o=>!ci(o,r)));return{arrayValue:{values:i}}}class ac extends pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function i_(s){return ge(s.integerValue||s.doubleValue)}function Ov(s){return Ad(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function YS(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof ro&&o instanceof ro||r instanceof lo&&o instanceof lo?wr(r.elements,o.elements,ci):r instanceof ac&&o instanceof ac?ci(r.Ae,o.Ae):r instanceof ic&&o instanceof ic})(s.transform,e.transform)}class XS{constructor(e,i){this.version=e,this.transformResults=i}}class jn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new jn}static exists(e){return new jn(void 0,e)}static updateTime(e){return new jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class yc{}function xv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Dd(s.key,jn.none()):new co(s.key,s.data,jn.none());{const i=s.data,r=sn.empty();let o=new we(je.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Oa(s.key,r,new mn(o.toArray()),jn.none())}}function KS(s,e,i){s instanceof co?(function(o,h,d){const g=o.value.clone(),p=s_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(s,e,i):s instanceof Oa?(function(o,h,d){if(!Hu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=s_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Uv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Wl(s,e,i,r){return s instanceof co?(function(h,d,g,p){if(!Hu(h.precondition,d))return g;const _=h.value.clone(),T=r_(h.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,e,i,r):s instanceof Oa?(function(h,d,g,p){if(!Hu(h.precondition,d))return g;const _=r_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Uv(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(s,e,i,r):(function(h,d,g){return Hu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(s,e,i)}function ZS(s,e){let i=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),h=Iv(r.transform,o||null);h!=null&&(i===null&&(i=sn.empty()),i.set(r.field,h))}return i||null}function a_(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wr(r,o,((h,d)=>YS(h,d)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class co extends yc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Oa extends yc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(s){const e=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);e.set(i,r)}})),e}function s_(s,e,i){const r=new Map;Bt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);r.set(h.field,FS(d,g,i[o]))}return r}function r_(s,e,i){const r=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);r.set(o.field,QS(h,d,e))}return r}class Dd extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $S extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&KS(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Nv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=xv(d,g);p!==null&&r.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,((i,r)=>a_(i,r)))&&wr(this.baseMutations,e.baseMutations,((i,r)=>a_(i,r)))}}class Id{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){Bt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return BS})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Id(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,xt;function eb(s){switch(s){case X.OK:return vt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function Lv(s){if(s===void 0)return Oi("GRPC error has no .code"),X.UNKNOWN;switch(s){case _e.OK:return X.OK;case _e.CANCELLED:return X.CANCELLED;case _e.UNKNOWN:return X.UNKNOWN;case _e.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case _e.INTERNAL:return X.INTERNAL;case _e.UNAVAILABLE:return X.UNAVAILABLE;case _e.UNAUTHENTICATED:return X.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case _e.NOT_FOUND:return X.NOT_FOUND;case _e.ALREADY_EXISTS:return X.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return X.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case _e.ABORTED:return X.ABORTED;case _e.OUT_OF_RANGE:return X.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return X.UNIMPLEMENTED;case _e.DATA_LOSS:return X.DATA_LOSS;default:return vt(39323,{code:s})}}(xt=_e||(_e={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new ba([4294967295,4294967295],0);function l_(s){const e=nb().encode(s),i=new $_;return i.update(e),new Uint8Array(i.digest())}function o_(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new ba([i,r],0),new ba([o,h],0)]}class Vd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=ba.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(ba.fromNumber(r)));return o.compare(ib)===1&&(o=new ba([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l_(e),[r,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=l_(e),[r,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new _c(St.min(),o,new se(Vt),xi(),Mt())}}class ho{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ho(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class zv{constructor(e,i,r=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new ho(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Bt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ab{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=ju(),this.He=ju(),this.Ye=new se(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Wf(h))if(r===0){const d=new gt(h.path);this.et(i,d,Ye.newNoDocument(d,St.min()))}else Bt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Na(r).toUint8Array()}catch(p){if(p instanceof uv)return Rr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Vd(d,o,h)}catch(p){return Rr(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Wf(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ye.newNoDocument(p,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new _c(e,i,this.Ye,this.je,r);return this.je=xi(),this.Je=ju(),this.He=ju(),this.Ye=new se(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new u_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function ju(){return new se(gt.comparator)}function c_(){return new se(gt.comparator)}const sb={asc:"ASCENDING",desc:"DESCENDING"},rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lb={and:"AND",or:"OR"};class ob{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(s,e){return s.useProto3Json||fc(e)?e:{value:e}}function sc(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function ub(s,e){return sc(s,e.toTimestamp())}function ri(s){return Bt(!!s,49232),St.fromTimestamp((function(i){const r=Ca(i);return new Zt(r.seconds,r.nanos)})(s))}function Md(s,e){return id(s,e).canonicalString()}function id(s,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?i:i.child(e)}function Bv(s){const e=Wt.fromString(s);return Bt(Qv(e),10190,{key:e.toString()}),e}function ad(s,e){return Md(s.databaseId,e.path)}function zf(s,e){const i=Bv(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(Gv(i))}function kv(s,e){return Md(s.databaseId,e)}function cb(s){const e=Bv(s);return e.length===4?Wt.emptyPath():Gv(e)}function sd(s){return new Wt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function Gv(s){return Bt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function h_(s,e,i){return{name:ad(s,e),fields:i.value.mapValue.fields}}function hb(s,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,T){return _.useProto3Json?(Bt(T===void 0||typeof T=="string",58123),Be.fromBase64String(T||"")):(Bt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Be.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?X.UNKNOWN:Lv(_.code);return new rt(T,_.message||"")})(d);i=new zv(r,o,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zf(s,r.document.name),h=ri(r.document.updateTime),d=r.document.createTime?ri(r.document.createTime):St.min(),g=new sn({mapValue:{fields:r.document.fields}}),p=Ye.newFoundDocument(o,h,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Qu(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zf(s,r.document),h=r.readTime?ri(r.readTime):St.min(),d=Ye.newNoDocument(o,h),g=r.removedTargetIds||[];i=new Qu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zf(s,r.document),h=r.removedTargetIds||[];i=new Qu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new tb(o,h),g=r.targetId;i=new Pv(g,d)}}return i}function fb(s,e){let i;if(e instanceof co)i={update:h_(s,e.key,e.value)};else if(e instanceof Dd)i={delete:ad(s,e.key)};else if(e instanceof Oa)i={update:h_(s,e.key,e.data),updateMask:Tb(e.fieldMask)};else{if(!(e instanceof $S))return vt(16599,{Vt:e.type});i={verify:ad(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ac)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:ub(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(s,e.precondition)),i}function db(s,e){return s&&s.length>0?(Bt(e!==void 0,14353),s.map((i=>(function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(St.min())&&(d=ri(h)),new XS(d,o.transformResults||[])})(i,e)))):[]}function mb(s,e){return{documents:[kv(s,e.path)]}}function gb(s,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=kv(s,o);const h=(function(_){if(_.length!==0)return Hv(Bn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:Tr(N.field),direction:_b(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function pb(s){let e=cb(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){Bt(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const N=qv(A);return N instanceof Bn&&vv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(W){return new nc(Sr(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,fc(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(A){const N=!!A.before,G=A.values||[];return new ec(G,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,G=A.values||[];return new ec(G,N)})(i.endAt)),US(e,o,d,h,g,"F",p,_)}function yb(s,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qv(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Sr(i.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Sr(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Sr(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Sr(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ve.create(Sr(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Bn.create(i.compositeFilter.filters.map((r=>qv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(s):vt(30097,{filter:s})}function _b(s){return sb[s]}function vb(s){return rb[s]}function Eb(s){return lb[s]}function Tr(s){return{fieldPath:s.canonicalString()}}function Sr(s){return je.fromServerFormat(s.fieldPath)}function Hv(s){return s instanceof ve?(function(i){if(i.op==="=="){if(Jy(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jy(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(i.field),op:vb(i.op),value:i.value}}})(s):s instanceof Bn?(function(i){const r=i.getFilters().map((o=>Hv(o)));return r.length===1?r[0]:{compositeFilter:{op:Eb(i.op),filters:r}}})(s):vt(54877,{filter:s})}function Tb(s){const e=[];return s.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Qv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i,r,o,h=St.min(),d=St.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Ea(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ea(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e){this.yt=e}}function bb(s){const e=pb({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(){this.Cn=new Rb}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(wa.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class Rb{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fv=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(Fv,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dr(0)}static cr(){return new Dr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",wb=1048576;function m_([s,e],[i,r]){const o=Vt(s,i);return o===0?Vt(e,r):o}class Cb{constructor(e){this.Ir=e,this.buffer=new we(m_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();m_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Nb{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xr(i)?ot(d_,"Ignoring IndexedDB error during garbage collection: ",i):await Or(i)}await this.Vr(3e5)}))}}class Db{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(hc.ce);const r=new Cb(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(f_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(h=A,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),vr()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function Ib(s,e){return new Db(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(){this.changes=new Rs((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Wl(r.mutation,o,mn.empty(),Zt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Mt()){const o=_s();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Fl();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_s();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Mt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let h=xi();const d=Jl(),g=(function(){return Jl()})();return i.forEach(((p,_)=>{const T=r.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Oa)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Wl(T.mutation,_,T.mutation.getFieldMask(),Zt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new Mb(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Jl();let o=new se(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=r.get(p)||mn.empty();T=g.applyToLocalView(_,T),r.set(p,T);const A=(o.get(g.batchId)||Mt()).add(p);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,A=Nv();T.forEach((N=>{if(!h.has(N)){const G=xv(i.get(N),r.get(N));G!==null&&A.set(N,G),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):bv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(_s());let g=no,p=h;return d.next((_=>Z.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,p,_,Mt()))).next((T=>({batchId:g,changes:Cv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Fl();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(p=>{const _=(function(A,N){return new uo(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))}));let g=Fl();return d.forEach(((p,_)=>{const T=h.get(p);T!==void 0&&Wl(T.mutation,_,mn.empty(),Zt.now()),gc(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:bb(o.bundledQuery),readTime:ri(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(){this.overlays=new se(gt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_s();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=_s(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>r&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new se(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=h.get(_.largestBatchId);T===null&&(T=_s(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=_s(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new WS(i,r));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Me(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new gt(new Wt([])),r=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),r=new Me(i,e),o=new Me(i,e+1);let h=Mt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new JS(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Sd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new we(Vt);return i.forEach((o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new gt(h),0);let g=new we(Vt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){Bt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Me(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Me(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.ri=e,this.docs=(function(){return new se(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=xi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=xi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||dS(fS(T),r)<=0||(o.has(T.key)||gc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){vt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new jb(this)}getSize(e){return Z.resolve(this.size)}}class jb extends Vb{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e){this.persistence=e,this.si=new Rs((i=>Rd(i)),wd),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Od,this.targetCount=0,this.ai=Dr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Dr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.ui={},this.overlays={},this.ci=new hc(0),this.li=!1,this.li=!0,this.hi=new Lb,this.referenceDelegate=e(this),this.Pi=new Bb(this),this.indexManager=new Ab,this.remoteDocumentCache=(function(o){return new zb(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Sb(i),this.Ii=new xb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new Ub,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new Pb(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ot("MemoryPersistence","Starting transaction:",e);const o=new kb(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class kb extends gS{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Od,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new Rs((r=>_S(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=Ib(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,h.removeEntry(d,St.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Gu(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ud(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LT()?8:pS(xT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new Gb;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(vr()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Er(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(vr()<=Ut.DEBUG&&ot("QueryEngine","Query:",Er(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vr()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Er(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):Z.resolve())}ys(e,i){if(n_(i))return Z.resolve(null);let r=si(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),r=si(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,r,o){return n_(i)||o.isEqual(St.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(vr()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Er(i)),this.vs(e,d,i,hS(o,no)).next((g=>g)))}))}Ds(e,i){let r=new we(Rv(e));return i.forEach(((o,h)=>{gc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return vr()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Er(i)),this.ps.getDocumentsMatchingQuery(e,i,wa.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",Hb=3e8;class Qb{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new se(Vt),this.xs=new Rs((h=>Rd(h)),wd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ob(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function Fb(s,e,i,r){return new Qb(s,e,i,r)}async function Xv(s,e){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let p=Mt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of h){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Yb(s,e){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const A=_.batch,N=A.keys();let G=Z.resolve();return N.forEach((W=>{G=G.next((()=>T.getEntry(p,W))).next((nt=>{const J=_.docVersions.get(W);Bt(J!==null,48541),nt.version.compareTo(J)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),T.addEntry(nt)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Kv(s){const e=At(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function Xb(s,e){const i=At(s),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const N=o.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,A))));let G=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?G=G.withResumeToken(Be.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,r)),o=o.insert(A,G),(function(nt,J,ft){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Hb?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,G,T)&&g.push(i.Pi.updateTargetData(h,G))}));let p=xi(),_=Mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(Kb(h,d,e.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(St.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,_))).next((()=>p))})).then((h=>(i.Ms=o,h)))}function Kb(s,e,i){let r=Mt(),o=Mt();return i.forEach((h=>r=r.add(h))),e.getEntries(s,r).next((h=>{let d=xi();return i.forEach(((g,p)=>{const _=h.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(Ld,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function Zb(s,e){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $b(s,e){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Ea(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function rd(s,e,i){const r=At(s),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xr(d))throw d;ot(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function g_(s,e,i){const r=At(s);let o=St.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const A=At(p),N=A.xs.get(T);return N!==void 0?Z.resolve(A.Ms.get(N)):A.Pi.getTargetData(_,T)})(r,d,si(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:St.min(),i?h:Mt()))).next((g=>(Jb(r,PS(e),g),{documents:g,Qs:h})))))}function Jb(s,e,i){let r=s.Os.get(e)||St.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),s.Os.set(e,r)}class p_{constructor(){this.activeTargetIds=qS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wb{constructor(){this.Mo=new p_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bu=null;function ld(){return Bu===null?Bu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Bu++,"0x"+Bu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jf="RestConnection",eA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ld(),g=this.zo(e,i.toUriEncodedString());ot(jf,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,h);const{host:_}=new URL(g),T=_d(_);return this.Jo(e,g,p,r,T).then((A=>(ot(jf,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Rr(jf,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=eA[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class aA extends nA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ld();return new Promise(((g,p)=>{const _=new J_;_.setWithCredentials(!0),_.listenOnce(W_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case ku.NO_ERROR:const A=_.getResponseJson();ot(Qe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case ku.TIMEOUT:ot(Qe,`RPC '${e}' ${d} timed out`),p(new rt(X.DEADLINE_EXCEEDED,"Request time out"));break;case ku.HTTP_ERROR:const N=_.getStatus();if(ot(Qe,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const nt=(function(ft){const ht=ft.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ht)>=0?ht:X.UNKNOWN})(W.status);p(new rt(nt,W.message))}else p(new rt(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(X.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Qe,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ot(Qe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nv(),g=ev(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=h.join("");ot(Qe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let N=!1,G=!1;const W=new iA({Yo:J=>{G?ot(Qe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(N||(ot(Qe,`Opening RPC '${e}' stream ${o} transport.`),A.open(),N=!0),ot(Qe,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),nt=(J,ft,ht)=>{J.listen(ft,(F=>{try{ht(F)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return nt(A,Ql.EventType.OPEN,(()=>{G||(ot(Qe,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),nt(A,Ql.EventType.CLOSE,(()=>{G||(G=!0,ot(Qe,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),nt(A,Ql.EventType.ERROR,(J=>{G||(G=!0,Rr(Qe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new rt(X.UNAVAILABLE,"The operation could not be completed")))})),nt(A,Ql.EventType.MESSAGE,(J=>{if(!G){const ft=J.data[0];Bt(!!ft,16349);const ht=ft,F=ht?.error||ht[0]?.error;if(F){ot(Qe,`RPC '${e}' stream ${o} received error:`,F);const lt=F.status;let tt=(function(b){const w=_e[b];if(w!==void 0)return Lv(w)})(lt),ut=F.message;tt===void 0&&(tt=X.INTERNAL,ut="Unknown error status: "+lt+" with message "+F.message),G=!0,W.a_(new rt(tt,ut)),A.close()}else ot(Qe,`RPC '${e}' stream ${o} received:`,ft),W.u_(ft)}})),nt(g,tv.STAT_EVENT,(J=>{J.stat===Xf.PROXY?ot(Qe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Xf.NOPROXY&&ot(Qe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function Bf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(s){return new ob(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class $v{constructor(e,i,r,o,h,d,g,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class sA extends $v{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hb(this.serializer,e),r=(function(h){if(!("targetChange"in h))return St.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ri(d.readTime):St.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=Wf(p)?{documents:mb(h,p)}:{query:gb(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=jv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(St.min())>0){g.readTime=sc(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=yb(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.q_(i)}}class rA extends $v{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return Bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=db(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=sd(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>fb(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{}class oA extends lA{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(X.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,id(i,r),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(X.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="RemoteStore";class cA{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{ws(this)&&(ot(Ss,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ea.add(4),await fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ec(_)})(this))}))})),this.Ra=new uA(r,o)}}async function Ec(s){if(ws(s))for(const e of s.da)await e(!0)}async function fo(s){for(const e of s.da)await e(!1)}function Jv(s,e){const i=At(s);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Bd(i)?jd(i):Ur(i).O_()&&zd(i,e))}function Pd(s,e){const i=At(s),r=Ur(i);i.Ia.delete(e),r.O_()&&Wv(i,e),i.Ia.size===0&&(r.O_()?r.L_():ws(i)&&i.Ra.set("Unknown"))}function zd(s,e){if(s.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(St.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ur(s).Y_(e)}function Wv(s,e){s.Va.Ue(e),Ur(s).Z_(e)}function jd(s){s.Va=new ab({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Ur(s).start(),s.Ra.ua()}function Bd(s){return ws(s)&&!Ur(s).x_()&&s.Ia.size>0}function ws(s){return At(s).Ea.size===0}function tE(s){s.Va=void 0}async function hA(s){s.Ra.set("Online")}async function fA(s){s.Ia.forEach(((e,i)=>{zd(s,e)}))}async function dA(s,e){tE(s),Bd(s)?(s.Ra.ha(e),jd(s)):s.Ra.set("Unknown")}async function mA(s,e,i){if(s.Ra.set("Online"),e instanceof zv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(s,e)}catch(r){ot(Ss,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lc(s,r)}else if(e instanceof Qu?s.Va.Ze(e):e instanceof Pv?s.Va.st(e):s.Va.tt(e),!i.isEqual(St.min()))try{const r=await Kv(s.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ia.get(_);T&&h.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=h.Ia.get(p);if(!T)return;h.Ia.set(p,T.withResumeToken(Be.EMPTY_BYTE_STRING,T.snapshotVersion)),Wv(h,p);const A=new Ea(T.target,p,_,T.sequenceNumber);zd(h,A)})),h.remoteSyncer.applyRemoteEvent(g)})(s,i)}catch(r){ot(Ss,"Failed to raise snapshot:",r),await lc(s,r)}}async function lc(s,e,i){if(!xr(e))throw e;s.Ea.add(1),await fo(s),s.Ra.set("Offline"),i||(i=()=>Kv(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ot(Ss,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ec(s)}))}function eE(s,e){return e().catch((i=>lc(s,i,e)))}async function Tc(s){const e=At(s),i=Ia(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sd;for(;gA(e);)try{const o=await Zb(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,pA(e,o)}catch(o){await lc(e,o)}nE(e)&&iE(e)}function gA(s){return ws(s)&&s.Ta.length<10}function pA(s,e){s.Ta.push(e);const i=Ia(s);i.O_()&&i.X_&&i.ea(e.mutations)}function nE(s){return ws(s)&&!Ia(s).x_()&&s.Ta.length>0}function iE(s){Ia(s).start()}async function yA(s){Ia(s).ra()}async function _A(s){const e=Ia(s);for(const i of s.Ta)e.ea(i.mutations)}async function vA(s,e,i){const r=s.Ta.shift(),o=Id.from(r,e,i);await eE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Tc(s)}async function EA(s,e){e&&Ia(s).X_&&await(async function(r,o){if((function(d){return eb(d)&&d!==X.ABORTED})(o.code)){const h=r.Ta.shift();Ia(r).B_(),await eE(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Tc(r)}})(s,e),nE(s)&&iE(s)}async function E_(s,e){const i=At(s);i.asyncQueue.verifyOperationInProgress(),ot(Ss,"RemoteStore received new credentials");const r=ws(i);i.Ea.add(3),await fo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ec(i)}async function TA(s,e){const i=At(s);e?(i.Ea.delete(2),await Ec(i)):e||(i.Ea.add(2),await fo(i),i.Ra.set("Unknown"))}function Ur(s){return s.ma||(s.ma=(function(i,r,o){const h=At(i);return h.sa(),new sA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:hA.bind(null,s),t_:fA.bind(null,s),r_:dA.bind(null,s),H_:mA.bind(null,s)}),s.da.push((async e=>{e?(s.ma.B_(),Bd(s)?jd(s):s.Ra.set("Unknown")):(await s.ma.stop(),tE(s))}))),s.ma}function Ia(s){return s.fa||(s.fa=(function(i,r,o){const h=At(i);return h.sa(),new rA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:yA.bind(null,s),r_:EA.bind(null,s),ta:_A.bind(null,s),na:vA.bind(null,s)}),s.da.push((async e=>{e?(s.fa.B_(),await Tc(s)):(await s.fa.stop(),s.Ta.length>0&&(ot(Ss,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,g=new kd(e,i,d,o,h);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gd(s,e){if(Oi("AsyncQueue",`${e}: ${s}`),xr(s))return new rt(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{static emptySet(e){return new Ar(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Fl(),this.sortedSet=new se(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ar;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new se(gt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ir{constructor(e,i,r,o,h,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ir(e,i,Ar.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class bA{constructor(){this.queries=S_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=S_(),h.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new rt(X.ABORTED,"Firestore shutting down"))}}function S_(){return new Rs((s=>Av(s)),mc)}async function aE(s,e){const i=At(s);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new SA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=Gd(d,`Initialization of query '${Er(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function sE(s,e){const i=At(s),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function AA(s,e){const i=At(s);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&qd(i)}function RA(s,e,i){const r=At(s),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function qd(s){s.Ca.forEach((e=>{e.next()}))}var od,b_;(b_=od||(od={})).Ma="default",b_.Cache="cache";class rE{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ir(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ir.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e){this.key=e}}class oE{constructor(e){this.key=e}}class wA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Rv(e),this.tu=new Ar(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new T_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const N=o.get(T),G=gc(this.query,A)?A:null,W=!!N&&this.mutatedKeys.has(N.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;N&&G?N.data.isEqual(G.data)?W!==nt&&(r.track({type:3,doc:G}),J=!0):this.su(N,G)||(r.track({type:2,doc:G}),J=!0,(p&&this.eu(G,p)>0||_&&this.eu(G,_)<0)&&(g=!0)):!N&&G?(r.track({type:0,doc:G}),J=!0):N&&!G&&(r.track({type:1,doc:N}),J=!0,(p||_)&&(g=!0)),J&&(G?(d=d.add(G),h=nt?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(G,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return nt(G)-nt(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new Ir(this.query,e.tu,h,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new oE(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new lE(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ir.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hd="SyncEngine";class CA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class NA{constructor(e){this.key=e,this.hu=!1}}class DA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Rs((g=>Av(g)),mc),this.Iu=new Map,this.Eu=new Set,this.du=new se(gt.comparator),this.Au=new Map,this.Ru=new Od,this.Vu={},this.mu=new Map,this.fu=Dr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IA(s,e,i=!0){const r=mE(s);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await uE(r,e,i,!0),o}async function VA(s,e){const i=mE(s);await uE(i,e,!0,!1)}async function uE(s,e,i,r){const o=await $b(s.localStore,si(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await MA(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Jv(s.remoteStore,o),g}async function MA(s,e,i,r,o){s.pu=(A,N,G)=>(async function(nt,J,ft,ht){let F=J.view.ru(ft);F.Cs&&(F=await g_(nt.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,F))));const lt=ht&&ht.targetChanges.get(J.targetId),tt=ht&&ht.targetMismatches.get(J.targetId)!=null,ut=J.view.applyChanges(F,nt.isPrimaryClient,lt,tt);return R_(nt,J.targetId,ut.au),ut.snapshot})(s,A,N,G);const h=await g_(s.localStore,e,!0),d=new wA(e,h.Qs),g=d.ru(h.documents),p=ho.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",o),_=d.applyChanges(g,s.isPrimaryClient,p);R_(s,i,_.au);const T=new CA(e,i,d);return s.Tu.set(e,T),s.Iu.has(i)?s.Iu.get(i).push(e):s.Iu.set(i,[e]),_.snapshot}async function OA(s,e,i){const r=At(s),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!mc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Pd(r.remoteStore,o.targetId),ud(r,o.targetId)})).catch(Or)):(ud(r,o.targetId),await rd(r.localStore,o.targetId,!0))}async function xA(s,e){const i=At(s),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Pd(i.remoteStore,r.targetId))}async function UA(s,e,i){const r=GA(s);try{const o=await(function(d,g){const p=At(d),_=Zt.now(),T=g.reduce(((G,W)=>G.add(W.key)),Mt());let A,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=xi(),nt=Mt();return p.Ns.getEntries(G,T).next((J=>{W=J,W.forEach(((ft,ht)=>{ht.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>p.localDocuments.getOverlayedDocuments(G,W))).next((J=>{A=J;const ft=[];for(const ht of g){const F=ZS(ht,A.get(ht.key).overlayedDocument);F!=null&&ft.push(new Oa(ht.key,F,pv(F.value.mapValue),jn.exists(!0)))}return p.mutationQueue.addMutationBatch(G,_,ft,g)})).next((J=>{N=J;const ft=J.applyToLocalDocumentSet(A,nt);return p.documentOverlayCache.saveOverlays(G,J.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:Cv(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new se(Vt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await mo(r,o.changes),await Tc(r.remoteStore)}catch(o){const h=Gd(o,"Failed to persist write");i.reject(h)}}async function cE(s,e){const i=At(s);try{const r=await Xb(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Bt(d.hu,14607):o.removedDocuments.size>0&&(Bt(d.hu,42227),d.hu=!1))})),await mo(i,r,e)}catch(r){await Or(r)}}function A_(s,e,i){const r=At(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,A)=>{for(const N of A.Sa)N.va(g)&&(_=!0)})),_&&qd(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LA(s,e,i){const r=At(s);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new se(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,St.min()));const g=Mt().add(h),p=new _c(St.min(),new Map,new se(Vt),d,g);await cE(r,p),r.du=r.du.remove(h),r.Au.delete(e),Qd(r)}else await rd(r.localStore,e,!1).then((()=>ud(r,e,i))).catch(Or)}async function PA(s,e){const i=At(s),r=e.batch.batchId;try{const o=await Yb(i.localStore,e);fE(i,r,null),hE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mo(i,o)}catch(o){await Or(o)}}async function zA(s,e,i){const r=At(s);try{const o=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(Bt(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);fE(r,e,i),hE(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await mo(r,o)}catch(o){await Or(o)}}function hE(s,e){(s.mu.get(e)||[]).forEach((i=>{i.resolve()})),s.mu.delete(e)}function fE(s,e,i){const r=At(s);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ud(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(e),s.isPrimaryClient&&s.Ru.jr(e).forEach((r=>{s.Ru.containsKey(r)||dE(s,r)}))}function dE(s,e){s.Eu.delete(e.path.canonicalString());const i=s.du.get(e);i!==null&&(Pd(s.remoteStore,i),s.du=s.du.remove(e),s.Au.delete(i),Qd(s))}function R_(s,e,i){for(const r of i)r instanceof lE?(s.Ru.addReference(r.key,e),jA(s,r)):r instanceof oE?(ot(Hd,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,e),s.Ru.containsKey(r.key)||dE(s,r.key)):vt(19791,{wu:r})}function jA(s,e){const i=e.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(ot(Hd,"New document in limbo: "+i),s.Eu.add(r),Qd(s))}function Qd(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const i=new gt(Wt.fromString(e)),r=s.fu.next();s.Au.set(r,new NA(i)),s.du=s.du.insert(i,r),Jv(s.remoteStore,new Ea(si(Cd(i.path)),r,"TargetPurposeLimboResolution",hc.ce))}}async function mo(s,e,i){const r=At(s),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){o.push(_);const T=Ud.As(p.targetId,_);h.push(T)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(N=>Z.forEach(N.Es,(G=>T.persistence.referenceDelegate.addReference(A,N.targetId,G))).next((()=>Z.forEach(N.ds,(G=>T.persistence.referenceDelegate.removeReference(A,N.targetId,G)))))))))}catch(A){if(!xr(A))throw A;ot(Ld,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const G=T.Ms.get(N),W=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(N,nt)}}})(r.localStore,h))}async function BA(s,e){const i=At(s);if(!i.currentUser.isEqual(e)){ot(Hd,"User change. New user:",e.toKey());const r=await Xv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(X.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mo(i,r.Ls)}}function kA(s,e){const i=At(s),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function mE(s){const e=At(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=cE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LA.bind(null,e),e.Pu.H_=AA.bind(null,e.eventManager),e.Pu.yu=RA.bind(null,e.eventManager),e}function GA(s){const e=At(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zA.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return Fb(this.persistence,new qb,e.initialUser,this.serializer)}Cu(e){return new Yv(xd.mi,this.serializer)}Du(e){return new Wb}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class qA extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){Bt(this.persistence.referenceDelegate instanceof rc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Nb(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Yv((r=>rc.mi(r,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BA.bind(null,this.syncEngine),await TA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new bA})()}createDatastore(e){const i=vc(e.databaseInfo.databaseId),r=(function(h){return new aA(h)})(e.databaseInfo);return(function(h,d,g,p){return new oA(h,d,g,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,g){return new cA(r,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>A_(this.syncEngine,i,0)),(function(){return __.v()?new __:new tA})())}createSyncEngine(e,i){return(function(o,h,d,g,p,_,T){const A=new DA(o,h,d,g,p,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);ot(Ss,"RemoteStore shutting down."),r.Ea.add(5),await fo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="FirestoreClient";class HA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(Va,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(Va,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Gd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function kf(s,e){s.asyncQueue.verifyOperationInProgress(),ot(Va,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Xv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function w_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await QA(s);ot(Va,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener((r=>E_(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>E_(e.remoteStore,o))),s._onlineComponents=e}async function QA(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ot(Va,"Using user provided OfflineComponentProvider");try{await kf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Rr("Error using user provided cache. Falling back to memory cache: "+i),await kf(s,new oc)}}else ot(Va,"Using default OfflineComponentProvider"),await kf(s,new qA(void 0));return s._offlineComponents}async function pE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ot(Va,"Using user provided OnlineComponentProvider"),await w_(s,s._uninitializedComponentsProvider._online)):(ot(Va,"Using default OnlineComponentProvider"),await w_(s,new cd))),s._onlineComponents}function FA(s){return pE(s).then((e=>e.syncEngine))}async function hd(s){const e=await pE(s),i=e.eventManager;return i.onListen=IA.bind(null,e.syncEngine),i.onUnlisten=OA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=VA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xA.bind(null,e.syncEngine),i}function YA(s,e,i={}){const r=new Aa;return s.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,p,_){const T=new gE({next:N=>{T.Nu(),d.enqueueAndForget((()=>sE(h,A))),N.fromCache&&p.source==="server"?_.reject(new rt(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),A=new rE(g,T,{includeMetadataChanges:!0,qa:!0});return aE(h,A)})(await hd(s),s.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="firestore.googleapis.com",N_=!0;class D_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_E,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wb)throw new rt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yE(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tS;switch(r.type){case"firstParty":return new aS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=C_.get(i);r&&(ot("ComponentProvider","Removing Datastore"),C_.delete(i),r.terminate())})(this),Promise.resolve()}}function XA(s,e,i,r={}){s=ai(s,Sc);const o=_d(e),h=s._getSettings(),d={...h,emulatorOptions:s._getEmulatorOptions()},g=`${e}:${i}`;o&&(DT(`https://${g}`),OT("Firestore",!0)),h.host!==_E&&h.host!==g&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:o,emulatorOptions:r};if(!Ku(p,d)&&(s._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Fe.MOCK_USER;else{_=IT(r.mockUserToken,s._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new rt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Fe(A)}s._authCredentials=new eS(new av(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Te{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Te(this.firestore,e,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(oo(i,Te._jsonSchema))return new Te(e,r||null,new gt(Wt.fromString(i.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ee("string",Te._jsonSchemaVersion),referencePath:Ee("string")};class Ra extends Cs{constructor(e,i,r){super(e,i,Cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Te(this.firestore,null,new gt(e))}withConverter(e){return new Ra(this.firestore,e,this._path)}}function kn(s,e,...i){if(s=ui(s),sv("collection","path",e),s instanceof Sc){const r=Wt.fromString(e,...i);return Gy(r),new Ra(s,null,r)}{if(!(s instanceof Te||s instanceof Ra))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return Gy(r),new Ra(s.firestore,null,r)}}function KA(s,e,...i){if(s=ui(s),arguments.length===1&&(e=Td.newId()),sv("doc","path",e),s instanceof Sc){const r=Wt.fromString(e,...i);return ky(r),new Te(s,null,new gt(r))}{if(!(s instanceof Te||s instanceof Ra))throw new rt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(Wt.fromString(e,...i));return ky(r),new Te(s.firestore,s instanceof Ra?s.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zv(this,"async_queue_retry"),this._c=()=>{const r=Bf();r&&ot(I_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=Bf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Bf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Aa;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xr(e))throw e;ot(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",M_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=kd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function M_(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(s,["next","error","complete"])}class bs extends Sc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new V_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function ZA(s,e){const i=typeof s=="object"?s:q1(),r=typeof s=="string"?s:Wu,o=z1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=CT("firestore");h&&XA(o,...h)}return o}function Fd(s){if(s._terminated)throw new rt(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||$A(s),s._firestoreClient}function $A(s){const e=s._freezeSettings(),i=(function(o,h,d,g){return new TS(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,yE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,e);s._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new HA(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(Be.fromBase64String(e))}catch(i){throw new rt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oo(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(oo(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Ee("string",li._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oo(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new rt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ee("string",oi._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=/^__.*__$/;class WA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class vE{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Oa(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function EE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class Xd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Xd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(EE(this.Ac)&&JA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||vc(e)}Cc(e,i,r,o=!1){return new Xd({Ac:e,methodName:i,Dc:r,path:je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Kd(s){const e=s._freezeSettings(),i=vc(s._databaseId);return new t2(s._databaseId,!!e.ignoreUndefinedProperties,i)}function e2(s,e,i,r,o,h={}){const d=s.Cc(h.merge||h.mergeFields?2:0,e,i,o);Zd("Data must be an object, but it was:",d,r);const g=TE(r,d);let p,_;if(h.merge)p=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const N=fd(e,A,i);if(!d.contains(N))throw new rt(X.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);bE(T,N)||T.push(N)}p=new mn(T),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new WA(new sn(g),p,_)}class Ac extends Yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}function n2(s,e,i,r){const o=s.Cc(1,e,i);Zd("Data must be an object, but it was:",o,r);const h=[],d=sn.empty();Ma(r,((p,_)=>{const T=$d(e,p,i);_=ui(_);const A=o.yc(T);if(_ instanceof Ac)h.push(T);else{const N=go(_,A);N!=null&&(h.push(T),d.set(T,N))}}));const g=new mn(h);return new vE(d,g,o.fieldTransforms)}function i2(s,e,i,r,o,h){const d=s.Cc(1,e,i),g=[fd(e,r,i)],p=[o];if(h.length%2!=0)throw new rt(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(fd(e,h[N])),p.push(h[N+1]);const _=[],T=sn.empty();for(let N=g.length-1;N>=0;--N)if(!bE(_,g[N])){const G=g[N];let W=p[N];W=ui(W);const nt=d.yc(G);if(W instanceof Ac)_.push(G);else{const J=go(W,nt);J!=null&&(_.push(G),T.set(G,J))}}const A=new mn(_);return new vE(T,A,d.fieldTransforms)}function a2(s,e,i,r=!1){return go(i,s.Cc(r?4:3,e))}function go(s,e){if(SE(s=ui(s)))return Zd("Unsupported field value:",e,s),TE(s,e);if(s instanceof Yd)return(function(r,o){if(!EE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const g of r){let p=go(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(s,e)}return(function(r,o){if((r=ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return HS(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Zt.fromDate(r);return{timestampValue:sc(o.serializer,h)}}if(r instanceof Zt){const h=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:sc(o.serializer,h)}}if(r instanceof li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:jv(o.serializer,r._byteString)};if(r instanceof Te){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof oi)return(function(d,g){return{mapValue:{fields:{[mv]:{stringValue:gv},[tc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nd(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${cc(r)}`)})(s,e)}function TE(s,e){const i={};return ov(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ma(s,((r,o)=>{const h=go(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function SE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Zt||s instanceof li||s instanceof Cn||s instanceof Te||s instanceof Yd||s instanceof oi)}function Zd(s,e,i){if(!SE(i)||!rv(i)){const r=cc(i);throw r==="an object"?e.Sc(s+" a custom object"):e.Sc(s+" "+r)}}function fd(s,e,i){if((e=ui(e))instanceof bc)return e._internalPath;if(typeof e=="string")return $d(s,e);throw uc("Field path arguments must be of type string or ",s,!1,void 0,i)}const s2=new RegExp("[~\\*/\\[\\]]");function $d(s,e,i){if(e.search(s2)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new bc(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function uc(s,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${r}`),d&&(p+=` in document ${o}`),p+=")"),new rt(X.INVALID_ARGUMENT,g+s+p)}function bE(s,e){return s.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class r2 extends AE{data(){return super.data()}}function Jd(s,e){return typeof e=="string"?$d(s,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wd{}class l2 extends Wd{}function Ui(s,e,...i){let r=[];e instanceof Wd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((p=>p instanceof tm)).length,g=h.filter((p=>p instanceof Rc)).length;if(d>1||d>0&&g>0)throw new rt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class Rc extends l2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Rc(e,i,r)}_apply(e){const i=this._parse(e);return wE(e._query,i),new Cs(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=Kd(e.firestore);return(function(h,d,g,p,_,T,A){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U_(A,T);const W=[];for(const nt of A)W.push(x_(p,h,nt));N={arrayValue:{values:W}}}else N=x_(p,h,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U_(A,T),N=a2(g,d,A,T==="in"||T==="not-in");return ve.create(_,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(s,e,i){const r=e,o=Jd("where",s);return Rc._create(o,r,i)}class tm extends Wd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const p of g)wE(d,p),d=td(d,p)})(e._query,i),new Cs(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x_(s,e,i){if(typeof(i=ui(i))=="string"){if(i==="")throw new rt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bv(e)&&i.indexOf("/")!==-1)throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(r))throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zy(s,new gt(r))}if(i instanceof Te)return Zy(s,i._key);throw new rt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function U_(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(s,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class o2{convertValue(e,i="none"){switch(Da(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ma(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[tc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=dc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Ca(e);return new Zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);Bt(Qv(r),9688,{name:e});const o=new ao(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(s,e,i){let r;return r=s?s.toFirestore(e):e,r}class Xl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vs extends AE{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=vs._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}vs._jsonSchemaVersion="firestore/documentSnapshot/1.0",vs._jsonSchema={type:Ee("string",vs._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Fu extends vs{data(e={}){return super.data(e)}}class Es{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Fu(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new Fu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Xl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:c2(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Es._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:Ee("string",Es._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class em extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Te(this.firestore,null,i)}}function As(s){s=ai(s,Cs);const e=ai(s.firestore,bs),i=Fd(e),r=new em(e);return RE(s._query),YA(i,s._query).then((o=>new Es(e,r,s,o)))}function wc(s,e,i,...r){s=ai(s,Te);const o=ai(s.firestore,bs),h=Kd(o);let d;return d=typeof(e=ui(e))=="string"||e instanceof bc?i2(h,"updateDoc",s._key,e,i,r):n2(h,"updateDoc",s._key,e),nm(o,[d.toMutation(s._key,jn.exists(!0))])}function dd(s){return nm(ai(s.firestore,bs),[new Dd(s._key,jn.none())])}function CE(s,e){const i=ai(s.firestore,bs),r=KA(s),o=u2(s.converter,e);return nm(i,[e2(Kd(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,jn.exists(!1))]).then((()=>r))}function NE(s,...e){s=ui(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||O_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(O_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let h,d,g;if(s instanceof Te)d=ai(s.firestore,bs),g=Cd(s._key.path),h={next:p=>{e[r]&&e[r](h2(d,s,p))},error:e[r+1],complete:e[r+2]};else{const p=ai(s,Cs);d=ai(p.firestore,bs),g=p._query;const _=new em(d);h={next:T=>{e[r]&&e[r](new Es(d,_,p,T))},error:e[r+1],complete:e[r+2]},RE(s._query)}return(function(_,T,A,N){const G=new gE(N),W=new rE(T,G,A);return _.asyncQueue.enqueueAndForget((async()=>aE(await hd(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>sE(await hd(_),W)))}})(Fd(d),g,o,h)}function nm(s,e){return(function(r,o){const h=new Aa;return r.asyncQueue.enqueueAndForget((async()=>UA(await FA(r),o,h))),h.promise})(Fd(s),e)}function h2(s,e,i){const r=i.docs.get(e._key),o=new em(s);return new vs(s,o,e._key,r,new Xl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Mr=o})(G1),$u(new to("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new bs(new nS(r.getProvider("auth-internal")),new sS(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(_.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),br(Py,zy,e),br(Py,zy,"esm2020")})();var f2="firebase",d2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */br(f2,d2,"app");const m2={apiKey:"AIzaSyAxeBAxKalFCIl6Buut5y5eG7Kee47mENs",authDomain:"chem-card-game.firebaseapp.com",projectId:"chem-card-game",storageBucket:"chem-card-game.firebasestorage.app",messagingSenderId:"484362725443",appId:"1:484362725443:web:3274afc3c009e271b8ccf6",measurementId:"G-099MXETX8X"},g2=X_(m2),Gn=ZA(g2),DE=[{name:"Hydrogen",atomicNumber:1,atomicSymbol:"H",family:"Nonmetal",positiveIon:1,negativeIon:1,massGroup:1},{name:"Helium",atomicNumber:2,atomicSymbol:"He",family:"Noble Gas",massGroup:1},{name:"Lithium",atomicNumber:3,atomicSymbol:"Li",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Beryllium",atomicNumber:4,atomicSymbol:"Be",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Boron",atomicNumber:5,atomicSymbol:"B",family:"Metalloid",massGroup:1},{name:"Carbon",atomicNumber:6,atomicSymbol:"C",family:"Nonmetal",massGroup:1},{name:"Nitrogen",atomicNumber:7,atomicSymbol:"N",family:"Nonmetal",negativeIon:3,massGroup:1},{name:"Oxygen",atomicNumber:8,atomicSymbol:"O",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Fluorine",atomicNumber:9,atomicSymbol:"F",family:"Halogen",negativeIon:1,massGroup:1},{name:"Neon",atomicNumber:10,atomicSymbol:"Ne",family:"Noble Gas",massGroup:1},{name:"Sodium",atomicNumber:11,atomicSymbol:"Na",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Magnesium",atomicNumber:12,atomicSymbol:"Mg",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Aluminum",atomicNumber:13,atomicSymbol:"Al",family:"Metal",positiveIon:3,massGroup:1},{name:"Silicon",atomicNumber:14,atomicSymbol:"Si",family:"Metalloid",massGroup:1},{name:"Phosphorus",atomicNumber:15,atomicSymbol:"P",family:"Nonmetal",negativeIon:3,massGroup:1},{name:"Sulfur",atomicNumber:16,atomicSymbol:"S",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Chlorine",atomicNumber:17,atomicSymbol:"Cl",family:"Halogen",negativeIon:1,massGroup:1},{name:"Argon",atomicNumber:18,atomicSymbol:"Ar",family:"Noble Gas",massGroup:1},{name:"Potassium",atomicNumber:19,atomicSymbol:"K",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Calcium",atomicNumber:20,atomicSymbol:"Ca",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Scandium",atomicNumber:21,atomicSymbol:"Sc",family:"Transition Metal",positiveIon:3,massGroup:1},{name:"Titanium",atomicNumber:22,atomicSymbol:"Ti",family:"Transition Metal",massGroup:1},{name:"Vanadium",atomicNumber:23,atomicSymbol:"V",family:"Transition Metal",massGroup:1},{name:"Chromium",atomicNumber:24,atomicSymbol:"Cr",family:"Transition Metal",massGroup:1},{name:"Manganese",atomicNumber:25,atomicSymbol:"Mn",family:"Transition Metal",massGroup:1},{name:"Iron",atomicNumber:26,atomicSymbol:"Fe",family:"Transition Metal",massGroup:1},{name:"Cobalt",atomicNumber:27,atomicSymbol:"Co",family:"Transition Metal",massGroup:1},{name:"Nickel",atomicNumber:28,atomicSymbol:"Ni",family:"Transition Metal",massGroup:1},{name:"Copper",atomicNumber:29,atomicSymbol:"Cu",family:"Transition Metal",massGroup:1},{name:"Zinc",atomicNumber:30,atomicSymbol:"Zn",family:"Transition Metal",massGroup:1},{name:"Gallium",atomicNumber:31,atomicSymbol:"Ga",family:"Metal",massGroup:1},{name:"Germanium",atomicNumber:32,atomicSymbol:"Ge",family:"Metalloid",massGroup:1},{name:"Arsenic",atomicNumber:33,atomicSymbol:"As",family:"Metalloid",negativeIon:3,massGroup:1},{name:"Selenium",atomicNumber:34,atomicSymbol:"Se",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Bromine",atomicNumber:35,atomicSymbol:"Br",family:"Halogen",negativeIon:1,massGroup:1},{name:"Krypton",atomicNumber:36,atomicSymbol:"Kr",family:"Noble Gas",massGroup:1},{name:"Rubidium",atomicNumber:37,atomicSymbol:"Rb",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Strontium",atomicNumber:38,atomicSymbol:"Sr",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Yttrium",atomicNumber:39,atomicSymbol:"Y",family:"Transition Metal",positiveIon:3,massGroup:1},{name:"Zirconium",atomicNumber:40,atomicSymbol:"Zr",family:"Transition Metal",massGroup:1},{name:"Niobium",atomicNumber:41,atomicSymbol:"Nb",family:"Transition Metal",massGroup:1},{name:"Molybdenum",atomicNumber:42,atomicSymbol:"Mo",family:"Transition Metal",massGroup:1},{name:"Technetium",atomicNumber:43,atomicSymbol:"Tc",radioactive:!0,family:"Transition Metal",massGroup:1},{name:"Ruthenium",atomicNumber:44,atomicSymbol:"Ru",family:"Transition Metal",massGroup:2},{name:"Rhodium",atomicNumber:45,atomicSymbol:"Rh",family:"Transition Metal",massGroup:2},{name:"Palladium",atomicNumber:46,atomicSymbol:"Pd",family:"Transition Metal",massGroup:2},{name:"Silver",atomicNumber:47,atomicSymbol:"Ag",family:"Transition Metal",massGroup:2},{name:"Cadmium",atomicNumber:48,atomicSymbol:"Cd",family:"Transition Metal",massGroup:2},{name:"Indium",atomicNumber:49,atomicSymbol:"In",family:"Metal",massGroup:2},{name:"Tin",atomicNumber:50,atomicSymbol:"Sn",family:"Metal",massGroup:2},{name:"Antimony",atomicNumber:51,atomicSymbol:"Sb",family:"Metalloid",massGroup:2},{name:"Tellurium",atomicNumber:52,atomicSymbol:"Te",family:"Metalloid",negativeIon:2,massGroup:2},{name:"Iodine",atomicNumber:53,atomicSymbol:"I",family:"Halogen",negativeIon:1,massGroup:2},{name:"Xenon",atomicNumber:54,atomicSymbol:"Xe",family:"Noble Gas",massGroup:2},{name:"Cesium",atomicNumber:55,atomicSymbol:"Cs",family:"Alkali Metal",positiveIon:1,massGroup:2},{name:"Barium",atomicNumber:56,atomicSymbol:"Ba",family:"Alkaline Earth Metal",positiveIon:2,massGroup:2},{name:"Lanthanum",atomicNumber:57,atomicSymbol:"La",family:"Lanthanide",positiveIon:3,massGroup:2},{name:"Cerium",atomicNumber:58,atomicSymbol:"Ce",family:"Lanthanide",massGroup:2},{name:"Praseodymium",atomicNumber:59,atomicSymbol:"Pr",family:"Lanthanide",massGroup:2},{name:"Neodymium",atomicNumber:60,atomicSymbol:"Nd",family:"Lanthanide",massGroup:2},{name:"Promethium",atomicNumber:61,atomicSymbol:"Pm",radioactive:!0,family:"Lanthanide",massGroup:2},{name:"Samarium",atomicNumber:62,atomicSymbol:"Sm",family:"Lanthanide",massGroup:2},{name:"Europium",atomicNumber:63,atomicSymbol:"Eu",family:"Lanthanide",massGroup:2},{name:"Gadolinium",atomicNumber:64,atomicSymbol:"Gd",family:"Lanthanide",massGroup:2},{name:"Terbium",atomicNumber:65,atomicSymbol:"Tb",family:"Lanthanide",massGroup:2},{name:"Dysprosium",atomicNumber:66,atomicSymbol:"Dy",family:"Lanthanide",massGroup:2},{name:"Holmium",atomicNumber:67,atomicSymbol:"Ho",family:"Lanthanide",massGroup:2},{name:"Erbium",atomicNumber:68,atomicSymbol:"Er",family:"Lanthanide",massGroup:2},{name:"Thulium",atomicNumber:69,atomicSymbol:"Tm",family:"Lanthanide",massGroup:2},{name:"Ytterbium",atomicNumber:70,atomicSymbol:"Yb",family:"Lanthanide",massGroup:2},{name:"Lutetium",atomicNumber:71,atomicSymbol:"Lu",family:"Lanthanide",massGroup:2},{name:"Hafnium",atomicNumber:72,atomicSymbol:"Hf",family:"Transition Metal",massGroup:2},{name:"Tantalum",atomicNumber:73,atomicSymbol:"Ta",family:"Transition Metal",massGroup:2},{name:"Tungsten",atomicNumber:74,atomicSymbol:"W",family:"Transition Metal",massGroup:2},{name:"Rhenium",atomicNumber:75,atomicSymbol:"Re",family:"Transition Metal",massGroup:2},{name:"Osmium",atomicNumber:76,atomicSymbol:"Os",family:"Transition Metal",massGroup:2},{name:"Iridium",atomicNumber:77,atomicSymbol:"Ir",family:"Transition Metal",massGroup:2},{name:"Platinum",atomicNumber:78,atomicSymbol:"Pt",family:"Transition Metal",massGroup:2},{name:"Gold",atomicNumber:79,atomicSymbol:"Au",family:"Transition Metal",massGroup:2},{name:"Mercury",atomicNumber:80,atomicSymbol:"Hg",family:"Transition Metal",massGroup:3},{name:"Thallium",atomicNumber:81,atomicSymbol:"Tl",family:"Metal",massGroup:3},{name:"Lead",atomicNumber:82,atomicSymbol:"Pb",family:"Metal",massGroup:3},{name:"Bismuth",atomicNumber:83,atomicSymbol:"Bi",family:"Metal",massGroup:3},{name:"Polonium",atomicNumber:84,atomicSymbol:"Po",radioactive:!0,family:"Metalloid",massGroup:3},{name:"Astatine",atomicNumber:85,atomicSymbol:"At",radioactive:!0,family:"Noble Gas",negativeIon:1,massGroup:3},{name:"Radon",atomicNumber:86,atomicSymbol:"Rn",radioactive:!0,family:"Alkali Metal",massGroup:3},{name:"Francium",atomicNumber:87,atomicSymbol:"Fr",radioactive:!0,family:"Alkaline Earth Metal",positiveIon:1,massGroup:3},{name:"Radium",atomicNumber:88,atomicSymbol:"Ra",radioactive:!0,family:"Actinide",positiveIon:2,massGroup:3},{name:"Actinium",atomicNumber:89,atomicSymbol:"Ac",radioactive:!0,family:"Actinide",positiveIon:3,massGroup:3},{name:"Thorium",atomicNumber:90,atomicSymbol:"Th",radioactive:!0,family:"Actinide",massGroup:3},{name:"Protactinium",atomicNumber:91,atomicSymbol:"Pa",radioactive:!0,family:"Actinide",massGroup:3},{name:"Uranium",atomicNumber:92,atomicSymbol:"U",radioactive:!0,family:"Actinide",massGroup:3},{name:"Neptunium",atomicNumber:93,atomicSymbol:"Np",radioactive:!0,family:"Actinide",massGroup:3},{name:"Plutonium",atomicNumber:94,atomicSymbol:"Pu",radioactive:!0,family:"Actinide",massGroup:3},{name:"Americium",atomicNumber:95,atomicSymbol:"Am",radioactive:!0,family:"Actinide",massGroup:3},{name:"Curium",atomicNumber:96,atomicSymbol:"Cm",radioactive:!0,family:"Actinide",massGroup:3},{name:"Berkelium",atomicNumber:97,atomicSymbol:"Bk",radioactive:!0,family:"Actinide",massGroup:3},{name:"Californium",atomicNumber:98,atomicSymbol:"Cf",radioactive:!0,family:"Actinide",massGroup:3},{name:"Einsteinium",atomicNumber:99,atomicSymbol:"Es",radioactive:!0,family:"Actinide",massGroup:3},{name:"Fermium",atomicNumber:100,atomicSymbol:"Fm",radioactive:!0,family:"Actinide",massGroup:3},{name:"Mendelevium",atomicNumber:101,atomicSymbol:"Md",radioactive:!0,family:"Actinide",massGroup:3},{name:"Nobelium",atomicNumber:102,atomicSymbol:"No",radioactive:!0,family:"Actinide",massGroup:3},{name:"Lawrencium",atomicNumber:103,atomicSymbol:"Lr",radioactive:!0,family:"Actinide",massGroup:3}];function p2(s){const e=[...s];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function IE(s){return{2:{deckSize:36,handSize:15},3:{deckSize:54,handSize:15},4:{deckSize:54,handSize:13},5:{deckSize:54,handSize:10},6:{deckSize:86,handSize:14},7:{deckSize:103,handSize:14},8:{deckSize:103,handSize:12},9:{deckSize:103,handSize:11},10:{deckSize:103,handSize:10}}[s]||{deckSize:103,handSize:10}}function y2(s){const{deckSize:e,handSize:i}=IE(s),r=DE.filter(d=>d.atomicNumber<=e),o=p2([...r]),h=[];for(let d=0;d<s;d++){const g=d*i,p=g+i;h.push(o.slice(g,p))}return h}function _2(s){if(s.length===0)return 0;const e=s.map(h=>h.atomicNumber).sort((h,d)=>h-d);let i=1,r=1;for(let h=1;h<e.length;h++)e[h]===e[h-1]+1?(r++,i=Math.max(i,r)):r=1;const o=Math.min(Math.max(i,2),4);return o*o}function v2(s,e,i){const r=s.reduce((g,p)=>g+p.massGroup,0),o=e.reduce((g,p)=>g+p.massGroup,0),h=i.reduce((g,p)=>g+p.massGroup,0);let d=0;return r>o&&(d+=2),r<o&&(d-=2),r>h&&(d+=2),r<h&&(d-=2),d}function E2(s,e){const i=s.map(r=>r.atomicSymbol);return VE(i,e)}function VE(s,e){return e.length===0?!0:s.some(i=>e.toLowerCase().startsWith(i.toLowerCase())&&VE(s.filter(r=>r!==i),e.slice(i.length)))}function T2(s){const e=s.filter(i=>i.radioactive).length;return e>=2?7:e===1?-3:0}function S2(s){const e={},i={};for(const o of s)o.positiveIon&&(e[o.positiveIon]=(e[o.positiveIon]||0)+1),o.negativeIon&&(i[o.negativeIon]=(i[o.negativeIon]||0)+1);let r=0;for(const o of Object.keys(e)){const h=Number.parseInt(o),d=Math.min(e[h],i[h]||0);r+=d*5}return r}function b2(s){const e={};for(const g of s)e[g.family]=(e[g.family]||0)+1;const i=Object.keys(e).length,r=Math.max(...Object.values(e)),o=Math.max(i,r),h=Math.min(o,6);return{1:0,2:1,3:3,4:6,5:10,6:15}[h]||0}function A2(s,e){if(e.length===0)return 0;const i=e.reduce((d,g)=>(d[g.round]||(d[g.round]=[]),d[g.round].push(g),d),{}),r=Object.keys(i).map(Number).sort((d,g)=>d-g),o=[8,5,2];let h=0;for(const d of r){const g=i[d],p=o[h]||0;if(g.some(_=>_.playerId===s))return p;h+=g.length}return 0}function R2(s,e,i,r=0,o=!0){const h=_2(s),d=v2(s,e,i),g=r,p=o?T2(s):0,_=S2(s),T=b2(s),A=h+d+g+p+_+T;return{atomicNumber:h,atomicMass:d,atomicSymbol:g,radioactivity:p,ionization:_,family:T,total:A}}function w2(){return Math.random().toString(36).substring(2,8).toUpperCase()}const po="games",Lr="lobbies";async function md(){const s=Date.now()-72e5;try{const e=Ui(kn(Gn,Lr),Li("createdAt","<",s)),i=await As(e),r=i.docs.map(g=>dd(g.ref));await Promise.all(r),i.docs.length>0&&console.log(` Cleaned up ${i.docs.length} old lobbies`);const o=Ui(kn(Gn,po),Li("createdAt","<",s)),h=await As(o),d=h.docs.map(g=>dd(g.ref));await Promise.all(d),h.docs.length>0&&console.log(` Cleaned up ${h.docs.length} old games`)}catch(e){console.warn("Failed to cleanup old games:",e)}}async function C2(){await md();const s=w2(),e=Math.random().toString(36).substring(2,15),i=Zt.fromDate(new Date(Date.now()+7200*1e3)),r={id:s,players:[{id:e,name:"Player 1",isHost:!0}],hostId:e,createdAt:Date.now(),ttl:i};return await CE(kn(Gn,Lr),r),{gameId:s,playerId:e}}async function N2(s){const e=Ui(kn(Gn,Lr),Li("id","==",s)),i=await As(e);if(i.empty)return{success:!1};const r=i.docs[0],o=r.data(),h=Math.random().toString(36).substring(2,15),d=o.players.length+1,g={id:h,name:`Player ${d}`,isHost:!1};return await wc(r.ref,{players:[...o.players,g]}),{success:!0,playerId:h}}async function D2(s,e,i){const r=Ui(kn(Gn,Lr),Li("id","==",s)),o=await As(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(_=>_.id===e);if(g===-1)return!1;const p=[...d.players];return p[g]={...p[g],name:i},await wc(h.ref,{players:p}),!0}async function I2(s){const e=Ui(kn(Gn,Lr),Li("id","==",s)),i=await As(e);if(i.empty)return!1;const r=i.docs[0],o=r.data();if(o.players.length<2)return!1;const h=y2(o.players.length),d=h[0].length,g=Zt.fromDate(new Date(Date.now()+7200*1e3)),p={id:s,phase:"drafting",players:o.players.map((_,T)=>({..._,draftedCards:[],hand:h[T]})),deck:[...DE],currentRound:1,totalRounds:d,wordSpellingWinners:[],createdAt:Date.now(),hostId:o.hostId,ttl:g};return await CE(kn(Gn,po),p),await dd(r.ref),!0}function gd(s,e){const i=Ui(kn(Gn,Lr),Li("id","==",s));return NE(i,r=>{if(r.empty){e(null);return}const o=r.docs[0].data();e(o)})}function Gf(s,e){const i=Ui(kn(Gn,po),Li("id","==",s));return NE(i,r=>{if(r.empty){e(null);return}const o=r.docs[0].data();e(o)})}async function V2(s,e,i){const r=Ui(kn(Gn,po),Li("id","==",s)),o=await As(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(ft=>ft.id===e);if(g===-1)return!1;const p=d.players[g];if(i<0||i>=p.hand.length)return!1;const _=p.hand[i],T=p.hand.filter((ft,ht)=>ht!==i),A=[...p.draftedCards,_],N=[...d.players];N[g]={...p,hand:T,draftedCards:A};const G=Math.max(...N.map(ft=>ft.hand.length)),W=Math.min(...N.map(ft=>ft.hand.length)),nt=G===W;console.log("Draft selection debug:",{maxHandLength:G,minHandLength:W,playerHandLengths:N.map(ft=>({id:ft.id,handLength:ft.hand.length,draftedCount:ft.draftedCards.length})),allPlayersSelected:nt,allHandsEmpty:N.every(ft=>ft.hand.length===0)});let J={...d,players:N};if(nt)if(N.every(ht=>ht.hand.length===0))console.log("All players have empty hands, moving to scoring phase"),J={...J,phase:"scoring"};else{console.log("All players selected, passing hands and moving to next round");const ht=N.map(lt=>lt.hand),F=N.map((lt,tt)=>{const ut=(tt+1)%N.length;return{...lt,hand:ht[ut]}});J={...J,players:F,currentRound:d.currentRound+1},console.log("Hands passed:",{round:d.currentRound+1,handLengths:F.map(lt=>({id:lt.id,handLength:lt.hand.length}))})}return await wc(h.ref,J),!0}async function M2(s,e,i){const r=Ui(kn(Gn,po),Li("id","==",s)),o=await As(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.find(T=>T.id===e);if(!g||d.wordSpellingWinners.some(T=>T.playerId===e)||i.length!==5)return!1;const p=g.draftedCards.slice(0,d.currentRound-1);if(console.log("Word spelling check:",{currentRound:d.currentRound,totalDrafted:g.draftedCards.length,revealedCards:p.length,canUseForSpelling:p.map(T=>T.atomicSymbol)}),!E2(p,i))return!1;const _=[...d.wordSpellingWinners,{playerId:e,round:d.currentRound}];return await wc(h.ref,{wordSpellingWinners:_}),!0}function ME(){return new URLSearchParams(window.location.search).get("gameId")}function O2(){return new URLSearchParams(window.location.search).get("playerId")}function L_(s){const e=new URL(window.location.href);e.searchParams.set("gameId",s),window.history.replaceState({},"",e.toString())}function P_(s){const e=new URL(window.location.href);e.searchParams.set("playerId",s),window.history.replaceState({},"",e.toString())}function x2(s){const e=new URL(window.location.href);return e.searchParams.set("gameId",s),e.searchParams.delete("playerId"),e.toString()}function z_(){const s=new URL(window.location.href);s.search="",window.history.replaceState({},"",s.toString())}const U2=({onJoinLobby:s})=>{const[e,i]=Lt.useState(""),[r,o]=Lt.useState(!1),[h,d]=Lt.useState(!1),[g,p]=Lt.useState("");Lt.useEffect(()=>{const A=ME();A&&i(A)},[]);const _=async()=>{o(!0),p("");try{const{gameId:A,playerId:N}=await C2();L_(A),P_(N),s(A,N,!0,"Player 1")}catch{p("Failed to create game. Please try again."),o(!1)}},T=async()=>{if(!e.trim()){p("Please enter a game ID");return}d(!0),p("");try{const A=await N2(e.trim().toUpperCase());A.success&&A.playerId?(L_(e.trim().toUpperCase()),P_(A.playerId),s(e.trim().toUpperCase(),A.playerId,!1,"")):(p("Game not found. Please check the game ID."),d(!1))}catch{p("Failed to join game. Please try again."),d(!1)}};return L.jsxs("div",{className:"game-setup",children:[L.jsxs("div",{className:"setup-header",children:[L.jsx("h1",{children:"Chemistry Card Game"}),L.jsx("p",{children:"Create a new game or join an existing one"})]}),L.jsxs("div",{className:"setup-form",children:[L.jsxs("div",{className:"setup-actions",children:[L.jsxs("div",{className:"create-section",children:[L.jsx("h3",{children:"Start New Game"}),L.jsx("button",{type:"button",onClick:_,disabled:r||h,className:"create-btn",children:r?"Creating...":"Create Game"})]}),L.jsxs("div",{className:"join-section",children:[L.jsx("h3",{children:"Join Existing Game"}),L.jsxs("div",{className:"input-group",children:[L.jsx("label",{htmlFor:"gameId",children:"Game ID:"}),L.jsx("input",{id:"gameId",type:"text",value:e,onChange:A=>i(A.target.value.toUpperCase()),placeholder:"Enter game ID",maxLength:6})]}),L.jsx("button",{type:"button",onClick:T,disabled:r||h,className:"join-btn",children:h?"Joining...":"Join Game"})]})]}),g&&L.jsx("div",{className:"error-message",children:g})]})]})},L2="chem-card-game-player-name",OE="chem-card-game-state";function P2(s){localStorage.setItem(L2,s)}function j_(s){localStorage.setItem(OE,JSON.stringify(s))}function B_(){localStorage.removeItem(OE)}const z2=({gameId:s,playerId:e,isHost:i,playerName:r,onGameStart:o,onPlayerNameChange:h})=>{const[d,g]=Lt.useState(null),[p,_]=Lt.useState(!1),[T,A]=Lt.useState(!1),[N,G]=Lt.useState(r),[W,nt]=Lt.useState(!1);Lt.useEffect(()=>gd(s,ut=>{if(g(ut),ut&&typeof ut!="function"&&"players"in ut&&Array.isArray(ut.players)){const D=ut.players.find(b=>b.id===e);D&&D.name!==r&&h(D.name)}}),[s,e,r,h]),Lt.useEffect(()=>{G(r)},[r]);const J=async()=>{if(!i||!d||d.players.length<2)return;_(!0),await I2(s)?o():(_(!1),alert("Failed to start game. Please try again."))},ft=()=>{A(!0)},ht=async()=>{if(N.trim()){const tt=N.trim();await D2(s,e,tt)?(P2(tt),h(tt),A(!1)):alert("Failed to update name. Please try again.")}},F=()=>{G(r),A(!1)},lt=async()=>{const tt=x2(s);try{await navigator.clipboard.writeText(tt),nt(!0),setTimeout(()=>nt(!1),2e3)}catch{const ut=document.createElement("textarea");ut.value=tt,document.body.appendChild(ut),ut.select(),document.execCommand("copy"),document.body.removeChild(ut),nt(!0),setTimeout(()=>nt(!1),2e3)}};return d?L.jsxs("div",{className:"lobby-container",children:[L.jsxs("div",{className:"lobby-header",children:[L.jsx("h2",{children:"Game Lobby"}),L.jsxs("div",{className:"game-id",children:["Game ID: ",L.jsx("strong",{children:s})]}),L.jsx("button",{type:"button",onClick:lt,className:"copy-url-btn",children:W?" Copied!":" Copy Game Link"})]}),L.jsxs("div",{className:"player-name-section",children:[L.jsx("h3",{children:"Your Name:"}),T?L.jsxs("div",{className:"name-edit",children:[L.jsx("input",{type:"text",value:N,onChange:tt=>G(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&ht(),tt.key==="Escape"&&F()},maxLength:20}),L.jsx("button",{type:"button",onClick:ht,className:"save-btn",children:"Save"}),L.jsx("button",{type:"button",onClick:F,className:"cancel-btn",children:"Cancel"})]}):L.jsxs("div",{className:"name-display",children:[L.jsx("span",{className:"current-name",children:r}),L.jsx("button",{type:"button",onClick:ft,className:"edit-btn",children:""})]})]}),L.jsxs("div",{className:"players-list",children:[L.jsxs("h3",{children:["Players (",d.players.length,")"]}),L.jsx("div",{className:"players",children:d.players.map(tt=>L.jsxs("div",{className:`player ${tt.isHost?"host":""} ${tt.id===e?"current":""}`,children:[L.jsx("span",{className:"player-name",children:tt.name}),tt.isHost&&L.jsx("span",{className:"host-badge",children:"Host"}),tt.id===e&&L.jsx("span",{className:"you-badge",children:"You"})]},tt.id))})]}),i&&L.jsxs("div",{className:"lobby-actions",children:[L.jsx("button",{type:"button",onClick:J,disabled:d.players.length<2||p,className:"start-game-btn",children:p?"Starting Game...":"Start Game"}),L.jsx("p",{className:"start-hint",children:d.players.length<2?"Waiting for at least one more player...":"Ready to start!"})]}),!i&&L.jsx("div",{className:"waiting-message",children:L.jsx("p",{children:"Waiting for the host to start the game..."})})]}):L.jsx("div",{className:"lobby-container",children:L.jsx("div",{className:"loading",children:"Loading lobby..."})})},Yu=({element:s,onClick:e,isSelected:i=!1,isDisabled:r=!1,showDetails:o=!0})=>{const h=(g,p)=>`/assets/${g}-${p}.png`,d=g=>({Nonmetal:"#90EE90","Noble Gas":"#FFB6C1","Alkali Metal":"#FF6B6B","Alkaline Earth Metal":"#FFD93D",Metalloid:"#6BCF7F",Halogen:"#4ECDC4",Lanthanide:"#45B7D1",Actinide:"#96CEB4","Transition Metal":"#FFEAA7",Metal:"#DDA0DD"})[g]||"#E0E0E0";return L.jsxs("button",{type:"button",className:`card ${i?"selected":""} ${r?"disabled":""}`,onClick:r?void 0:e,disabled:r,style:{borderColor:d(s.family)},children:[L.jsxs("div",{className:"card-header",children:[L.jsx("div",{className:"atomic-number",children:s.atomicNumber}),L.jsx("div",{className:"atomic-symbol",children:s.atomicSymbol})]}),L.jsx("div",{className:"card-image",children:L.jsx("img",{src:h(s.atomicNumber,s.name),alt:s.name,onError:g=>{g.currentTarget.style.display="none"}})}),L.jsx("div",{className:"card-name",children:s.name}),o&&L.jsxs("div",{className:"card-details",children:[L.jsxs("div",{className:"mass-group",children:["Mass: ",s.massGroup]}),L.jsx("div",{className:"family",style:{backgroundColor:d(s.family)},children:s.family}),s.radioactive&&L.jsx("div",{className:"radioactive",children:" Radioactive"}),s.positiveIon&&L.jsxs("div",{className:"ion positive",children:["+",s.positiveIon]}),s.negativeIon&&L.jsxs("div",{className:"ion negative",children:["-",s.negativeIon]})]})]})},j2=({game:s,currentPlayerId:e})=>{const[i,r]=Lt.useState(null),[o,h]=Lt.useState(!1),[d,g]=Lt.useState(""),[p,_]=Lt.useState(!1),[T,A]=Lt.useState(""),N=s.players.find(F=>F.id===e);if(!N)return L.jsx("div",{children:"Player not found"});Lt.useEffect(()=>{h(!1),r(null)},[s.currentRound,s.phase]),Lt.useEffect(()=>{console.log("DraftingPhase game state:",{currentRound:s.currentRound,totalRounds:s.totalRounds,phase:s.phase,players:s.players.map(F=>({id:F.id,name:F.name,handLength:F.hand.length,draftedCount:F.draftedCards.length}))})},[s]);const G=F=>{r(F)},W=async()=>{if(i===null)return;h(!0),await V2(s.id,e,i)||(alert("Failed to submit selection. Please try again."),h(!1))},nt=async F=>{if(F.preventDefault(),d.length===5&&!p){_(!0),A("");try{await M2(s.id,e,d)?g(""):A("Cannot spell this word with your drafted cards, or you have already submitted a word.")}catch(lt){A("Failed to submit word. Please try again."),console.error("Word submission error:",lt)}finally{_(!1)}}},J=Math.max(...s.players.map(F=>F.hand.length)),ft=Math.min(...s.players.map(F=>F.hand.length)),ht=J===ft;return L.jsxs("div",{className:"drafting-phase",children:[L.jsxs("div",{className:"drafting-header",children:[L.jsx("h2",{children:"Drafting Phase"}),L.jsxs("div",{className:"round-info",children:["Round ",s.currentRound," of ",s.totalRounds]})]}),L.jsxs("div",{className:"drafting-content",children:[L.jsxs("div",{className:"hand-section",children:[L.jsx("h3",{children:"Your Hand - Select a card to draft:"}),L.jsx("p",{className:"drafting-info",children:"After all players select a card, hands will be passed to the next player."}),L.jsx("div",{className:"hand",children:N.hand.map((F,lt)=>({element:F,originalIndex:lt})).sort((F,lt)=>F.element.atomicNumber-lt.element.atomicNumber).map(({element:F,originalIndex:lt})=>L.jsx(Yu,{element:F,onClick:()=>G(lt),isSelected:i===lt,isDisabled:o},`${F.atomicNumber}-${lt}`))}),i!==null&&L.jsx("div",{className:"selection-actions",children:L.jsx("button",{type:"button",onClick:W,disabled:o,className:"submit-selection-btn",children:o?"Submitting...":"Draft This Card"})})]}),L.jsxs("div",{className:"drafted-cards-section",children:[L.jsx("h3",{children:"All Players' Drafted Cards:"}),s.players.sort((F,lt)=>F.id===e?-1:lt.id===e?1:F.name.localeCompare(lt.name)).map(F=>{const lt=F.draftedCards.slice(0,s.currentRound-1),tt=F.draftedCards.slice(s.currentRound-1);return L.jsxs("div",{className:"player-drafted-cards",children:[L.jsxs("h4",{className:`player-name ${F.id===e?"current-player":""}`,children:[F.name," (",F.draftedCards.length," cards)",F.id===e&&" (You)"]}),lt.length>0&&L.jsxs("div",{className:"card-group",children:[L.jsxs("h5",{children:["Revealed Cards (",lt.length,"):"]}),L.jsx("div",{className:"drafted-cards",children:lt.sort((ut,D)=>ut.atomicNumber-D.atomicNumber).map((ut,D)=>L.jsx(Yu,{element:ut,showDetails:!1},`${F.id}-revealed-${ut.atomicNumber}-${D}`))})]}),tt.length>0&&L.jsxs("div",{className:"card-group",children:[L.jsxs("h5",{children:["This Round's Cards (",tt.length,"):"]}),L.jsx("div",{className:"drafted-cards unrevealed",children:tt.sort((ut,D)=>ut.atomicNumber-D.atomicNumber).map((ut,D)=>L.jsx(Yu,{element:ut,showDetails:!1},`${F.id}-unrevealed-${ut.atomicNumber}-${D}`))})]}),F.draftedCards.length===0&&L.jsx("div",{className:"no-cards",children:"No cards drafted yet"})]},F.id)})]}),L.jsxs("div",{className:"word-spelling-section",children:[L.jsx("h3",{children:"Word Spelling Bonus"}),(()=>{const lt=N.draftedCards.slice(0,s.currentRound-1).map(tt=>tt.atomicSymbol.length).reduce((tt,ut)=>tt+ut,0)>=5;return L.jsx(L.Fragment,{children:lt&&s.wordSpellingWinners.length<3&&!s.wordSpellingWinners.some(tt=>tt.playerId===e)&&L.jsxs("form",{onSubmit:nt,className:"word-form",children:[L.jsx("label",{htmlFor:"wordInput",children:"Try to spell a 5-letter word with your revealed cards:"}),L.jsxs("div",{className:"word-input-group",children:[L.jsx("input",{id:"wordInput",type:"text",value:d,onChange:tt=>g(tt.target.value.toUpperCase()),placeholder:"Enter 5-letter word",maxLength:5,disabled:p}),L.jsx("button",{type:"submit",disabled:d.length!==5||p,children:p?"Checking...":"Submit Word"})]}),T&&L.jsx("div",{className:"word-error",children:T})]})})})(),s.wordSpellingWinners.some(F=>F.playerId===e)&&L.jsx("div",{className:"word-success",children:" You have successfully submitted a word and earned points!"}),s.wordSpellingWinners.length>=3&&!s.wordSpellingWinners.some(F=>F.playerId===e)&&L.jsx("div",{className:"word-info",children:"All word spelling spots have been taken."}),s.wordSpellingWinners.length>0&&L.jsxs("div",{className:"word-winners",children:[L.jsx("h4",{children:"Word Spelling Winners:"}),(()=>{const F=s.wordSpellingWinners.reduce((D,b)=>(D[b.round]||(D[b.round]=[]),D[b.round].push(b),D),{}),lt=Object.keys(F).map(Number).sort((D,b)=>D-b),tt=[8,5,2];let ut=0;return lt.flatMap(D=>{const b=F[D],w=tt[ut]||0;return ut+=b.length,b.map(O=>{const V=s.players.find(U=>U.id===O.playerId);return L.jsxs("div",{className:"word-winner",children:[V?.name,": ",w," points (Round ",D,")"]},O.playerId)})})})()]})]}),L.jsxs("div",{className:"players-status",children:[L.jsx("h3",{children:"Players Status:"}),L.jsx("div",{className:"players-list",children:s.players.map(F=>L.jsxs("div",{className:"player-status",children:[L.jsx("span",{className:"player-name",children:F.name}),L.jsx("span",{className:"status",children:F.id===e?"You":F.hand.length===ft?"Ready":"Selecting..."}),L.jsxs("span",{className:"drafted-count",children:["(",F.draftedCards.length," drafted)"]})]},F.id))})]}),ht&&L.jsx("div",{className:"round-complete",children:J===0?L.jsx("p",{children:"All cards have been drafted! Moving to scoring phase..."}):L.jsx("p",{children:"All players have made their selections. Moving to next round..."})})]})]})},B2=({game:s,currentPlayerId:e})=>{const[i,r]=Lt.useState({}),{deckSize:o}=IE(s.players.length),h=o===103;Lt.useEffect(()=>{const p={};s.players.forEach((_,T)=>{const A=s.players[T===0?s.players.length-1:T-1],N=s.players[T===s.players.length-1?0:T+1],G=A2(_.id,s.wordSpellingWinners);p[_.id]=R2(_.draftedCards,A.draftedCards,N.draftedCards,G,h)}),r(p)},[s,h]);const d=[...s.players].sort((p,_)=>{const T=i[p.id]?.total||0,A=i[_.id]?.total||0;if(T!==A)return A-T;const N=Math.max(...p.draftedCards.map(W=>W.atomicNumber),0);return Math.max(..._.draftedCards.map(W=>W.atomicNumber),0)-N}),g=s.players.find(p=>p.id===e);return L.jsxs("div",{className:"scoring-phase",children:[L.jsxs("div",{className:"scoring-header",children:[L.jsx("h2",{children:"Final Scoring"}),L.jsx("p",{children:"Game complete! Here are the final results:"})]}),L.jsxs("div",{className:"scoring-content",children:[s.wordSpellingWinners.length>0&&L.jsxs("div",{className:"word-spelling-section",children:[L.jsx("h3",{children:"Word Spelling Winners"}),L.jsx("div",{className:"word-winners",children:(()=>{const p=s.wordSpellingWinners.reduce((N,G)=>(N[G.round]||(N[G.round]=[]),N[G.round].push(G),N),{}),_=Object.keys(p).map(Number).sort((N,G)=>N-G),T=[8,5,2];let A=0;return _.flatMap(N=>{const G=p[N],W=T[A]||0;return A+=G.length,G.map(nt=>{const J=s.players.find(ft=>ft.id===nt.playerId);return L.jsxs("div",{className:"word-winner",children:[J?.name,": ",W," points (Round ",N,")"]},nt.playerId)})})})()})]}),L.jsxs("div",{className:"final-scores",children:[L.jsx("h3",{children:"Final Scores"}),L.jsx("div",{className:"scoreboard",children:d.map((p,_)=>{const T=i[p.id],A=p.id===e;return L.jsxs("div",{className:`score-entry ${A?"current-player":""}`,children:[L.jsxs("div",{className:"rank",children:["#",_+1]}),L.jsxs("div",{className:"player-info",children:[L.jsxs("div",{className:"player-name",children:[p.name," ",A&&"(You)"]}),L.jsxs("div",{className:"total-score",children:["Total: ",T?.total||0," points"]})]}),T&&L.jsxs("div",{className:"score-breakdown",children:[L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Number:"})," ",L.jsx("span",{children:T.atomicNumber})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Mass:"})," ",L.jsx("span",{children:T.atomicMass})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Symbol:"})," ",L.jsx("span",{children:T.atomicSymbol})]}),h&&L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Radioactivity:"})," ",L.jsx("span",{children:T.radioactivity})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Ionization:"})," ",L.jsx("span",{children:T.ionization})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Family:"})," ",L.jsx("span",{children:T.family})]})]})]},p.id)})})]}),L.jsxs("div",{className:"player-cards",children:[L.jsx("h3",{children:"Your Drafted Cards"}),L.jsx("div",{className:"cards-grid",children:g?.draftedCards.sort((p,_)=>p.atomicNumber-_.atomicNumber).map((p,_)=>L.jsx(Yu,{element:p,showDetails:!0},`final-${p.atomicNumber}-${_}`))})]})]})]})};function k2(){const[s,e]=Lt.useState("setup"),[i,r]=Lt.useState(""),[o,h]=Lt.useState(""),[d,g]=Lt.useState(!1),[p,_]=Lt.useState(""),[T,A]=Lt.useState(null),[N,G]=Lt.useState(!0);Lt.useEffect(()=>{md();const ht=setInterval(()=>{md()},1800*1e3);return()=>clearInterval(ht)},[]),Lt.useEffect(()=>{(async()=>{const F=ME(),lt=O2();if(F&&lt)return r(F),h(lt),Gf(F,ut=>{if(ut)A(ut),e("game"),g(ut.hostId===lt),G(!1);else return gd(F,b=>{if(b){const w=b.players.find(O=>O.id===lt);w?(e("lobby"),g(w.isHost),_(w.name),G(!1)):(e("setup"),G(!1))}else e("setup"),G(!1)})});F&&!lt&&(r(F),e("setup")),G(!1)})()},[]),Lt.useEffect(()=>{if(i&&s==="game")return Gf(i,F=>{F?(A(F),F.phase):(e("setup"),B_(),z_())})},[i,s]),Lt.useEffect(()=>{if(i&&o&&s==="lobby")return gd(i,F=>{if(!F)return Gf(i,tt=>{tt?(A(tt),e("game"),g(tt.hostId===o)):(e("setup"),B_(),z_())})})},[i,o,s]);const W=(ht,F,lt,tt)=>{r(ht),h(F),g(lt),_(tt),e("lobby"),j_({gameId:ht,playerId:F,isHost:lt,playerName:tt})},nt=()=>{e("game")},J=ht=>{_(ht),i&&o&&j_({gameId:i,playerId:o,isHost:d,playerName:ht})},ft=()=>{if(N)return L.jsx("div",{className:"loading",children:"Restoring game..."});switch(s){case"setup":return L.jsx(U2,{onJoinLobby:W});case"lobby":return L.jsx(z2,{gameId:i,playerId:o,isHost:d,playerName:p,onGameStart:nt,onPlayerNameChange:J});case"game":if(!T)return L.jsx("div",{className:"loading",children:"Loading game..."});switch(T.phase){case"drafting":return L.jsx(j2,{game:T,currentPlayerId:o});case"scoring":return L.jsx(B2,{game:T,currentPlayerId:o});case"finished":return L.jsxs("div",{className:"game-finished",children:[L.jsx("h2",{children:"Game Finished!"}),L.jsx("p",{children:"Thank you for playing Chemistry Card Game!"}),L.jsx("button",{type:"button",onClick:()=>e("setup"),children:"Play Again"})]});default:return L.jsx("div",{children:"Unknown game phase"})}default:return L.jsx("div",{children:"Unknown app state"})}};return L.jsxs("div",{className:"app",children:[L.jsxs("header",{className:"app-header",children:[L.jsx("h1",{children:"Chemistry Card Game"}),i&&L.jsxs("div",{className:"game-info",children:["Game ID: ",i," | Player: ",o]})]}),L.jsx("main",{className:"app-main",children:ft()})]})}pT.createRoot(document.getElementById("root")).render(L.jsx(Lt.StrictMode,{children:L.jsx(k2,{})}));
