(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function r(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var Cf={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function lT(){if(gy)return ql;gy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:a,type:r,key:d,ref:o!==void 0?o:null,props:h}}return ql.Fragment=e,ql.jsx=i,ql.jsxs=i,ql}var py;function oT(){return py||(py=1,Cf.exports=lT()),Cf.exports}var L=oT(),Nf={exports:{}},Rt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function uT(){if(yy)return Rt;yy=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function N(I){return I===null||typeof I!="object"?null:(I=A&&I[A]||I["@@iterator"],typeof I=="function"?I:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,nt={};function J(I,$,at){this.props=I,this.context=$,this.refs=nt,this.updater=at||k}J.prototype.isReactComponent={},J.prototype.setState=function(I,$){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,$,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function ft(){}ft.prototype=J.prototype;function ht(I,$,at){this.props=I,this.context=$,this.refs=nt,this.updater=at||k}var Q=ht.prototype=new ft;Q.constructor=ht,W(Q,J.prototype),Q.isPureReactComponent=!0;var lt=Array.isArray,tt={H:null,A:null,T:null,S:null,V:null},ut=Object.prototype.hasOwnProperty;function D(I,$,at,it,mt,It){return at=It.ref,{$$typeof:a,type:I,key:$,ref:at!==void 0?at:null,props:It}}function S(I,$){return D(I.type,$,void 0,void 0,void 0,I.props)}function w(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function O(I){var $={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(at){return $[at]})}var V=/\/+/g;function U(I,$){return typeof I=="object"&&I!==null&&I.key!=null?O(""+I.key):$.toString(36)}function C(){}function re(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(C,C):(I.status="pending",I.then(function($){I.status==="pending"&&(I.status="fulfilled",I.value=$)},function($){I.status==="pending"&&(I.status="rejected",I.reason=$)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,$,at,it,mt){var It=typeof I;(It==="undefined"||It==="boolean")&&(I=null);var Et=!1;if(I===null)Et=!0;else switch(It){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(I.$$typeof){case a:case e:Et=!0;break;case T:return Et=I._init,ee(Et(I._payload),$,at,it,mt)}}if(Et)return mt=mt(I),Et=it===""?"."+U(I,0):it,lt(mt)?(at="",Et!=null&&(at=Et.replace(V,"$&/")+"/"),ee(mt,$,at,"",function(Nn){return Nn})):mt!=null&&(w(mt)&&(mt=S(mt,at+(mt.key==null||I&&I.key===mt.key?"":(""+mt.key).replace(V,"$&/")+"/")+Et)),$.push(mt)),1;Et=0;var Oe=it===""?".":it+":";if(lt(I))for(var Ht=0;Ht<I.length;Ht++)it=I[Ht],It=Oe+U(it,Ht),Et+=ee(it,$,at,It,mt);else if(Ht=N(I),typeof Ht=="function")for(I=Ht.call(I),Ht=0;!(it=I.next()).done;)it=it.value,It=Oe+U(it,Ht++),Et+=ee(it,$,at,It,mt);else if(It==="object"){if(typeof I.then=="function")return ee(re(I),$,at,it,mt);throw $=String(I),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Et}function H(I,$,at){if(I==null)return I;var it=[],mt=0;return ee(I,it,"","",function(It){return $.call(at,It,mt++)}),it}function st(I){if(I._status===-1){var $=I._result;$=$(),$.then(function(at){(I._status===0||I._status===-1)&&(I._status=1,I._result=at)},function(at){(I._status===0||I._status===-1)&&(I._status=2,I._result=at)}),I._status===-1&&(I._status=0,I._result=$)}if(I._status===1)return I._result.default;throw I._result}var pt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Pt(){}return Rt.Children={map:H,forEach:function(I,$,at){H(I,function(){$.apply(this,arguments)},at)},count:function(I){var $=0;return H(I,function(){$++}),$},toArray:function(I){return H(I,function($){return $})||[]},only:function(I){if(!w(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Rt.Component=J,Rt.Fragment=i,Rt.Profiler=o,Rt.PureComponent=ht,Rt.StrictMode=r,Rt.Suspense=p,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=tt,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return tt.H.useMemoCache(I)}},Rt.cache=function(I){return function(){return I.apply(null,arguments)}},Rt.cloneElement=function(I,$,at){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var it=W({},I.props),mt=I.key,It=void 0;if($!=null)for(Et in $.ref!==void 0&&(It=void 0),$.key!==void 0&&(mt=""+$.key),$)!ut.call($,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&$.ref===void 0||(it[Et]=$[Et]);var Et=arguments.length-2;if(Et===1)it.children=at;else if(1<Et){for(var Oe=Array(Et),Ht=0;Ht<Et;Ht++)Oe[Ht]=arguments[Ht+2];it.children=Oe}return D(I.type,mt,void 0,void 0,It,it)},Rt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},Rt.createElement=function(I,$,at){var it,mt={},It=null;if($!=null)for(it in $.key!==void 0&&(It=""+$.key),$)ut.call($,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(mt[it]=$[it]);var Et=arguments.length-2;if(Et===1)mt.children=at;else if(1<Et){for(var Oe=Array(Et),Ht=0;Ht<Et;Ht++)Oe[Ht]=arguments[Ht+2];mt.children=Oe}if(I&&I.defaultProps)for(it in Et=I.defaultProps,Et)mt[it]===void 0&&(mt[it]=Et[it]);return D(I,It,void 0,void 0,null,mt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(I){return{$$typeof:g,render:I}},Rt.isValidElement=w,Rt.lazy=function(I){return{$$typeof:T,_payload:{_status:-1,_result:I},_init:st}},Rt.memo=function(I,$){return{$$typeof:_,type:I,compare:$===void 0?null:$}},Rt.startTransition=function(I){var $=tt.T,at={};tt.T=at;try{var it=I(),mt=tt.S;mt!==null&&mt(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(Pt,pt)}catch(It){pt(It)}finally{tt.T=$}},Rt.unstable_useCacheRefresh=function(){return tt.H.useCacheRefresh()},Rt.use=function(I){return tt.H.use(I)},Rt.useActionState=function(I,$,at){return tt.H.useActionState(I,$,at)},Rt.useCallback=function(I,$){return tt.H.useCallback(I,$)},Rt.useContext=function(I){return tt.H.useContext(I)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(I,$){return tt.H.useDeferredValue(I,$)},Rt.useEffect=function(I,$,at){var it=tt.H;if(typeof at=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return it.useEffect(I,$)},Rt.useId=function(){return tt.H.useId()},Rt.useImperativeHandle=function(I,$,at){return tt.H.useImperativeHandle(I,$,at)},Rt.useInsertionEffect=function(I,$){return tt.H.useInsertionEffect(I,$)},Rt.useLayoutEffect=function(I,$){return tt.H.useLayoutEffect(I,$)},Rt.useMemo=function(I,$){return tt.H.useMemo(I,$)},Rt.useOptimistic=function(I,$){return tt.H.useOptimistic(I,$)},Rt.useReducer=function(I,$,at){return tt.H.useReducer(I,$,at)},Rt.useRef=function(I){return tt.H.useRef(I)},Rt.useState=function(I){return tt.H.useState(I)},Rt.useSyncExternalStore=function(I,$,at){return tt.H.useSyncExternalStore(I,$,at)},Rt.useTransition=function(){return tt.H.useTransition()},Rt.version="19.1.1",Rt}var _y;function pd(){return _y||(_y=1,Nf.exports=uT()),Nf.exports}var Lt=pd(),Df={exports:{}},Hl={},If={exports:{}},Vf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function cT(){return vy||(vy=1,(function(a){function e(H,st){var pt=H.length;H.push(st);t:for(;0<pt;){var Pt=pt-1>>>1,I=H[Pt];if(0<o(I,st))H[Pt]=st,H[pt]=I,pt=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var st=H[0],pt=H.pop();if(pt!==st){H[0]=pt;t:for(var Pt=0,I=H.length,$=I>>>1;Pt<$;){var at=2*(Pt+1)-1,it=H[at],mt=at+1,It=H[mt];if(0>o(it,pt))mt<I&&0>o(It,it)?(H[Pt]=It,H[mt]=pt,Pt=mt):(H[Pt]=it,H[at]=pt,Pt=at);else if(mt<I&&0>o(It,pt))H[Pt]=It,H[mt]=pt,Pt=mt;else break t}}return st}function o(H,st){var pt=H.sortIndex-st.sortIndex;return pt!==0?pt:H.id-st.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var p=[],_=[],T=1,A=null,N=3,k=!1,W=!1,nt=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function lt(H){for(var st=i(_);st!==null;){if(st.callback===null)r(_);else if(st.startTime<=H)r(_),st.sortIndex=st.expirationTime,e(p,st);else break;st=i(_)}}function tt(H){if(nt=!1,lt(H),!W)if(i(p)!==null)W=!0,ut||(ut=!0,U());else{var st=i(_);st!==null&&ee(tt,st.startTime-H)}}var ut=!1,D=-1,S=5,w=-1;function O(){return J?!0:!(a.unstable_now()-w<S)}function V(){if(J=!1,ut){var H=a.unstable_now();w=H;var st=!0;try{t:{W=!1,nt&&(nt=!1,ht(D),D=-1),k=!0;var pt=N;try{e:{for(lt(H),A=i(p);A!==null&&!(A.expirationTime>H&&O());){var Pt=A.callback;if(typeof Pt=="function"){A.callback=null,N=A.priorityLevel;var I=Pt(A.expirationTime<=H);if(H=a.unstable_now(),typeof I=="function"){A.callback=I,lt(H),st=!0;break e}A===i(p)&&r(p),lt(H)}else r(p);A=i(p)}if(A!==null)st=!0;else{var $=i(_);$!==null&&ee(tt,$.startTime-H),st=!1}}break t}finally{A=null,N=pt,k=!1}st=void 0}}finally{st?U():ut=!1}}}var U;if(typeof Q=="function")U=function(){Q(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,re=C.port2;C.port1.onmessage=V,U=function(){re.postMessage(null)}}else U=function(){ft(V,0)};function ee(H,st){D=ft(function(){H(a.unstable_now())},st)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return N},a.unstable_next=function(H){switch(N){case 1:case 2:case 3:var st=3;break;default:st=N}var pt=N;N=st;try{return H()}finally{N=pt}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,st){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pt=N;N=H;try{return st()}finally{N=pt}},a.unstable_scheduleCallback=function(H,st,pt){var Pt=a.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Pt+pt:Pt):pt=Pt,H){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=pt+I,H={id:T++,callback:st,priorityLevel:H,startTime:pt,expirationTime:I,sortIndex:-1},pt>Pt?(H.sortIndex=pt,e(_,H),i(p)===null&&H===i(_)&&(nt?(ht(D),D=-1):nt=!0,ee(tt,pt-Pt))):(H.sortIndex=I,e(p,H),W||k||(W=!0,ut||(ut=!0,U()))),H},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(H){var st=N;return function(){var pt=N;N=st;try{return H.apply(this,arguments)}finally{N=pt}}}})(Vf)),Vf}var Ey;function hT(){return Ey||(Ey=1,If.exports=cT()),If.exports}var Mf={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function fT(){if(Ty)return He;Ty=1;var a=pd();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,He.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(p,_,null,T)},He.flushSync=function(p){var _=d.T,T=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=_,r.p=T,r.d.f()}},He.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},He.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},He.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin),N=typeof _.integrity=="string"?_.integrity:void 0,k=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:N,fetchPriority:k}):T==="script"&&r.d.X(p,{crossOrigin:A,integrity:N,fetchPriority:k,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},He.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},He.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},He.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},He.requestFormReset=function(p){r.d.r(p)},He.unstable_batchedUpdates=function(p,_){return p(_)},He.useFormState=function(p,_,T){return d.H.useFormState(p,_,T)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.1.1",He}var by;function dT(){if(by)return Mf.exports;by=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Mf.exports=fT(),Mf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function mT(){if(Sy)return Hl;Sy=1;var a=hT(),e=pd(),i=dT();function r(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,s=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(s=n.return),t=n.return;while(t)}return n.tag===3?s:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(r(188))}function p(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(r(188));return n!==t?null:t}for(var s=t,l=n;;){var c=s.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){s=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===s)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(r(188))}if(s.return!==l.return)s=c,l=f;else{for(var v=!1,E=c.child;E;){if(E===s){v=!0,s=c,l=f;break}if(E===l){v=!0,l=c,s=f;break}E=E.sibling}if(!v){for(E=f.child;E;){if(E===s){v=!0,s=f,l=c;break}if(E===l){v=!0,l=f,s=c;break}E=E.sibling}if(!v)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ft=Symbol.for("react.provider"),ht=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),lt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case tt:return"Suspense";case ut:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case ht:return(t._context.displayName||"Context")+".Consumer";case lt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return n=t.displayName||null,n!==null?n:re(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return re(t(n))}catch{}}return null}var ee=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Pt=[],I=-1;function $(t){return{current:t}}function at(t){0>I||(t.current=Pt[I],Pt[I]=null,I--)}function it(t,n){I++,Pt[I]=t.current,t.current=n}var mt=$(null),It=$(null),Et=$(null),Oe=$(null);function Ht(t,n){switch(it(Et,n),it(It,t),it(mt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?qp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=qp(n),t=Hp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}at(mt),it(mt,t)}function Nn(){at(mt),at(It),at(Et)}function Pr(t){t.memoizedState!==null&&it(Oe,t);var n=mt.current,s=Hp(n,t.type);n!==s&&(it(It,t),it(mt,s))}function Na(t){It.current===t&&(at(mt),at(It)),Oe.current===t&&(at(Oe),zl._currentValue=pt)}var Da=Object.prototype.hasOwnProperty,xs=a.unstable_scheduleCallback,Ia=a.unstable_cancelCallback,Cc=a.unstable_shouldYield,zr=a.unstable_requestPaint,We=a.unstable_now,yo=a.unstable_getCurrentPriorityLevel,be=a.unstable_ImmediatePriority,Ce=a.unstable_UserBlockingPriority,hi=a.unstable_NormalPriority,Nc=a.unstable_LowPriority,Br=a.unstable_IdlePriority,Dc=a.log,Us=a.unstable_setDisableYieldValue,Pi=null,Ge=null;function gn(t){if(typeof Dc=="function"&&Us(t),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Pi,t)}catch{}}var Ke=Math.clz32?Math.clz32:vo,Ic=Math.log,_o=Math.LN2;function vo(t){return t>>>=0,t===0?32:31-(Ic(t)/_o|0)|0}var qn=256,zi=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pn(t,n,s){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(v&=E,v!==0?c=Dn(v):s||(s=E&~t,s!==0&&(c=Dn(s))))):(E=l&~f,E!==0?c=Dn(E):v!==0?c=Dn(v):s||(s=l&~t,s!==0&&(c=Dn(s)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:c}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Va(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(){var t=qn;return qn<<=1,(qn&4194048)===0&&(qn=256),t}function ji(){var t=zi;return zi<<=1,(zi&62914560)===0&&(zi=4194304),t}function Ma(t){for(var n=[],s=0;31>s;s++)n.push(t);return n}function ue(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eo(t,n,s,l,c,f){var v=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,B=t.hiddenUpdates;for(s=v&~s;0<s;){var F=31-Ke(s),X=1<<F;E[F]=0,R[F]=-1;var j=B[F];if(j!==null)for(B[F]=null,F=0;F<j.length;F++){var G=j[F];G!==null&&(G.lane&=-536870913)}s&=~X}l!==0&&Gi(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~n))}function Gi(t,n,s){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|s&4194090}function ki(t,n){var s=t.entangledLanes|=n;for(t=t.entanglements;s;){var l=31-Ke(s),c=1<<l;c&n|t[l]&n&&(t[l]|=n),s&=~c}}function Gr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function fi(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:uy(t.type))}function Vc(t,n){var s=st.p;try{return st.p=t,n()}finally{st.p=s}}var Hn=Math.random().toString(36).slice(2),ce="__reactFiber$"+Hn,xe="__reactProps$"+Hn,di="__reactContainer$"+Hn,Ls="__reactEvents$"+Hn,Ps="__reactListeners$"+Hn,Mc="__reactHandles$"+Hn,In="__reactResources$"+Hn,qi="__reactMarker$"+Hn;function Oa(t){delete t[ce],delete t[xe],delete t[Ls],delete t[Ps],delete t[Mc]}function Fn(t){var n=t[ce];if(n)return n;for(var s=t.parentNode;s;){if(n=s[di]||s[ce]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(t=Kp(t);t!==null;){if(s=t[ce])return s;t=Kp(t)}return n}t=s,s=t.parentNode}return null}function Qn(t){if(t=t[ce]||t[di]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Hi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(r(33))}function Fi(t){var n=t[In];return n||(n=t[In]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function he(t){t[qi]=!0}var To=new Set,zs={};function Yn(t,n){Kn(t,n),Kn(t+"Capture",n)}function Kn(t,n){for(zs[t]=n,t=0;t<n.length;t++)To.add(n[t])}var Bs=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xn={},xa={};function Oc(t){return Da.call(xa,t)?!0:Da.call(Xn,t)?!1:Bs.test(t)?xa[t]=!0:(Xn[t]=!0,!1)}function js(t,n,s){if(Oc(n))if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+s)}}function Gs(t,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+s)}}function yn(t,n,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(n,s,""+l)}}var ks,Ua;function mi(t){if(ks===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ks=n&&n[1]||"",Ua=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ks+t+Ua}var La=!1;function Pa(t,n){if(!t||La)return"";La=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var j=G}Reflect.construct(t,[],X)}else{try{X.call()}catch(G){j=G}t.call(X.prototype)}}else{try{throw Error()}catch(G){j=G}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&j&&typeof G.stack=="string")return[G.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],E=f[1];if(v&&E){var R=v.split(`
`),B=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===B.length)for(l=R.length-1,c=B.length-1;1<=l&&0<=c&&R[l]!==B[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==B[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==B[c]){var F=`
`+R[l].replace(" at new "," at ");return t.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",t.displayName)),F}while(1<=l&&0<=c);break}}}finally{La=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?mi(s):""}function xc(t){switch(t.tag){case 26:case 27:case 5:return mi(t.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Pa(t.type,!1);case 11:return Pa(t.type.render,!1);case 1:return Pa(t.type,!0);case 31:return mi("Activity");default:return""}}function Vn(t){try{var n="";do n+=xc(t),t=t.return;while(t);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ie(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qi(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qs(t){var n=Qi(t)?"checked":"value",s=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var c=s.get,f=s.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Yi(t){t._valueTracker||(t._valueTracker=qs(t))}function Ft(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return t&&(l=Qi(t)?t.checked?"true":"false":t.value),t=l,t!==s?(n.setValue(t),!0):!1}function gi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Hs=/[\n"\\]/g;function Ne(t){return t.replace(Hs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function qr(t,n,s,l,c,f,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),n!=null?v==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+ie(n)):t.value!==""+ie(n)&&(t.value=""+ie(n)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),n!=null?Fr(t,v,ie(n)):s!=null?Fr(t,v,ie(s)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+ie(E):t.removeAttribute("name")}function Hr(t,n,s,l,c,f,v,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;s=s!=null?""+ie(s):"",n=n!=null?""+ie(n):s,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Fr(t,n,s){n==="number"&&gi(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ki(t,n,s,l){if(t=t.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<t.length;s++)c=n.hasOwnProperty("$"+t[s].value),t[s].selected!==c&&(t[s].selected=c),c&&l&&(t[s].defaultSelected=!0)}else{for(s=""+ie(s),n=null,c=0;c<t.length;c++){if(t[c].value===s){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function bo(t,n,s){if(n!=null&&(n=""+ie(n),n!==t.value&&(t.value=n),s==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=s!=null?""+ie(s):""}function So(t,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(r(92));if(ee(l)){if(1<l.length)throw Error(r(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ie(n),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=n;return}}t.textContent=n}var pi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qr(t,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,s):typeof s!="number"||s===0||pi.has(n)?n==="float"?t.cssFloat=s:t[n]=(""+s).trim():t[n]=s+"px"}function Yr(t,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&s[c]!==l&&Qr(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&Qr(t,f,n[f])}function za(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ao=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ro=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mn(t){return Ro.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Kr=null;function Xr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xi=null,Xe=null;function wo(t){var n=Qn(t);if(n&&(t=n.stateNode)){var s=t[xe]||null;t:switch(t=n.stateNode,n.type){case"input":if(qr(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Ne(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==t&&l.form===t.form){var c=l[xe]||null;if(!c)throw Error(r(90));qr(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===t.form&&Ft(l)}break t;case"textarea":bo(t,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Ki(t,!!s.multiple,n,!1)}}}var Fs=!1;function Qs(t,n,s){if(Fs)return t(n,s);Fs=!0;try{var l=t(n);return l}finally{if(Fs=!1,(Xi!==null||Xe!==null)&&(gu(),Xi&&(n=Xi,t=Xe,Xe=Xi=null,wo(n),t)))for(n=0;n<t.length;n++)wo(t[n])}}function Zi(t,n){var s=t.stateNode;if(s===null)return null;var l=s[xe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var Ze=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(Ze)try{var $i={};Object.defineProperty($i,"passive",{get:function(){yi=!0}}),window.addEventListener("test",$i,$i),window.removeEventListener("test",$i,$i)}catch{yi=!1}var vn=null,$t=null,Ba=null;function Co(){if(Ba)return Ba;var t,n=$t,s=n.length,l,c="value"in vn?vn.value:vn.textContent,f=c.length;for(t=0;t<s&&n[t]===c[t];t++);var v=s-t;for(l=1;l<=v&&n[s-l]===c[f-l];l++);return Ba=c.slice(t,1<l?1-l:void 0)}function Ys(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Ks(){return!0}function Zr(){return!1}function Se(t){function n(s,l,c,f,v){this._reactName=s,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(s=t[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ks:Zr,this.isPropagationStopped=Zr,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),n}var ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Se(ke),Zs=T({},ke,{view:0,detail:0}),$s=Se(Zs),ja,Js,Zn,Ws=T({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qa,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(ja=t.screenX-Zn.screenX,Js=t.screenY-Zn.screenY):Js=ja=0,Zn=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:Js}}),ta=Se(Ws),Uc=T({},Ws,{dataTransfer:0}),No=Se(Uc),ea=T({},Zs,{relatedTarget:0}),Ga=Se(ea),Do=T({},ke,{animationName:0,elapsedTime:0,pseudoElement:0}),$r=Se(Do),Jr=T({},ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Io=Se(Jr),ka=T({},ke,{data:0}),Wr=Se(ka),Vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oo(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Mo[t])?!!n[t]:!1}function qa(){return Oo}var xo=T({},Zs,{key:function(t){if(t.key){var n=Vo[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_i[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qa,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ha=Se(xo),$e=T({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Se($e),Uo=T({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qa}),Ji=Se(Uo),u=T({},ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),m=Se(u),y=T({},Ws,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),b=Se(y),z=T({},ke,{newState:0,oldState:0}),q=Se(z),et=[9,13,27,32],St=Ze&&"CompositionEvent"in window,te=null;Ze&&"documentMode"in document&&(te=document.documentMode);var Gt=Ze&&"TextEvent"in window&&!te,fe=Ze&&(!St||te&&8<te&&11>=te),rn=" ",$n=!1;function On(t,n){switch(t){case"keyup":return et.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function el(t,n){switch(t){case"compositionend":return xn(n);case"keypress":return n.which!==32?null:($n=!0,rn);case"textInput":return t=n.data,t===rn&&$n?null:t;default:return null}}function x0(t,n){if(Un)return t==="compositionend"||!St&&On(t,n)?(t=Co(),Ba=$t=vn=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return fe&&n.locale!=="ko"?null:n.data;default:return null}}var U0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function im(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!U0[t.type]:n==="textarea"}function sm(t,n,s,l){Xi?Xe?Xe.push(l):Xe=[l]:Xi=l,n=Tu(n,"onChange"),0<n.length&&(s=new Xs("onChange","change",null,s,l),t.push({event:s,listeners:n}))}var nl=null,il=null;function L0(t){zp(t,0)}function Lo(t){var n=Hi(t);if(Ft(n))return t}function am(t,n){if(t==="change")return n}var rm=!1;if(Ze){var Lc;if(Ze){var Pc="oninput"in document;if(!Pc){var lm=document.createElement("div");lm.setAttribute("oninput","return;"),Pc=typeof lm.oninput=="function"}Lc=Pc}else Lc=!1;rm=Lc&&(!document.documentMode||9<document.documentMode)}function om(){nl&&(nl.detachEvent("onpropertychange",um),il=nl=null)}function um(t){if(t.propertyName==="value"&&Lo(il)){var n=[];sm(n,il,t,Xr(t)),Qs(L0,n)}}function P0(t,n,s){t==="focusin"?(om(),nl=n,il=s,nl.attachEvent("onpropertychange",um)):t==="focusout"&&om()}function z0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lo(il)}function B0(t,n){if(t==="click")return Lo(n)}function j0(t,n){if(t==="input"||t==="change")return Lo(n)}function G0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:G0;function sl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var s=Object.keys(t),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var c=s[l];if(!Da.call(n,c)||!ln(t[c],n[c]))return!1}return!0}function cm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hm(t,n){var s=cm(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=n&&l>=n)return{node:s,offset:n-t};t=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=cm(s)}}function fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function dm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=gi(t.document);n instanceof t.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)t=n.contentWindow;else break;n=gi(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var k0=Ze&&"documentMode"in document&&11>=document.documentMode,Fa=null,Bc=null,al=null,jc=!1;function mm(t,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;jc||Fa==null||Fa!==gi(l)||(l=Fa,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&sl(al,l)||(al=l,l=Tu(Bc,"onSelect"),0<l.length&&(n=new Xs("onSelect","select",null,n,s),t.push({event:n,listeners:l}),n.target=Fa)))}function na(t,n){var s={};return s[t.toLowerCase()]=n.toLowerCase(),s["Webkit"+t]="webkit"+n,s["Moz"+t]="moz"+n,s}var Qa={animationend:na("Animation","AnimationEnd"),animationiteration:na("Animation","AnimationIteration"),animationstart:na("Animation","AnimationStart"),transitionrun:na("Transition","TransitionRun"),transitionstart:na("Transition","TransitionStart"),transitioncancel:na("Transition","TransitionCancel"),transitionend:na("Transition","TransitionEnd")},Gc={},gm={};Ze&&(gm=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function ia(t){if(Gc[t])return Gc[t];if(!Qa[t])return t;var n=Qa[t],s;for(s in n)if(n.hasOwnProperty(s)&&s in gm)return Gc[t]=n[s];return t}var pm=ia("animationend"),ym=ia("animationiteration"),_m=ia("animationstart"),q0=ia("transitionrun"),H0=ia("transitionstart"),F0=ia("transitioncancel"),vm=ia("transitionend"),Em=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function Ln(t,n){Em.set(t,n),Yn(n,[t])}var Tm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var s=Tm.get(t);return s!==void 0?s:(n={value:t,source:n,stack:Vn(n)},Tm.set(t,n),n)}return{value:t,source:n,stack:Vn(n)}}var Tn=[],Ya=0,qc=0;function Po(){for(var t=Ya,n=qc=Ya=0;n<t;){var s=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var v=l.pending;v===null?c.next=c:(c.next=v.next,v.next=c),l.pending=c}f!==0&&bm(s,c,f)}}function zo(t,n,s,l){Tn[Ya++]=t,Tn[Ya++]=n,Tn[Ya++]=s,Tn[Ya++]=l,qc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Hc(t,n,s,l){return zo(t,n,s,l),Bo(t)}function Ka(t,n){return zo(t,null,null,n),Bo(t)}function bm(t,n,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var c=!1,f=t.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-Ke(s),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=s|536870912),f):null}function Bo(t){if(50<Il)throw Il=0,Zh=null,Error(r(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Xa={};function Q0(t,n,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,s,l){return new Q0(t,n,s,l)}function Fc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vi(t,n){var s=t.alternate;return s===null?(s=on(t.tag,n,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=n,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,n=t.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Sm(t,n){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,n=s.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function jo(t,n,s,l,c,f){var v=0;if(l=t,typeof t=="function")Fc(t)&&(v=1);else if(typeof t=="string")v=KE(t,s,mt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=on(31,s,n,c),t.elementType=w,t.lanes=f,t;case W:return sa(s.children,c,f,n);case nt:v=8,c|=24;break;case J:return t=on(12,s,n,c|2),t.elementType=J,t.lanes=f,t;case tt:return t=on(13,s,n,c),t.elementType=tt,t.lanes=f,t;case ut:return t=on(19,s,n,c),t.elementType=ut,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ft:case Q:v=10;break t;case ht:v=9;break t;case lt:v=11;break t;case D:v=14;break t;case S:v=16,l=null;break t}v=29,s=Error(r(130,t===null?"null":typeof t,"")),l=null}return n=on(v,s,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function sa(t,n,s,l){return t=on(7,t,l,n),t.lanes=s,t}function Qc(t,n,s){return t=on(6,t,null,n),t.lanes=s,t}function Yc(t,n,s){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=s,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Za=[],$a=0,Go=null,ko=0,bn=[],Sn=0,aa=null,Ei=1,Ti="";function ra(t,n){Za[$a++]=ko,Za[$a++]=Go,Go=t,ko=n}function Am(t,n,s){bn[Sn++]=Ei,bn[Sn++]=Ti,bn[Sn++]=aa,aa=t;var l=Ei;t=Ti;var c=32-Ke(l)-1;l&=~(1<<c),s+=1;var f=32-Ke(n)+c;if(30<f){var v=c-c%5;f=(l&(1<<v)-1).toString(32),l>>=v,c-=v,Ei=1<<32-Ke(n)+c|s<<c|l,Ti=f+t}else Ei=1<<f|s<<c|l,Ti=t}function Kc(t){t.return!==null&&(ra(t,1),Am(t,1,0))}function Xc(t){for(;t===Go;)Go=Za[--$a],Za[$a]=null,ko=Za[--$a],Za[$a]=null;for(;t===aa;)aa=bn[--Sn],bn[Sn]=null,Ti=bn[--Sn],bn[Sn]=null,Ei=bn[--Sn],bn[Sn]=null}var Je=null,le=null,Bt=!1,la=null,Jn=!1,Zc=Error(r(519));function oa(t){var n=Error(r(418,""));throw ol(En(n,t)),Zc}function Rm(t){var n=t.stateNode,s=t.type,l=t.memoizedProps;switch(n[ce]=t,n[xe]=l,s){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<Ml.length;s++)Dt(Ml[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),Hr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Yi(n);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),So(n,l.value,l.defaultValue,l.children),Yi(n)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||kp(n.textContent,s)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=bu),n=!0):n=!1,n||oa(t)}function wm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Je=Je.return}}function rl(t){if(t!==Je)return!1;if(!Bt)return wm(t),Bt=!0,!1;var n=t.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||df(t.type,t.memoizedProps)),s=!s),s&&le&&oa(t),wm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(s=t.data,s==="/$"){if(n===0){le=zn(t.nextSibling);break t}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,ms(t.type)?(t=yf,yf=null,le=t):le=n):le=Je?zn(t.stateNode.nextSibling):null;return!0}function ll(){le=Je=null,Bt=!1}function Cm(){var t=la;return t!==null&&(nn===null?nn=t:nn.push.apply(nn,t),la=null),t}function ol(t){la===null?la=[t]:la.push(t)}var $c=$(null),ua=null,bi=null;function Wi(t,n,s){it($c,n._currentValue),n._currentValue=s}function Si(t){t._currentValue=$c.current,at($c)}function Jc(t,n,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===s)break;t=t.return}}function Wc(t,n,s,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var v=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jc(f.return,s,t),l||(v=null);break t}f=E.next}}else if(c.tag===18){if(v=c.return,v===null)throw Error(r(341));v.lanes|=s,f=v.alternate,f!==null&&(f.lanes|=s),Jc(v,s,t),v=null}else v=c.child;if(v!==null)v.return=c;else for(v=c;v!==null;){if(v===t){v=null;break}if(c=v.sibling,c!==null){c.return=v.return,v=c;break}v=v.return}c=v}}function ul(t,n,s,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var v=c.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=c.type;ln(c.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(c===Oe.current){if(v=c.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}c=c.return}t!==null&&Wc(n,t,s,l),n.flags|=262144}function qo(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ca(t){ua=t,bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Nm(ua,t)}function Ho(t,n){return ua===null&&ca(t),Nm(t,n)}function Nm(t,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},bi===null){if(t===null)throw Error(r(308));bi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else bi=bi.next=n;return s}var Y0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(s){return s()})}},K0=a.unstable_scheduleCallback,X0=a.unstable_NormalPriority,Ae={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function th(){return{controller:new Y0,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&K0(X0,function(){t.controller.abort()})}var hl=null,eh=0,Ja=0,Wa=null;function Z0(t,n){if(hl===null){var s=hl=[];eh=0,Ja=sf(),Wa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return eh++,n.then(Dm,Dm),n}function Dm(){if(--eh===0&&hl!==null){Wa!==null&&(Wa.status="fulfilled");var t=hl;hl=null,Ja=0,Wa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function $0(t,n){var s=[],l={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),l}var Im=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Z0(t,n),Im!==null&&Im(t,n)};var ha=$(null);function nh(){var t=ha.current;return t!==null?t:Jt.pooledCache}function Fo(t,n){n===null?it(ha,ha.current):it(ha,n.pool)}function Vm(){var t=nh();return t===null?null:{parent:Ae._currentValue,pool:t}}var fl=Error(r(460)),Mm=Error(r(474)),Qo=Error(r(542)),ih={then:function(){}};function Om(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Yo(){}function xm(t,n,s){switch(s=t[s],s===void 0?t.push(n):s!==n&&(n.then(Yo,Yo),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t;default:if(typeof n.status=="string")n.then(Yo,Yo);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Lm(t),t}throw dl=n,fl}}var dl=null;function Um(){if(dl===null)throw Error(r(459));var t=dl;return dl=null,t}function Lm(t){if(t===fl||t===Qo)throw Error(r(483))}var ts=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ah(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ns(t,n,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(kt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Bo(t),bm(t,null,s),n}return zo(t,l,n,s),Bo(t)}function ml(t,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ki(t,s)}}function rh(t,n){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var c=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?c=f=v:f=f.next=v,s=s.next}while(s!==null);f===null?c=f=n:f=f.next=n}else c=f=n;s={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=n:t.next=n,s.lastBaseUpdate=n}var lh=!1;function gl(){if(lh){var t=Wa;if(t!==null)throw t}}function pl(t,n,s,l){lh=!1;var c=t.updateQueue;ts=!1;var f=c.firstBaseUpdate,v=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,B=R.next;R.next=null,v===null?f=B:v.next=B,v=R;var F=t.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==v&&(E===null?F.firstBaseUpdate=B:E.next=B,F.lastBaseUpdate=R))}if(f!==null){var X=c.baseState;v=0,F=B=R=null,E=f;do{var j=E.lane&-536870913,G=j!==E.lane;if(G?(Ot&j)===j:(l&j)===j){j!==0&&j===Ja&&(lh=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var Tt=t,yt=E;j=n;var Kt=s;switch(yt.tag){case 1:if(Tt=yt.payload,typeof Tt=="function"){X=Tt.call(Kt,X,j);break t}X=Tt;break t;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=yt.payload,j=typeof Tt=="function"?Tt.call(Kt,X,j):Tt,j==null)break t;X=T({},X,j);break t;case 2:ts=!0}}j=E.callback,j!==null&&(t.flags|=64,G&&(t.flags|=8192),G=c.callbacks,G===null?c.callbacks=[j]:G.push(j))}else G={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(B=F=G,R=X):F=F.next=G,v|=j;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;G=E,E=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);F===null&&(R=X),c.baseState=R,c.firstBaseUpdate=B,c.lastBaseUpdate=F,f===null&&(c.shared.lanes=0),cs|=v,t.lanes=v,t.memoizedState=X}}function Pm(t,n){if(typeof t!="function")throw Error(r(191,t));t.call(n)}function zm(t,n){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)Pm(s[t],n)}var tr=$(null),Ko=$(0);function Bm(t,n){t=Ii,it(Ko,t),it(tr,n),Ii=t|n.baseLanes}function oh(){it(Ko,Ii),it(tr,tr.current)}function uh(){Ii=Ko.current,at(tr),at(Ko)}var is=0,wt=null,Qt=null,pe=null,Xo=!1,er=!1,fa=!1,Zo=0,yl=0,nr=null,J0=0;function de(){throw Error(r(321))}function ch(t,n){if(n===null)return!1;for(var s=0;s<n.length&&s<t.length;s++)if(!ln(t[s],n[s]))return!1;return!0}function hh(t,n,s,l,c,f){return is=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?bg:Sg,fa=!1,f=s(l,c),fa=!1,er&&(f=Gm(n,s,l,c)),jm(t),f}function jm(t){H.H=nu;var n=Qt!==null&&Qt.next!==null;if(is=0,pe=Qt=wt=null,Xo=!1,yl=0,nr=null,n)throw Error(r(300));t===null||De||(t=t.dependencies,t!==null&&qo(t)&&(De=!0))}function Gm(t,n,s,l){wt=t;var c=0;do{if(er&&(nr=null),yl=0,er=!1,25<=c)throw Error(r(301));if(c+=1,pe=Qt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=aE,f=n(s,l)}while(er);return f}function W0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?_l(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(wt.flags|=1024),n}function fh(){var t=Zo!==0;return Zo=0,t}function dh(t,n,s){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~s}function mh(t){if(Xo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Xo=!1}is=0,pe=Qt=wt=null,er=!1,yl=Zo=0,nr=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?wt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Qt===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=pe===null?wt.memoizedState:pe.next;if(n!==null)pe=n,Qt=t;else{if(t===null)throw wt.alternate===null?Error(r(467)):Error(r(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?wt.memoizedState=pe=t:pe=pe.next=t}return pe}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _l(t){var n=yl;return yl+=1,nr===null&&(nr=[]),t=xm(nr,t,n),n=wt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?bg:Sg),t}function $o(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _l(t);if(t.$$typeof===Q)return qe(t)}throw Error(r(438,String(t)))}function ph(t){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=wt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=gh(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(t),l=0;l<t;l++)s[l]=O;return n.index++,s}function Ai(t,n){return typeof n=="function"?n(t):n}function Jo(t){var n=ye();return yh(n,Qt,t)}function yh(t,n,s){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=s;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var v=c.next;c.next=f.next,f.next=v}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=v=null,R=null,B=n,F=!1;do{var X=B.lane&-536870913;if(X!==B.lane?(Ot&X)===X:(is&X)===X){var j=B.revertLane;if(j===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),X===Ja&&(F=!0);else if((is&j)===j){B=B.next,j===Ja&&(F=!0);continue}else X={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=X,v=f):R=R.next=X,wt.lanes|=j,cs|=j;X=B.action,fa&&s(f,X),f=B.hasEagerState?B.eagerState:s(f,X)}else j={lane:X,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},R===null?(E=R=j,v=f):R=R.next=j,wt.lanes|=X,cs|=X;B=B.next}while(B!==null&&B!==n);if(R===null?v=f:R.next=E,!ln(f,t.memoizedState)&&(De=!0,F&&(s=Wa,s!==null)))throw s;t.memoizedState=f,t.baseState=v,t.baseQueue=R,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _h(t){var n=ye(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=t;var l=s.dispatch,c=s.pending,f=n.memoizedState;if(c!==null){s.pending=null;var v=c=c.next;do f=t(f,v.action),v=v.next;while(v!==c);ln(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function km(t,n,s){var l=wt,c=ye(),f=Bt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var v=!ln((Qt||c).memoizedState,s);v&&(c.memoizedState=s,De=!0),c=c.queue;var E=Fm.bind(null,l,c,t);if(vl(2048,8,E,[t]),c.getSnapshot!==n||v||pe!==null&&pe.memoizedState.tag&1){if(l.flags|=2048,ir(9,Wo(),Hm.bind(null,l,c,s,n),null),Jt===null)throw Error(r(349));f||(is&124)!==0||qm(l,n,s)}return s}function qm(t,n,s){t.flags|=16384,t={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=gh(),wt.updateQueue=n,n.stores=[t]):(s=n.stores,s===null?n.stores=[t]:s.push(t))}function Hm(t,n,s,l){n.value=s,n.getSnapshot=l,Qm(n)&&Ym(t)}function Fm(t,n,s){return s(function(){Qm(n)&&Ym(t)})}function Qm(t){var n=t.getSnapshot;t=t.value;try{var s=n();return!ln(t,s)}catch{return!0}}function Ym(t){var n=Ka(t,2);n!==null&&dn(n,t,2)}function vh(t){var n=tn();if(typeof t=="function"){var s=t;if(t=s(),fa){gn(!0);try{s()}finally{gn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:t},n}function Km(t,n,s,l){return t.baseState=s,yh(t,Qt,typeof l=="function"?l:Ai)}function tE(t,n,s,l,c){if(eu(t))throw Error(r(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Xm(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Xm(t,n){var s=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var E=s(c,l),R=H.S;R!==null&&R(v,E),Zm(t,n,E)}catch(B){Eh(t,n,B)}finally{H.T=f}}else try{f=s(c,l),Zm(t,n,f)}catch(B){Eh(t,n,B)}}function Zm(t,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){$m(t,n,l)},function(l){return Eh(t,n,l)}):$m(t,n,s)}function $m(t,n,s){n.status="fulfilled",n.value=s,Jm(n),t.state=s,n=t.pending,n!==null&&(s=n.next,s===n?t.pending=null:(s=s.next,n.next=s,Xm(t,s)))}function Eh(t,n,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Jm(n),n=n.next;while(n!==l)}t.action=null}function Jm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Wm(t,n){return n}function tg(t,n){if(Bt){var s=Jt.formState;if(s!==null){t:{var l=wt;if(Bt){if(le){e:{for(var c=le,f=Jn;c.nodeType!==8;){if(!f){c=null;break e}if(c=zn(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){le=zn(c.nextSibling),l=c.data==="F!";break t}}oa(l)}l=!1}l&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wm,lastRenderedState:n},s.queue=l,s=vg.bind(null,wt,l),l.dispatch=s,l=vh(!1),f=Rh.bind(null,wt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,s=tE.bind(null,wt,c,f,s),c.dispatch=s,l.memoizedState=t,[n,s,!1]}function eg(t){var n=ye();return ng(n,Qt,t)}function ng(t,n,s){if(n=yh(t,n,Wm)[0],t=Jo(Ai)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=_l(n)}catch(v){throw v===fl?Qo:v}else l=n;n=ye();var c=n.queue,f=c.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,ir(9,Wo(),eE.bind(null,c,s),null)),[l,f,t]}function eE(t,n){t.action=n}function ig(t){var n=ye(),s=Qt;if(s!==null)return ng(n,s,t);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=t,[n,l,!1]}function ir(t,n,s,l){return t={tag:t,create:s,deps:l,inst:n,next:null},n=wt.updateQueue,n===null&&(n=gh(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,n.lastEffect=t),t}function Wo(){return{destroy:void 0,resource:void 0}}function sg(){return ye().memoizedState}function tu(t,n,s,l){var c=tn();l=l===void 0?null:l,wt.flags|=t,c.memoizedState=ir(1|n,Wo(),s,l)}function vl(t,n,s,l){var c=ye();l=l===void 0?null:l;var f=c.memoizedState.inst;Qt!==null&&l!==null&&ch(l,Qt.memoizedState.deps)?c.memoizedState=ir(n,f,s,l):(wt.flags|=t,c.memoizedState=ir(1|n,f,s,l))}function ag(t,n){tu(8390656,8,t,n)}function rg(t,n){vl(2048,8,t,n)}function lg(t,n){return vl(4,2,t,n)}function og(t,n){return vl(4,4,t,n)}function ug(t,n){if(typeof n=="function"){t=t();var s=n(t);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function cg(t,n,s){s=s!=null?s.concat([t]):null,vl(4,4,ug.bind(null,n,t),s)}function Th(){}function hg(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&ch(n,l[1])?l[0]:(s.memoizedState=[t,n],t)}function fg(t,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&ch(n,l[1]))return l[0];if(l=t(),fa){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,n],l}function bh(t,n,s){return s===void 0||(is&1073741824)!==0?t.memoizedState=n:(t.memoizedState=s,t=gp(),wt.lanes|=t,cs|=t,s)}function dg(t,n,s,l){return ln(s,n)?s:tr.current!==null?(t=bh(t,s,l),ln(t,n)||(De=!0),t):(is&42)===0?(De=!0,t.memoizedState=s):(t=gp(),wt.lanes|=t,cs|=t,n)}function mg(t,n,s,l,c){var f=st.p;st.p=f!==0&&8>f?f:8;var v=H.T,E={};H.T=E,Rh(t,!1,n,s);try{var R=c(),B=H.S;if(B!==null&&B(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=$0(R,l);El(t,n,F,fn(t))}else El(t,n,l,fn(t))}catch(X){El(t,n,{then:function(){},status:"rejected",reason:X},fn())}finally{st.p=f,H.T=v}}function nE(){}function Sh(t,n,s,l){if(t.tag!==5)throw Error(r(476));var c=gg(t).queue;mg(t,c,n,pt,s===null?nE:function(){return pg(t),s(l)})}function gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:pt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:s},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function pg(t){var n=gg(t).next.queue;El(t,n,{},fn())}function Ah(){return qe(zl)}function yg(){return ye().memoizedState}function _g(){return ye().memoizedState}function iE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var s=fn();t=es(s);var l=ns(n,t,s);l!==null&&(dn(l,n,s),ml(l,n,s)),n={cache:th()},t.payload=n;return}n=n.return}}function sE(t,n,s){var l=fn();s={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},eu(t)?Eg(n,s):(s=Hc(t,n,s,l),s!==null&&(dn(s,t,l),Tg(s,n,l)))}function vg(t,n,s){var l=fn();El(t,n,s,l)}function El(t,n,s,l){var c={lane:l,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(eu(t))Eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,E=f(v,s);if(c.hasEagerState=!0,c.eagerState=E,ln(E,v))return zo(t,n,c,0),Jt===null&&Po(),!1}catch{}finally{}if(s=Hc(t,n,c,l),s!==null)return dn(s,t,l),Tg(s,n,l),!0}return!1}function Rh(t,n,s,l){if(l={lane:2,revertLane:sf(),action:l,hasEagerState:!1,eagerState:null,next:null},eu(t)){if(n)throw Error(r(479))}else n=Hc(t,s,l,2),n!==null&&dn(n,t,2)}function eu(t){var n=t.alternate;return t===wt||n!==null&&n===wt}function Eg(t,n){er=Xo=!0;var s=t.pending;s===null?n.next=n:(n.next=s.next,s.next=n),t.pending=n}function Tg(t,n,s){if((s&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,s|=l,n.lanes=s,ki(t,s)}}var nu={readContext:qe,use:$o,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},bg={readContext:qe,use:$o,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:ag,useImperativeHandle:function(t,n,s){s=s!=null?s.concat([t]):null,tu(4194308,4,ug.bind(null,n,t),s)},useLayoutEffect:function(t,n){return tu(4194308,4,t,n)},useInsertionEffect:function(t,n){tu(4,2,t,n)},useMemo:function(t,n){var s=tn();n=n===void 0?null:n;var l=t();if(fa){gn(!0);try{t()}finally{gn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(t,n,s){var l=tn();if(s!==void 0){var c=s(n);if(fa){gn(!0);try{s(n)}finally{gn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=sE.bind(null,wt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=vh(t);var n=t.queue,s=vg.bind(null,wt,n);return n.dispatch=s,[t.memoizedState,s]},useDebugValue:Th,useDeferredValue:function(t,n){var s=tn();return bh(s,t,n)},useTransition:function(){var t=vh(!1);return t=mg.bind(null,wt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,s){var l=wt,c=tn();if(Bt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),Jt===null)throw Error(r(349));(Ot&124)!==0||qm(l,n,s)}c.memoizedState=s;var f={value:s,getSnapshot:n};return c.queue=f,ag(Fm.bind(null,l,f,t),[t]),l.flags|=2048,ir(9,Wo(),Hm.bind(null,l,f,s,n),null),s},useId:function(){var t=tn(),n=Jt.identifierPrefix;if(Bt){var s=Ti,l=Ei;s=(l&~(1<<32-Ke(l)-1)).toString(32)+s,n=""+n+"R"+s,s=Zo++,0<s&&(n+="H"+s.toString(32)),n+=""}else s=J0++,n=""+n+"r"+s.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Ah,useFormState:tg,useActionState:tg,useOptimistic:function(t){var n=tn();n.memoizedState=n.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rh.bind(null,wt,!0,s),s.dispatch=n,[t,n]},useMemoCache:ph,useCacheRefresh:function(){return tn().memoizedState=iE.bind(null,wt)}},Sg={readContext:qe,use:$o,useCallback:hg,useContext:qe,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:Jo,useRef:sg,useState:function(){return Jo(Ai)},useDebugValue:Th,useDeferredValue:function(t,n){var s=ye();return dg(s,Qt.memoizedState,t,n)},useTransition:function(){var t=Jo(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:km,useId:yg,useHostTransitionStatus:Ah,useFormState:eg,useActionState:eg,useOptimistic:function(t,n){var s=ye();return Km(s,Qt,t,n)},useMemoCache:ph,useCacheRefresh:_g},aE={readContext:qe,use:$o,useCallback:hg,useContext:qe,useEffect:rg,useImperativeHandle:cg,useInsertionEffect:lg,useLayoutEffect:og,useMemo:fg,useReducer:_h,useRef:sg,useState:function(){return _h(Ai)},useDebugValue:Th,useDeferredValue:function(t,n){var s=ye();return Qt===null?bh(s,t,n):dg(s,Qt.memoizedState,t,n)},useTransition:function(){var t=_h(Ai)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:_l(t),n]},useSyncExternalStore:km,useId:yg,useHostTransitionStatus:Ah,useFormState:ig,useActionState:ig,useOptimistic:function(t,n){var s=ye();return Qt!==null?Km(s,Qt,t,n):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:ph,useCacheRefresh:_g},sr=null,Tl=0;function iu(t){var n=Tl;return Tl+=1,sr===null&&(sr=[]),xm(sr,t,n)}function bl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function su(t,n){throw n.$$typeof===A?Error(r(525)):(t=Object.prototype.toString.call(n),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ag(t){var n=t._init;return n(t._payload)}function Rg(t){function n(x,M){if(t){var P=x.deletions;P===null?(x.deletions=[M],x.flags|=16):P.push(M)}}function s(x,M){if(!t)return null;for(;M!==null;)n(x,M),M=M.sibling;return null}function l(x){for(var M=new Map;x!==null;)x.key!==null?M.set(x.key,x):M.set(x.index,x),x=x.sibling;return M}function c(x,M){return x=vi(x,M),x.index=0,x.sibling=null,x}function f(x,M,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<M?(x.flags|=67108866,M):P):(x.flags|=67108866,M)):(x.flags|=1048576,M)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function E(x,M,P,Y){return M===null||M.tag!==6?(M=Qc(P,x.mode,Y),M.return=x,M):(M=c(M,P),M.return=x,M)}function R(x,M,P,Y){var ct=P.type;return ct===W?F(x,M,P.props.children,Y,P.key):M!==null&&(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ag(ct)===M.type)?(M=c(M,P.props),bl(M,P),M.return=x,M):(M=jo(P.type,P.key,P.props,null,x.mode,Y),bl(M,P),M.return=x,M)}function B(x,M,P,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Yc(P,x.mode,Y),M.return=x,M):(M=c(M,P.children||[]),M.return=x,M)}function F(x,M,P,Y,ct){return M===null||M.tag!==7?(M=sa(P,x.mode,Y,ct),M.return=x,M):(M=c(M,P),M.return=x,M)}function X(x,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qc(""+M,x.mode,P),M.return=x,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return P=jo(M.type,M.key,M.props,null,x.mode,P),bl(P,M),P.return=x,P;case k:return M=Yc(M,x.mode,P),M.return=x,M;case S:var Y=M._init;return M=Y(M._payload),X(x,M,P)}if(ee(M)||U(M))return M=sa(M,x.mode,P,null),M.return=x,M;if(typeof M.then=="function")return X(x,iu(M),P);if(M.$$typeof===Q)return X(x,Ho(x,M),P);su(x,M)}return null}function j(x,M,P,Y){var ct=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(x,M,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return P.key===ct?R(x,M,P,Y):null;case k:return P.key===ct?B(x,M,P,Y):null;case S:return ct=P._init,P=ct(P._payload),j(x,M,P,Y)}if(ee(P)||U(P))return ct!==null?null:F(x,M,P,Y,null);if(typeof P.then=="function")return j(x,M,iu(P),Y);if(P.$$typeof===Q)return j(x,M,Ho(x,P),Y);su(x,P)}return null}function G(x,M,P,Y,ct){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return x=x.get(P)||null,E(M,x,""+Y,ct);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case N:return x=x.get(Y.key===null?P:Y.key)||null,R(M,x,Y,ct);case k:return x=x.get(Y.key===null?P:Y.key)||null,B(M,x,Y,ct);case S:var Ct=Y._init;return Y=Ct(Y._payload),G(x,M,P,Y,ct)}if(ee(Y)||U(Y))return x=x.get(P)||null,F(M,x,Y,ct,null);if(typeof Y.then=="function")return G(x,M,P,iu(Y),ct);if(Y.$$typeof===Q)return G(x,M,P,Ho(M,Y),ct);su(M,Y)}return null}function Tt(x,M,P,Y){for(var ct=null,Ct=null,dt=M,_t=M=0,Ve=null;dt!==null&&_t<P.length;_t++){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var zt=j(x,dt,P[_t],Y);if(zt===null){dt===null&&(dt=Ve);break}t&&dt&&zt.alternate===null&&n(x,dt),M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt,dt=Ve}if(_t===P.length)return s(x,dt),Bt&&ra(x,_t),ct;if(dt===null){for(;_t<P.length;_t++)dt=X(x,P[_t],Y),dt!==null&&(M=f(dt,M,_t),Ct===null?ct=dt:Ct.sibling=dt,Ct=dt);return Bt&&ra(x,_t),ct}for(dt=l(dt);_t<P.length;_t++)Ve=G(dt,x,_t,P[_t],Y),Ve!==null&&(t&&Ve.alternate!==null&&dt.delete(Ve.key===null?_t:Ve.key),M=f(Ve,M,_t),Ct===null?ct=Ve:Ct.sibling=Ve,Ct=Ve);return t&&dt.forEach(function(vs){return n(x,vs)}),Bt&&ra(x,_t),ct}function yt(x,M,P,Y){if(P==null)throw Error(r(151));for(var ct=null,Ct=null,dt=M,_t=M=0,Ve=null,zt=P.next();dt!==null&&!zt.done;_t++,zt=P.next()){dt.index>_t?(Ve=dt,dt=null):Ve=dt.sibling;var vs=j(x,dt,zt.value,Y);if(vs===null){dt===null&&(dt=Ve);break}t&&dt&&vs.alternate===null&&n(x,dt),M=f(vs,M,_t),Ct===null?ct=vs:Ct.sibling=vs,Ct=vs,dt=Ve}if(zt.done)return s(x,dt),Bt&&ra(x,_t),ct;if(dt===null){for(;!zt.done;_t++,zt=P.next())zt=X(x,zt.value,Y),zt!==null&&(M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return Bt&&ra(x,_t),ct}for(dt=l(dt);!zt.done;_t++,zt=P.next())zt=G(dt,x,_t,zt.value,Y),zt!==null&&(t&&zt.alternate!==null&&dt.delete(zt.key===null?_t:zt.key),M=f(zt,M,_t),Ct===null?ct=zt:Ct.sibling=zt,Ct=zt);return t&&dt.forEach(function(rT){return n(x,rT)}),Bt&&ra(x,_t),ct}function Kt(x,M,P,Y){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case N:t:{for(var ct=P.key;M!==null;){if(M.key===ct){if(ct=P.type,ct===W){if(M.tag===7){s(x,M.sibling),Y=c(M,P.props.children),Y.return=x,x=Y;break t}}else if(M.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&Ag(ct)===M.type){s(x,M.sibling),Y=c(M,P.props),bl(Y,P),Y.return=x,x=Y;break t}s(x,M);break}else n(x,M);M=M.sibling}P.type===W?(Y=sa(P.props.children,x.mode,Y,P.key),Y.return=x,x=Y):(Y=jo(P.type,P.key,P.props,null,x.mode,Y),bl(Y,P),Y.return=x,x=Y)}return v(x);case k:t:{for(ct=P.key;M!==null;){if(M.key===ct)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(x,M.sibling),Y=c(M,P.children||[]),Y.return=x,x=Y;break t}else{s(x,M);break}else n(x,M);M=M.sibling}Y=Yc(P,x.mode,Y),Y.return=x,x=Y}return v(x);case S:return ct=P._init,P=ct(P._payload),Kt(x,M,P,Y)}if(ee(P))return Tt(x,M,P,Y);if(U(P)){if(ct=U(P),typeof ct!="function")throw Error(r(150));return P=ct.call(P),yt(x,M,P,Y)}if(typeof P.then=="function")return Kt(x,M,iu(P),Y);if(P.$$typeof===Q)return Kt(x,M,Ho(x,P),Y);su(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(x,M.sibling),Y=c(M,P),Y.return=x,x=Y):(s(x,M),Y=Qc(P,x.mode,Y),Y.return=x,x=Y),v(x)):s(x,M)}return function(x,M,P,Y){try{Tl=0;var ct=Kt(x,M,P,Y);return sr=null,ct}catch(dt){if(dt===fl||dt===Qo)throw dt;var Ct=on(29,dt,null,x.mode);return Ct.lanes=Y,Ct.return=x,Ct}finally{}}}var ar=Rg(!0),wg=Rg(!1),An=$(null),Wn=null;function ss(t){var n=t.alternate;it(Re,Re.current&1),it(An,t),Wn===null&&(n===null||tr.current!==null||n.memoizedState!==null)&&(Wn=t)}function Cg(t){if(t.tag===22){if(it(Re,Re.current),it(An,t),Wn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Wn=t)}}else as()}function as(){it(Re,Re.current),it(An,An.current)}function Ri(t){at(An),Wn===t&&(Wn=null),at(Re)}var Re=$(0);function au(t){for(var n=t;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||pf(s)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wh(t,n,s,l){n=t.memoizedState,s=s(l,n),s=s==null?n:T({},n,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Ch={enqueueSetState:function(t,n,s){t=t._reactInternals;var l=fn(),c=es(l);c.payload=n,s!=null&&(c.callback=s),n=ns(t,c,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,s){t=t._reactInternals;var l=fn(),c=es(l);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=ns(t,c,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var s=fn(),l=es(s);l.tag=2,n!=null&&(l.callback=n),n=ns(t,l,s),n!==null&&(dn(n,t,s),ml(n,t,s))}};function Ng(t,n,s,l,c,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):n.prototype&&n.prototype.isPureReactComponent?!sl(s,l)||!sl(c,f):!0}function Dg(t,n,s,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==t&&Ch.enqueueReplaceState(n,n.state,null)}function da(t,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(t=t.defaultProps){s===n&&(s=T({},s));for(var c in t)s[c]===void 0&&(s[c]=t[c])}return s}var ru=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Ig(t){ru(t)}function Vg(t){console.error(t)}function Mg(t){ru(t)}function lu(t,n){try{var s=t.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Og(t,n,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nh(t,n,s){return s=es(s),s.tag=3,s.payload={element:null},s.callback=function(){lu(t,n)},s}function xg(t){return t=es(t),t.tag=3,t}function Ug(t,n,s,l){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){Og(n,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Og(n,s,l),typeof c!="function"&&(hs===null?hs=new Set([this]):hs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function rE(t,n,s,l,c){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ul(n,s,c,!0),s=An.current,s!==null){switch(s.tag){case 13:return Wn===null?Jh():s.alternate===null&&oe===0&&(oe=3),s.flags&=-257,s.flags|=65536,s.lanes=c,l===ih?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),tf(t,l,c)),!1;case 22:return s.flags|=65536,l===ih?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),tf(t,l,c)),!1}throw Error(r(435,s.tag))}return tf(t,l,c),Jh(),!1}if(Bt)return n=An.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Zc&&(t=Error(r(422),{cause:l}),ol(En(t,s)))):(l!==Zc&&(n=Error(r(423),{cause:l}),ol(En(n,s))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,s),c=Nh(t.stateNode,l,c),rh(t,c),oe!==4&&(oe=2)),!1;var f=Error(r(520),{cause:l});if(f=En(f,s),Dl===null?Dl=[f]:Dl.push(f),oe!==4&&(oe=2),n===null)return!0;l=En(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,t=c&-c,s.lanes|=t,t=Nh(s.stateNode,l,t),rh(s,t),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(hs===null||!hs.has(f))))return s.flags|=65536,c&=-c,s.lanes|=c,c=xg(c),Ug(c,t,s,l),rh(s,c),!1}s=s.return}while(s!==null);return!1}var Lg=Error(r(461)),De=!1;function Ue(t,n,s,l){n.child=t===null?wg(n,null,s,l):ar(n,t.child,s,l)}function Pg(t,n,s,l,c){s=s.render;var f=n.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return ca(n),l=hh(t,n,s,v,f,c),E=fh(),t!==null&&!De?(dh(t,n,c),wi(t,n,c)):(Bt&&E&&Kc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function zg(t,n,s,l,c){if(t===null){var f=s.type;return typeof f=="function"&&!Fc(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Bg(t,n,f,l,c)):(t=jo(s.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Lh(t,c)){var v=f.memoizedProps;if(s=s.compare,s=s!==null?s:sl,s(v,l)&&t.ref===n.ref)return wi(t,n,c)}return n.flags|=1,t=vi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Bg(t,n,s,l,c){if(t!==null){var f=t.memoizedProps;if(sl(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Lh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,wi(t,n,c)}return Dh(t,n,s,l,c)}function jg(t,n,s){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|s:s,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Gg(t,n,l,s)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Fo(n,f!==null?f.cachePool:null),f!==null?Bm(n,f):oh(),Cg(n);else return n.lanes=n.childLanes=536870912,Gg(t,n,f!==null?f.baseLanes|s:s,s)}else f!==null?(Fo(n,f.cachePool),Bm(n,f),as(),n.memoizedState=null):(t!==null&&Fo(n,null),oh(),as());return Ue(t,n,c,s),n.child}function Gg(t,n,s,l){var c=nh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:s,cachePool:c},t!==null&&Fo(n,null),oh(),Cg(n),t!==null&&ul(t,n,l,!0),null}function ou(t,n){var s=n.ref;if(s===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(t===null||t.ref!==s)&&(n.flags|=4194816)}}function Dh(t,n,s,l,c){return ca(n),s=hh(t,n,s,l,void 0,c),l=fh(),t!==null&&!De?(dh(t,n,c),wi(t,n,c)):(Bt&&l&&Kc(n),n.flags|=1,Ue(t,n,s,c),n.child)}function kg(t,n,s,l,c,f){return ca(n),n.updateQueue=null,s=Gm(n,l,s,c),jm(t),l=fh(),t!==null&&!De?(dh(t,n,f),wi(t,n,f)):(Bt&&l&&Kc(n),n.flags|=1,Ue(t,n,s,f),n.child)}function qg(t,n,s,l,c){if(ca(n),n.stateNode===null){var f=Xa,v=s.contextType;typeof v=="object"&&v!==null&&(f=qe(v)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sh(n),v=s.contextType,f.context=typeof v=="object"&&v!==null?qe(v):Xa,f.state=n.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(wh(n,s,v,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Ch.enqueueReplaceState(f,f.state,null),pl(n,l,f,c),gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,R=da(s,E);f.props=R;var B=f.context,F=s.contextType;v=Xa,typeof F=="object"&&F!==null&&(v=qe(F));var X=s.getDerivedStateFromProps;F=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||B!==v)&&Dg(n,f,l,v),ts=!1;var j=n.memoizedState;f.state=j,pl(n,l,f,c),gl(),B=n.memoizedState,E||j!==B||ts?(typeof X=="function"&&(wh(n,s,X,l),B=n.memoizedState),(R=ts||Ng(n,s,R,l,j,B,v))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),f.props=l,f.state=B,f.context=v,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,ah(t,n),v=n.memoizedProps,F=da(s,v),f.props=F,X=n.pendingProps,j=f.context,B=s.contextType,R=Xa,typeof B=="object"&&B!==null&&(R=qe(B)),E=s.getDerivedStateFromProps,(B=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==X||j!==R)&&Dg(n,f,l,R),ts=!1,j=n.memoizedState,f.state=j,pl(n,l,f,c),gl();var G=n.memoizedState;v!==X||j!==G||ts||t!==null&&t.dependencies!==null&&qo(t.dependencies)?(typeof E=="function"&&(wh(n,s,E,l),G=n.memoizedState),(F=ts||Ng(n,s,F,l,j,G,R)||t!==null&&t.dependencies!==null&&qo(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,G,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,G,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=G),f.props=l,f.state=G,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,ou(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=ar(n,t.child,null,c),n.child=ar(n,null,s,c)):Ue(t,n,s,c),n.memoizedState=f.state,t=n.child):t=wi(t,n,c),t}function Hg(t,n,s,l){return ll(),n.flags|=256,Ue(t,n,s,l),n.child}var Ih={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vh(t){return{baseLanes:t,cachePool:Vm()}}function Mh(t,n,s){return t=t!==null?t.childLanes&~s:0,n&&(t|=Rn),t}function Fg(t,n,s){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(Re.current&2)!==0),v&&(c=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?ss(n):as(),Bt){var E=le,R;if(R=E){t:{for(R=E,E=Jn;R.nodeType!==8;){if(!E){E=null;break t}if(R=zn(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:aa!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Je=n,le=null,R=!0):R=!1}R||oa(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return pf(E)?n.lanes=32:n.lanes=536870912,null;Ri(n)}return E=l.children,l=l.fallback,c?(as(),c=n.mode,E=uu({mode:"hidden",children:E},c),l=sa(l,c,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Vh(s),c.childLanes=Mh(t,v,s),n.memoizedState=Ih,l):(ss(n),Oh(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ss(n),n.flags&=-257,n=xh(t,n,s)):n.memoizedState!==null?(as(),n.child=t.child,n.flags|=128,n=null):(as(),c=l.fallback,E=n.mode,l=uu({mode:"visible",children:l.children},E),c=sa(c,E,s,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,ar(n,t.child,null,s),l=n.child,l.memoizedState=Vh(s),l.childLanes=Mh(t,v,s),n.memoizedState=Ih,n=c);else if(ss(n),pf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(r(419)),l.stack="",l.digest=v,ol({value:l,source:null,stack:null}),n=xh(t,n,s)}else if(De||ul(t,n,s,!1),v=(s&t.childLanes)!==0,De||v){if(v=Jt,v!==null&&(l=s&-s,l=(l&42)!==0?1:Gr(l),l=(l&(v.suspendedLanes|s))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ka(t,l),dn(v,t,l),Lg;E.data==="$?"||Jh(),n=xh(t,n,s)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=zn(E.nextSibling),Je=n,Bt=!0,la=null,Jn=!1,t!==null&&(bn[Sn++]=Ei,bn[Sn++]=Ti,bn[Sn++]=aa,Ei=t.id,Ti=t.overflow,aa=n),n=Oh(n,l.children),n.flags|=4096);return n}return c?(as(),c=l.fallback,E=n.mode,R=t.child,B=R.sibling,l=vi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,B!==null?c=vi(B,c):(c=sa(c,E,s,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Vh(s):(R=E.cachePool,R!==null?(B=Ae._currentValue,R=R.parent!==B?{parent:B,pool:B}:R):R=Vm(),E={baseLanes:E.baseLanes|s,cachePool:R}),c.memoizedState=E,c.childLanes=Mh(t,v,s),n.memoizedState=Ih,l):(ss(n),s=t.child,t=s.sibling,s=vi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,t!==null&&(v=n.deletions,v===null?(n.deletions=[t],n.flags|=16):v.push(t)),n.child=s,n.memoizedState=null,s)}function Oh(t,n){return n=uu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function uu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xh(t,n,s){return ar(n,t.child,null,s),t=Oh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Qg(t,n,s){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,s)}function Uh(t,n,s,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=s,f.tailMode=c)}function Yg(t,n,s){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,s),l=Re.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qg(t,s,n);else if(t.tag===19)Qg(t,s,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(it(Re,l),c){case"forwards":for(s=n.child,c=null;s!==null;)t=s.alternate,t!==null&&au(t)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),Uh(n,!1,c,s,f);break;case"backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&au(t)===null){n.child=c;break}t=c.sibling,c.sibling=s,s=c,c=t}Uh(n,!0,s,null,f);break;case"together":Uh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function wi(t,n,s){if(t!==null&&(n.dependencies=t.dependencies),cs|=n.lanes,(s&n.childLanes)===0)if(t!==null){if(ul(t,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(r(153));if(n.child!==null){for(t=n.child,s=vi(t,t.pendingProps),n.child=s,s.return=n;t.sibling!==null;)t=t.sibling,s=s.sibling=vi(t,t.pendingProps),s.return=n;s.sibling=null}return n.child}function Lh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&qo(t)))}function lE(t,n,s){switch(n.tag){case 3:Ht(n,n.stateNode.containerInfo),Wi(n,Ae,t.memoizedState.cache),ll();break;case 27:case 5:Pr(n);break;case 4:Ht(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Fg(t,n,s):(ss(n),t=wi(t,n,s),t!==null?t.sibling:null);ss(n);break;case 19:var c=(t.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ul(t,n,s,!1),l=(s&n.childLanes)!==0),c){if(l)return Yg(t,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),it(Re,Re.current),l)break;return null;case 22:case 23:return n.lanes=0,jg(t,n,s);case 24:Wi(n,Ae,t.memoizedState.cache)}return wi(t,n,s)}function Kg(t,n,s){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Lh(t,s)&&(n.flags&128)===0)return De=!1,lE(t,n,s);De=(t.flags&131072)!==0}else De=!1,Bt&&(n.flags&1048576)!==0&&Am(n,ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Fc(l)?(t=da(l,t),n.tag=1,n=qg(null,n,l,t,s)):(n.tag=0,n=Dh(null,n,l,t,s));else{if(l!=null){if(c=l.$$typeof,c===lt){n.tag=11,n=Pg(null,n,l,t,s);break t}else if(c===D){n.tag=14,n=zg(null,n,l,t,s);break t}}throw n=re(l)||l,Error(r(306,n,""))}}return n;case 0:return Dh(t,n,n.type,n.pendingProps,s);case 1:return l=n.type,c=da(l,n.pendingProps),qg(t,n,l,c,s);case 3:t:{if(Ht(n,n.stateNode.containerInfo),t===null)throw Error(r(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,ah(t,n),pl(n,l,null,s);var v=n.memoizedState;if(l=v.cache,Wi(n,Ae,l),l!==f.cache&&Wc(n,[Ae],s,!0),gl(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Hg(t,n,l,s);break t}else if(l!==c){c=En(Error(r(424)),n),ol(c),n=Hg(t,n,l,s);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=zn(t.firstChild),Je=n,Bt=!0,la=null,Jn=!0,s=wg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(ll(),l===c){n=wi(t,n,s);break t}Ue(t,n,l,s)}n=n.child}return n;case 26:return ou(t,n),t===null?(s=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,t=n.pendingProps,l=Su(Et.current).createElement(s),l[ce]=n,l[xe]=t,Pe(l,s,t),he(l),n.stateNode=l):n.memoizedState=Jp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Pr(n),t===null&&Bt&&(l=n.stateNode=Xp(n.type,n.pendingProps,Et.current),Je=n,Jn=!0,c=le,ms(n.type)?(yf=c,le=zn(l.firstChild)):le=c),Ue(t,n,n.pendingProps.children,s),ou(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=le)&&(l=UE(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Je=n,le=zn(l.firstChild),Jn=!1,c=!0):c=!1),c||oa(n)),Pr(n),c=n.type,f=n.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,df(c,f)?l=null:v!==null&&df(c,v)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(t,n,W0,null,null,s),zl._currentValue=c),ou(t,n),Ue(t,n,l,s),n.child;case 6:return t===null&&Bt&&((t=s=le)&&(s=LE(s,n.pendingProps,Jn),s!==null?(n.stateNode=s,Je=n,le=null,t=!0):t=!1),t||oa(n)),null;case 13:return Fg(t,n,s);case 4:return Ht(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ar(n,null,l,s):Ue(t,n,l,s),n.child;case 11:return Pg(t,n,n.type,n.pendingProps,s);case 7:return Ue(t,n,n.pendingProps,s),n.child;case 8:return Ue(t,n,n.pendingProps.children,s),n.child;case 12:return Ue(t,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),Ue(t,n,l.children,s),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ca(n),c=qe(c),l=l(c),n.flags|=1,Ue(t,n,l,s),n.child;case 14:return zg(t,n,n.type,n.pendingProps,s);case 15:return Bg(t,n,n.type,n.pendingProps,s);case 19:return Yg(t,n,s);case 31:return l=n.pendingProps,s=n.mode,l={mode:l.mode,children:l.children},t===null?(s=uu(l,s),s.ref=n.ref,n.child=s,s.return=n,n=s):(s=vi(t.child,l),s.ref=n.ref,n.child=s,s.return=n,n=s),n;case 22:return jg(t,n,s);case 24:return ca(n),l=qe(Ae),t===null?(c=nh(),c===null&&(c=Jt,f=th(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=s),c=f),n.memoizedState={parent:l,cache:c},sh(n),Wi(n,Ae,c)):((t.lanes&s)!==0&&(ah(t,n),pl(n,null,null,s),gl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),Wi(n,Ae,l)):(l=f.cache,Wi(n,Ae,l),l!==c.cache&&Wc(n,[Ae],s,!0))),Ue(t,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Ci(t){t.flags|=4}function Xg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n)){if(n=An.current,n!==null&&((Ot&4194048)===Ot?Wn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Wn))throw dl=ih,Mm;t.flags|=8192}}function cu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?ji():536870912,t.lanes|=n,ur|=n)}function Sl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function se(t){var n=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(n)for(var c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)s|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=s,n}function oE(t,n,s){var l=n.pendingProps;switch(Xc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Si(Ae),Nn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(rl(n)?Ci(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Cm())),se(n),null;case 26:return s=n.memoizedState,t===null?(Ci(n),s!==null?(se(n),Xg(n,s)):(se(n),n.flags&=-16777217)):s?s!==t.memoizedState?(Ci(n),se(n),Xg(n,s)):(se(n),n.flags&=-16777217):(t.memoizedProps!==l&&Ci(n),se(n),n.flags&=-16777217),null;case 27:Na(n),s=Et.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}t=mt.current,rl(n)?Rm(n):(t=Xp(c,l,s),n.stateNode=t,Ci(n))}return se(n),null;case 5:if(Na(n),s=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return se(n),null}if(t=mt.current,rl(n))Rm(n);else{switch(c=Su(Et.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(s,{is:l.is}):c.createElement(s)}}t[ce]=n,t[xe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Pe(t,s,l),s){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Ci(n)}}return se(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Ci(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(t=Et.current,rl(n)){if(t=n.stateNode,s=n.memoizedProps,l=null,c=Je,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[ce]=n,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||kp(t.nodeValue,s)),t||oa(n)}else t=Su(t).createTextNode(l),t[ce]=n,n.stateNode=t}return se(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=rl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[ce]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),c=!1}else c=Cm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ri(n),n):(Ri(n),null)}if(Ri(n),(n.flags&128)!==0)return n.lanes=s,n;if(s=l!==null,t=t!==null&&t.memoizedState!==null,s){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return s!==t&&s&&(n.child.flags|=8192),cu(n,n.updateQueue),se(n),null;case 4:return Nn(),t===null&&of(n.stateNode.containerInfo),se(n),null;case 10:return Si(n.type),se(n),null;case 19:if(at(Re),c=n.memoizedState,c===null)return se(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)Sl(c,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=au(t),f!==null){for(n.flags|=128,Sl(c,!1),t=f.updateQueue,n.updateQueue=t,cu(n,t),n.subtreeFlags=0,t=s,s=n.child;s!==null;)Sm(s,t),s=s.sibling;return it(Re,Re.current&1|2),n.child}t=t.sibling}c.tail!==null&&We()>du&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304)}else{if(!l)if(t=au(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,cu(n,t),Sl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return se(n),null}else 2*We()-c.renderingStartTime>du&&s!==536870912&&(n.flags|=128,l=!0,Sl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,t=Re.current,it(Re,l?t&1|2:t&1),n):(se(n),null);case 22:case 23:return Ri(n),uh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&cu(n,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),t!==null&&at(ha),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Si(Ae),se(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function uE(t,n){switch(Xc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Si(Ae),Nn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Na(n),null;case 13:if(Ri(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ll()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return at(Re),null;case 4:return Nn(),null;case 10:return Si(n.type),null;case 22:case 23:return Ri(n),uh(),t!==null&&at(ha),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Si(Ae),null;case 25:return null;default:return null}}function Zg(t,n){switch(Xc(n),n.tag){case 3:Si(Ae),Nn();break;case 26:case 27:case 5:Na(n);break;case 4:Nn();break;case 13:Ri(n);break;case 19:at(Re);break;case 10:Si(n.type);break;case 22:case 23:Ri(n),uh(),t!==null&&at(ha);break;case 24:Si(Ae)}}function Al(t,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var c=l.next;s=c;do{if((s.tag&t)===t){l=void 0;var f=s.create,v=s.inst;l=f(),v.destroy=l}s=s.next}while(s!==c)}}catch(E){Xt(n,n.return,E)}}function rs(t,n,s){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,c=n;var R=s,B=E;try{B()}catch(F){Xt(c,R,F)}}}l=l.next}while(l!==f)}}catch(F){Xt(n,n.return,F)}}function $g(t){var n=t.updateQueue;if(n!==null){var s=t.stateNode;try{zm(n,s)}catch(l){Xt(t,t.return,l)}}}function Jg(t,n,s){s.props=da(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Xt(t,n,l)}}function Rl(t,n){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(c){Xt(t,n,c)}}function ti(t,n){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){Xt(t,n,c)}else s.current=null}function Wg(t){var n=t.type,s=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(c){Xt(t,t.return,c)}}function Ph(t,n,s){try{var l=t.stateNode;IE(l,t.type,s,n),l[xe]=n}catch(c){Xt(t,t.return,c)}}function tp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ms(t.type)||t.tag===4}function zh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||tp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ms(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bh(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(t),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=bu));else if(l!==4&&(l===27&&ms(t.type)&&(s=t.stateNode,n=null),t=t.child,t!==null))for(Bh(t,n,s),t=t.sibling;t!==null;)Bh(t,n,s),t=t.sibling}function hu(t,n,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?s.insertBefore(t,n):s.appendChild(t);else if(l!==4&&(l===27&&ms(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(hu(t,n,s),t=t.sibling;t!==null;)hu(t,n,s),t=t.sibling}function ep(t){var n=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Pe(n,l,s),n[ce]=t,n[xe]=s}catch(f){Xt(t,t.return,f)}}var Ni=!1,me=!1,jh=!1,np=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function cE(t,n){if(t=t.containerInfo,hf=Du,t=dm(t),zc(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else t:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var v=0,E=-1,R=-1,B=0,F=0,X=t,j=null;e:for(;;){for(var G;X!==s||c!==0&&X.nodeType!==3||(E=v+c),X!==f||l!==0&&X.nodeType!==3||(R=v+l),X.nodeType===3&&(v+=X.nodeValue.length),(G=X.firstChild)!==null;)j=X,X=G;for(;;){if(X===t)break e;if(j===s&&++B===c&&(E=v),j===f&&++F===l&&(R=v),(G=X.nextSibling)!==null)break;X=j,j=X.parentNode}X=G}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ff={focusedElem:t,selectionRange:s},Du=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,s=n,c=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var Tt=da(s.type,c,s.elementType===s.type);t=l.getSnapshotBeforeUpdate(Tt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(yt){Xt(s,s.return,yt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,s=t.nodeType,s===9)gf(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function ip(t,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ls(t,s),l&4&&Al(5,s);break;case 1:if(ls(t,s),l&4)if(t=s.stateNode,n===null)try{t.componentDidMount()}catch(v){Xt(s,s.return,v)}else{var c=da(s.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Xt(s,s.return,v)}}l&64&&$g(s),l&512&&Rl(s,s.return);break;case 3:if(ls(t,s),l&64&&(t=s.updateQueue,t!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{zm(t,n)}catch(v){Xt(s,s.return,v)}}break;case 27:n===null&&l&4&&ep(s);case 26:case 5:ls(t,s),n===null&&l&4&&Wg(s),l&512&&Rl(s,s.return);break;case 12:ls(t,s);break;case 13:ls(t,s),l&4&&rp(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vE.bind(null,s),PE(t,s))));break;case 22:if(l=s.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||me,c=Ni;var f=me;Ni=l,(me=n)&&!f?os(t,s,(s.subtreeFlags&8772)!==0):ls(t,s),Ni=c,me=f}break;case 30:break;default:ls(t,s)}}function sp(t){var n=t.alternate;n!==null&&(t.alternate=null,sp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Oa(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ne=null,en=!1;function Di(t,n,s){for(s=s.child;s!==null;)ap(t,n,s),s=s.sibling}function ap(t,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Pi,s)}catch{}switch(s.tag){case 26:me||ti(s,n),Di(t,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:me||ti(s,n);var l=ne,c=en;ms(s.type)&&(ne=s.stateNode,en=!1),Di(t,n,s),xl(s.stateNode),ne=l,en=c;break;case 5:me||ti(s,n);case 6:if(l=ne,c=en,ne=null,Di(t,n,s),ne=l,en=c,ne!==null)if(en)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ne.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ne!==null&&(en?(t=ne,Yp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),kl(t)):Yp(ne,s.stateNode));break;case 4:l=ne,c=en,ne=s.stateNode.containerInfo,en=!0,Di(t,n,s),ne=l,en=c;break;case 0:case 11:case 14:case 15:me||rs(2,s,n),me||rs(4,s,n),Di(t,n,s);break;case 1:me||(ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Jg(s,n,l)),Di(t,n,s);break;case 21:Di(t,n,s);break;case 22:me=(l=me)||s.memoizedState!==null,Di(t,n,s),me=l;break;default:Di(t,n,s)}}function rp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(s){Xt(n,n.return,s)}}function hE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new np),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new np),n;default:throw Error(r(435,t.tag))}}function Gh(t,n){var s=hE(t);n.forEach(function(l){var c=EE.bind(null,t,l);s.has(l)||(s.add(l),l.then(c,c))})}function un(t,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var c=s[l],f=t,v=n,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(ms(E.type)){ne=E.stateNode,en=!1;break t}break;case 5:ne=E.stateNode,en=!1;break t;case 3:case 4:ne=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ne===null)throw Error(r(160));ap(f,v,c),ne=null,en=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)lp(n,t),n=n.sibling}var Pn=null;function lp(t,n){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(rs(3,t,t.return),Al(3,t),rs(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(me||s===null||ti(s,s.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var c=Pn;if(un(n,t),cn(t),l&512&&(me||s===null||ti(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){t:{l=t.type,s=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[qi]||f[ce]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),Pe(f,l,s),f[ce]=t,he(f),l=f;break t;case"link":var v=ey("link","href",c).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(f=v[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;case"meta":if(v=ey("meta","content",c).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(f=v[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break e}}f=c.createElement(l),Pe(f,l,s),c.head.appendChild(f);break;default:throw Error(r(468,l))}f[ce]=t,he(f),l=f}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ph(t,t.memoizedProps,s.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(me||s===null||ti(s,s.return)),s!==null&&l&4&&Ph(t,t.memoizedProps,s.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(me||s===null||ti(s,s.return)),t.flags&32){c=t.stateNode;try{_n(c,"")}catch(G){Xt(t,t.return,G)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Ph(t,c,s!==null?s.memoizedProps:c)),l&1024&&(jh=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(G){Xt(t,t.return,G)}}break;case 3:if(wu=null,c=Pn,Pn=Au(n.containerInfo),un(n,t),Pn=c,cn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{kl(n.containerInfo)}catch(G){Xt(t,t.return,G)}jh&&(jh=!1,op(t));break;case 4:l=Pn,Pn=Au(t.stateNode.containerInfo),un(n,t),cn(t),Pn=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yh=We()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 22:c=t.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,B=Ni,F=me;if(Ni=B||c,me=F||R,un(n,t),me=F,Ni=B,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||R||Ni||me||ma(t)),s=null,n=t;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,c)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,j=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(G){Xt(R,R.return,G)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=c?"":R.memoizedProps}catch(G){Xt(R,R.return,G)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Gh(t,s))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Gh(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var s,l=t.return;l!==null;){if(tp(l)){s=l;break}l=l.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var c=s.stateNode,f=zh(t);hu(t,f,c);break;case 5:var v=s.stateNode;s.flags&32&&(_n(v,""),s.flags&=-33);var E=zh(t);hu(t,E,v);break;case 3:case 4:var R=s.stateNode.containerInfo,B=zh(t);Bh(t,B,R);break;default:throw Error(r(161))}}catch(F){Xt(t,t.return,F)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function op(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;op(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ls(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ip(t,n.alternate,n),n=n.sibling}function ma(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rs(4,n,n.return),ma(n);break;case 1:ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Jg(n,n.return,s),ma(n);break;case 27:xl(n.stateNode);case 26:case 5:ti(n,n.return),ma(n);break;case 22:n.memoizedState===null&&ma(n);break;case 30:ma(n);break;default:ma(n)}t=t.sibling}}function os(t,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:os(c,f,s),Al(4,f);break;case 1:if(os(c,f,s),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){Xt(l,l.return,B)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)Pm(R[c],E)}catch(B){Xt(l,l.return,B)}}s&&v&64&&$g(f),Rl(f,f.return);break;case 27:ep(f);case 26:case 5:os(c,f,s),s&&l===null&&v&4&&Wg(f),Rl(f,f.return);break;case 12:os(c,f,s);break;case 13:os(c,f,s),s&&v&4&&rp(c,f);break;case 22:f.memoizedState===null&&os(c,f,s),Rl(f,f.return);break;case 30:break;default:os(c,f,s)}n=n.sibling}}function kh(t,n){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&cl(s))}function qh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function ei(t,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)up(t,n,s,l),n=n.sibling}function up(t,n,s,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,s,l),c&2048&&Al(9,n);break;case 1:ei(t,n,s,l);break;case 3:ei(t,n,s,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(c&2048){ei(t,n,s,l),t=n.stateNode;try{var f=n.memoizedProps,v=f.id,E=f.onPostCommit;typeof E=="function"&&E(v,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Xt(n,n.return,R)}}else ei(t,n,s,l);break;case 13:ei(t,n,s,l);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ei(t,n,s,l):wl(t,n):f._visibility&2?ei(t,n,s,l):(f._visibility|=2,rr(t,n,s,l,(n.subtreeFlags&10256)!==0)),c&2048&&kh(v,n);break;case 24:ei(t,n,s,l),c&2048&&qh(n.alternate,n);break;default:ei(t,n,s,l)}}function rr(t,n,s,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,v=n,E=s,R=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:rr(f,v,E,R,c),Al(8,v);break;case 23:break;case 22:var F=v.stateNode;v.memoizedState!==null?F._visibility&2?rr(f,v,E,R,c):wl(f,v):(F._visibility|=2,rr(f,v,E,R,c)),c&&B&2048&&kh(v.alternate,v);break;case 24:rr(f,v,E,R,c),c&&B&2048&&qh(v.alternate,v);break;default:rr(f,v,E,R,c)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=t,l=n,c=l.flags;switch(l.tag){case 22:wl(s,l),c&2048&&kh(l.alternate,l);break;case 24:wl(s,l),c&2048&&qh(l.alternate,l);break;default:wl(s,l)}n=n.sibling}}var Cl=8192;function lr(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)cp(t),t=t.sibling}function cp(t){switch(t.tag){case 26:lr(t),t.flags&Cl&&t.memoizedState!==null&&ZE(Pn,t.memoizedState,t.memoizedProps);break;case 5:lr(t);break;case 3:case 4:var n=Pn;Pn=Au(t.stateNode.containerInfo),lr(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,lr(t),Cl=n):lr(t));break;default:lr(t)}}function hp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,dp(l,t)}hp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fp(t),t=t.sibling}function fp(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&rs(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,fu(t)):Nl(t);break;default:Nl(t)}}function fu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ie=l,dp(l,t)}hp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rs(8,n,n.return),fu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,fu(n));break;default:fu(n)}t=t.sibling}}function dp(t,n){for(;Ie!==null;){var s=Ie;switch(s.tag){case 0:case 11:case 15:rs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ie=l;else t:for(s=t;Ie!==null;){l=Ie;var c=l.sibling,f=l.return;if(sp(l),l===s){Ie=null;break t}if(c!==null){c.return=f,Ie=c;break t}Ie=f}}}var fE={getCacheForType:function(t){var n=qe(Ae),s=n.data.get(t);return s===void 0&&(s=t(),n.data.set(t,s)),s}},dE=typeof WeakMap=="function"?WeakMap:Map,kt=0,Jt=null,Nt=null,Ot=0,qt=0,hn=null,us=!1,or=!1,Hh=!1,Ii=0,oe=0,cs=0,ga=0,Fh=0,Rn=0,ur=0,Dl=null,nn=null,Qh=!1,Yh=0,du=1/0,mu=null,hs=null,Le=0,fs=null,cr=null,hr=0,Kh=0,Xh=null,mp=null,Il=0,Zh=null;function fn(){if((kt&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=Ja;return t!==0?t:sf()}return fi()}function gp(){Rn===0&&(Rn=(Ot&536870912)===0||Bt?jr():536870912);var t=An.current;return t!==null&&(t.flags|=32),Rn}function dn(t,n,s){(t===Jt&&(qt===2||qt===9)||t.cancelPendingCommit!==null)&&(fr(t,0),ds(t,Ot,Rn,!1)),ue(t,s),((kt&2)===0||t!==Jt)&&(t===Jt&&((kt&2)===0&&(ga|=s),oe===4&&ds(t,Ot,Rn,!1)),ni(t))}function pp(t,n,s){if((kt&6)!==0)throw Error(r(327));var l=!s&&(n&124)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?pE(t,n):Wh(t,n,!0),f=l;do{if(c===0){or&&!l&&ds(t,n,0,!1);break}else{if(s=t.current.alternate,f&&!mE(s)){c=Wh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var E=t;c=Dl;var R=E.current.memoizedState.isDehydrated;if(R&&(fr(E,v).flags|=256),v=Wh(E,v,!1),v!==2){if(Hh&&!R){E.errorRecoveryDisabledLanes|=f,ga|=f,c=4;break t}f=nn,nn=c,f!==null&&(nn===null?nn=f:nn.push.apply(nn,f))}c=v}if(f=!1,c!==2)continue}}if(c===1){fr(t,0),ds(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ds(l,n,Rn,!us);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=Yh+300-We(),10<c)){if(ds(l,n,Rn,!us),pn(l,0,!0)!==0)break t;l.timeoutHandle=Fp(yp.bind(null,l,s,nn,mu,Qh,n,Rn,ga,ur,us,f,2,-0,0),c);break t}yp(l,s,nn,mu,Qh,n,Rn,ga,ur,us,f,0,-0,0)}}break}while(!0);ni(t)}function yp(t,n,s,l,c,f,v,E,R,B,F,X,j,G){if(t.timeoutHandle=-1,X=n.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:XE},cp(n),X=$E(),X!==null)){t.cancelPendingCommit=X(Ap.bind(null,t,n,f,s,l,c,v,E,R,F,1,j,G)),ds(t,f,v,!B);return}Ap(t,n,f,s,l,c,v,E,R)}function mE(t){for(var n=t;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var c=s[l],f=c.getSnapshot;c=c.value;try{if(!ln(f(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ds(t,n,s,l){n&=~Fh,n&=~ga,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),v=1<<f;l[f]=-1,c&=~v}s!==0&&Gi(t,s,n)}function gu(){return(kt&6)===0?(Vl(0),!1):!0}function $h(){if(Nt!==null){if(qt===0)var t=Nt.return;else t=Nt,bi=ua=null,mh(t),sr=null,Tl=0,t=Nt;for(;t!==null;)Zg(t.alternate,t),t=t.return;Nt=null}}function fr(t,n){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,ME(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),$h(),Jt=t,Nt=s=vi(t.current,null),Ot=n,qt=0,hn=null,us=!1,or=Bi(t,n),Hh=!1,ur=Rn=Fh=ga=cs=oe=0,nn=Dl=null,Qh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ke(l),f=1<<c;n|=t[c],l&=~f}return Ii=n,Po(),s}function _p(t,n){wt=null,H.H=nu,n===fl||n===Qo?(n=Um(),qt=3):n===Mm?(n=Um(),qt=4):qt=n===Lg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,hn=n,Nt===null&&(oe=1,lu(t,En(n,t.current)))}function vp(){var t=H.H;return H.H=nu,t===null?nu:t}function Ep(){var t=H.A;return H.A=fE,t}function Jh(){oe=4,us||(Ot&4194048)!==Ot&&An.current!==null||(or=!0),(cs&134217727)===0&&(ga&134217727)===0||Jt===null||ds(Jt,Ot,Rn,!1)}function Wh(t,n,s){var l=kt;kt|=2;var c=vp(),f=Ep();(Jt!==t||Ot!==n)&&(mu=null,fr(t,n)),n=!1;var v=oe;t:do try{if(qt!==0&&Nt!==null){var E=Nt,R=hn;switch(qt){case 8:$h(),v=6;break t;case 3:case 2:case 9:case 6:An.current===null&&(n=!0);var B=qt;if(qt=0,hn=null,dr(t,E,R,B),s&&or){v=0;break t}break;default:B=qt,qt=0,hn=null,dr(t,E,R,B)}}gE(),v=oe;break}catch(F){_p(t,F)}while(!0);return n&&t.shellSuspendCounter++,bi=ua=null,kt=l,H.H=c,H.A=f,Nt===null&&(Jt=null,Ot=0,Po()),v}function gE(){for(;Nt!==null;)Tp(Nt)}function pE(t,n){var s=kt;kt|=2;var l=vp(),c=Ep();Jt!==t||Ot!==n?(mu=null,du=We()+500,fr(t,n)):or=Bi(t,n);t:do try{if(qt!==0&&Nt!==null){n=Nt;var f=hn;e:switch(qt){case 1:qt=0,hn=null,dr(t,n,f,1);break;case 2:case 9:if(Om(f)){qt=0,hn=null,bp(n);break}n=function(){qt!==2&&qt!==9||Jt!==t||(qt=7),ni(t)},f.then(n,n);break t;case 3:qt=7;break t;case 4:qt=5;break t;case 7:Om(f)?(qt=0,hn=null,bp(n)):(qt=0,hn=null,dr(t,n,f,7));break;case 5:var v=null;switch(Nt.tag){case 26:v=Nt.memoizedState;case 5:case 27:var E=Nt;if(!v||iy(v)){qt=0,hn=null;var R=E.sibling;if(R!==null)Nt=R;else{var B=E.return;B!==null?(Nt=B,pu(B)):Nt=null}break e}}qt=0,hn=null,dr(t,n,f,5);break;case 6:qt=0,hn=null,dr(t,n,f,6);break;case 8:$h(),oe=6;break t;default:throw Error(r(462))}}yE();break}catch(F){_p(t,F)}while(!0);return bi=ua=null,H.H=l,H.A=c,kt=s,Nt!==null?0:(Jt=null,Ot=0,Po(),oe)}function yE(){for(;Nt!==null&&!Cc();)Tp(Nt)}function Tp(t){var n=Kg(t.alternate,t,Ii);t.memoizedProps=t.pendingProps,n===null?pu(t):Nt=n}function bp(t){var n=t,s=n.alternate;switch(n.tag){case 15:case 0:n=kg(s,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=kg(s,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:mh(n);default:Zg(s,n),n=Nt=Sm(n,Ii),n=Kg(s,n,Ii)}t.memoizedProps=t.pendingProps,n===null?pu(t):Nt=n}function dr(t,n,s,l){bi=ua=null,mh(n),sr=null,Tl=0;var c=n.return;try{if(rE(t,c,n,s,Ot)){oe=1,lu(t,En(s,t.current)),Nt=null;return}}catch(f){if(c!==null)throw Nt=c,f;oe=1,lu(t,En(s,t.current)),Nt=null;return}n.flags&32768?(Bt||l===1?t=!0:or||(Ot&536870912)!==0?t=!1:(us=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sp(n,t)):pu(n)}function pu(t){var n=t;do{if((n.flags&32768)!==0){Sp(n,us);return}t=n.return;var s=oE(n.alternate,n,Ii);if(s!==null){Nt=s;return}if(n=n.sibling,n!==null){Nt=n;return}Nt=n=t}while(n!==null);oe===0&&(oe=5)}function Sp(t,n){do{var s=uE(t.alternate,t);if(s!==null){s.flags&=32767,Nt=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(t=t.sibling,t!==null)){Nt=t;return}Nt=t=s}while(t!==null);oe=6,Nt=null}function Ap(t,n,s,l,c,f,v,E,R){t.cancelPendingCommit=null;do yu();while(Le!==0);if((kt&6)!==0)throw Error(r(327));if(n!==null){if(n===t.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=qc,Eo(t,s,f,v,E,R),t===Jt&&(Nt=Jt=null,Ot=0),cr=n,fs=t,hr=s,Kh=f,Xh=c,mp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,TE(hi,function(){return Dp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=st.p,st.p=2,v=kt,kt|=4;try{cE(t,n,s)}finally{kt=v,st.p=c,H.T=l}}Le=1,Rp(),wp(),Cp()}}function Rp(){if(Le===1){Le=0;var t=fs,n=cr,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=st.p;st.p=2;var c=kt;kt|=4;try{lp(n,t);var f=ff,v=dm(t.containerInfo),E=f.focusedElem,R=f.selectionRange;if(v!==E&&E&&E.ownerDocument&&fm(E.ownerDocument.documentElement,E)){if(R!==null&&zc(E)){var B=R.start,F=R.end;if(F===void 0&&(F=B),"selectionStart"in E)E.selectionStart=B,E.selectionEnd=Math.min(F,E.value.length);else{var X=E.ownerDocument||document,j=X&&X.defaultView||window;if(j.getSelection){var G=j.getSelection(),Tt=E.textContent.length,yt=Math.min(R.start,Tt),Kt=R.end===void 0?yt:Math.min(R.end,Tt);!G.extend&&yt>Kt&&(v=Kt,Kt=yt,yt=v);var x=hm(E,yt),M=hm(E,Kt);if(x&&M&&(G.rangeCount!==1||G.anchorNode!==x.node||G.anchorOffset!==x.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var P=X.createRange();P.setStart(x.node,x.offset),G.removeAllRanges(),yt>Kt?(G.addRange(P),G.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),G.addRange(P))}}}}for(X=[],G=E;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Du=!!hf,ff=hf=null}finally{kt=c,st.p=l,H.T=s}}t.current=n,Le=2}}function wp(){if(Le===2){Le=0;var t=fs,n=cr,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=st.p;st.p=2;var c=kt;kt|=4;try{ip(t,n.alternate,n)}finally{kt=c,st.p=l,H.T=s}}Le=3}}function Cp(){if(Le===4||Le===3){Le=0,zr();var t=fs,n=cr,s=hr,l=mp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,cr=fs=null,Np(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(hs=null),kr(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Pi,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=st.p,st.p=2,H.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];f(E.value,{componentStack:E.stack})}}finally{H.T=n,st.p=c}}(hr&3)!==0&&yu(),ni(t),c=t.pendingLanes,(s&4194090)!==0&&(c&42)!==0?t===Zh?Il++:(Il=0,Zh=t):Il=0,Vl(0)}}function Np(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function yu(t){return Rp(),wp(),Cp(),Dp()}function Dp(){if(Le!==5)return!1;var t=fs,n=Kh;Kh=0;var s=kr(hr),l=H.T,c=st.p;try{st.p=32>s?32:s,H.T=null,s=Xh,Xh=null;var f=fs,v=hr;if(Le=0,cr=fs=null,hr=0,(kt&6)!==0)throw Error(r(331));var E=kt;if(kt|=4,fp(f.current),up(f,f.current,v,s),kt=E,Vl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Pi,f)}catch{}return!0}finally{st.p=c,H.T=l,Np(t,n)}}function Ip(t,n,s){n=En(s,n),n=Nh(t.stateNode,n,2),t=ns(t,n,2),t!==null&&(ue(t,2),ni(t))}function Xt(t,n,s){if(t.tag===3)Ip(t,t,s);else for(;n!==null;){if(n.tag===3){Ip(n,t,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hs===null||!hs.has(l))){t=En(s,t),s=xg(2),l=ns(n,s,2),l!==null&&(Ug(s,l,n,t),ue(l,2),ni(l));break}}n=n.return}}function tf(t,n,s){var l=t.pingCache;if(l===null){l=t.pingCache=new dE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(s)||(Hh=!0,c.add(s),t=_E.bind(null,t,n,s),n.then(t,t))}function _E(t,n,s){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Jt===t&&(Ot&s)===s&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>We()-Yh?(kt&2)===0&&fr(t,0):Fh|=s,ur===Ot&&(ur=0)),ni(t)}function Vp(t,n){n===0&&(n=ji()),t=Ka(t,n),t!==null&&(ue(t,n),ni(t))}function vE(t){var n=t.memoizedState,s=0;n!==null&&(s=n.retryLane),Vp(t,s)}function EE(t,n){var s=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(s=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),Vp(t,s)}function TE(t,n){return xs(t,n)}var _u=null,mr=null,ef=!1,vu=!1,nf=!1,pa=0;function ni(t){t!==mr&&t.next===null&&(mr===null?_u=mr=t:mr=mr.next=t),vu=!0,ef||(ef=!0,SE())}function Vl(t,n){if(!nf&&vu){nf=!0;do for(var s=!1,l=_u;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var v=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-Ke(42|t)+1)-1,f&=c&~(v&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Up(l,f))}else f=Ot,f=pn(l,l===Jt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Bi(l,f)||(s=!0,Up(l,f));l=l.next}while(s);nf=!1}}function bE(){Mp()}function Mp(){vu=ef=!1;var t=0;pa!==0&&(VE()&&(t=pa),pa=0);for(var n=We(),s=null,l=_u;l!==null;){var c=l.next,f=Op(l,n);f===0?(l.next=null,s===null?_u=c:s.next=c,c===null&&(mr=s)):(s=l,(t!==0||(f&3)!==0)&&(vu=!0)),l=c}Vl(t)}function Op(t,n){for(var s=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-Ke(f),E=1<<v,R=c[v];R===-1?((E&s)===0||(E&l)!==0)&&(c[v]=Va(E,n)):R<=n&&(t.expiredLanes|=E),f&=~E}if(n=Jt,s=Ot,s=pn(t,t===n?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===n&&(qt===2||qt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ia(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Bi(t,s)){if(n=s&-s,n===t.callbackPriority)return n;switch(l!==null&&Ia(l),kr(s)){case 2:case 8:s=Ce;break;case 32:s=hi;break;case 268435456:s=Br;break;default:s=hi}return l=xp.bind(null,t),s=xs(s,l),t.callbackPriority=n,t.callbackNode=s,n}return l!==null&&l!==null&&Ia(l),t.callbackPriority=2,t.callbackNode=null,2}function xp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(yu()&&t.callbackNode!==s)return null;var l=Ot;return l=pn(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(pp(t,l,n),Op(t,We()),t.callbackNode!=null&&t.callbackNode===s?xp.bind(null,t):null)}function Up(t,n){if(yu())return null;pp(t,n,!0)}function SE(){OE(function(){(kt&6)!==0?xs(be,bE):Mp()})}function sf(){return pa===0&&(pa=jr()),pa}function Lp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Mn(""+t)}function Pp(t,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,t.id&&s.setAttribute("form",t.id),n.parentNode.insertBefore(s,n),t=new FormData(t),s.parentNode.removeChild(s),t}function AE(t,n,s,l,c){if(n==="submit"&&s&&s.stateNode===c){var f=Lp((c[xe]||null).action),v=l.submitter;v&&(n=(n=v[xe]||null)?Lp(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var E=new Xs("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(pa!==0){var R=v?Pp(c,v):new FormData(c);Sh(s,{pending:!0,data:R,method:c.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=v?Pp(c,v):new FormData(c),Sh(s,{pending:!0,data:R,method:c.method,action:f},f,R))},currentTarget:c}]})}}for(var af=0;af<kc.length;af++){var rf=kc[af],RE=rf.toLowerCase(),wE=rf[0].toUpperCase()+rf.slice(1);Ln(RE,"on"+wE)}Ln(pm,"onAnimationEnd"),Ln(ym,"onAnimationIteration"),Ln(_m,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(q0,"onTransitionRun"),Ln(H0,"onTransitionStart"),Ln(F0,"onTransitionCancel"),Ln(vm,"onTransitionEnd"),Kn("onMouseEnter",["mouseout","mouseover"]),Kn("onMouseLeave",["mouseout","mouseover"]),Kn("onPointerEnter",["pointerout","pointerover"]),Kn("onPointerLeave",["pointerout","pointerover"]),Yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ml));function zp(t,n){n=(n&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var v=l.length-1;0<=v;v--){var E=l[v],R=E.instance,B=E.currentTarget;if(E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}else for(v=0;v<l.length;v++){if(E=l[v],R=E.instance,B=E.currentTarget,E=E.listener,R!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=B;try{f(c)}catch(F){ru(F)}c.currentTarget=null,f=R}}}}function Dt(t,n){var s=n[Ls];s===void 0&&(s=n[Ls]=new Set);var l=t+"__bubble";s.has(l)||(Bp(n,t,2,!1),s.add(l))}function lf(t,n,s){var l=0;n&&(l|=4),Bp(s,t,l,n)}var Eu="_reactListening"+Math.random().toString(36).slice(2);function of(t){if(!t[Eu]){t[Eu]=!0,To.forEach(function(s){s!=="selectionchange"&&(CE.has(s)||lf(s,!1,t),lf(s,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Eu]||(n[Eu]=!0,lf("selectionchange",!1,n))}}function Bp(t,n,s,l){switch(uy(n)){case 2:var c=tT;break;case 8:c=eT;break;default:c=bf}s=c.bind(null,n,s,t),c=void 0,!yi||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,s,{capture:!0,passive:c}):t.addEventListener(n,s,!0):c!==void 0?t.addEventListener(n,s,{passive:c}):t.addEventListener(n,s,!1)}function uf(t,n,s,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===c)break;if(v===4)for(v=l.return;v!==null;){var R=v.tag;if((R===3||R===4)&&v.stateNode.containerInfo===c)return;v=v.return}for(;E!==null;){if(v=Fn(E),v===null)return;if(R=v.tag,R===5||R===6||R===26||R===27){l=f=v;continue t}E=E.parentNode}}l=l.return}Qs(function(){var B=f,F=Xr(s),X=[];t:{var j=Em.get(t);if(j!==void 0){var G=Xs,Tt=t;switch(t){case"keypress":if(Ys(s)===0)break t;case"keydown":case"keyup":G=Ha;break;case"focusin":Tt="focus",G=Ga;break;case"focusout":Tt="blur",G=Ga;break;case"beforeblur":case"afterblur":G=Ga;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=ta;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=No;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ji;break;case pm:case ym:case _m:G=$r;break;case vm:G=m;break;case"scroll":case"scrollend":G=$s;break;case"wheel":G=b;break;case"copy":case"cut":case"paste":G=Io;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=tl;break;case"toggle":case"beforetoggle":G=q}var yt=(n&4)!==0,Kt=!yt&&(t==="scroll"||t==="scrollend"),x=yt?j!==null?j+"Capture":null:j;yt=[];for(var M=B,P;M!==null;){var Y=M;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||x===null||(Y=Zi(M,x),Y!=null&&yt.push(Ol(M,Y,P))),Kt)break;M=M.return}0<yt.length&&(j=new G(j,Tt,null,s,F),X.push({event:j,listeners:yt}))}}if((n&7)===0){t:{if(j=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",j&&s!==Kr&&(Tt=s.relatedTarget||s.fromElement)&&(Fn(Tt)||Tt[di]))break t;if((G||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,G?(Tt=s.relatedTarget||s.toElement,G=B,Tt=Tt?Fn(Tt):null,Tt!==null&&(Kt=h(Tt),yt=Tt.tag,Tt!==Kt||yt!==5&&yt!==27&&yt!==6)&&(Tt=null)):(G=null,Tt=B),G!==Tt)){if(yt=ta,Y="onMouseLeave",x="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(yt=tl,Y="onPointerLeave",x="onPointerEnter",M="pointer"),Kt=G==null?j:Hi(G),P=Tt==null?j:Hi(Tt),j=new yt(Y,M+"leave",G,s,F),j.target=Kt,j.relatedTarget=P,Y=null,Fn(F)===B&&(yt=new yt(x,M+"enter",Tt,s,F),yt.target=P,yt.relatedTarget=Kt,Y=yt),Kt=Y,G&&Tt)e:{for(yt=G,x=Tt,M=0,P=yt;P;P=gr(P))M++;for(P=0,Y=x;Y;Y=gr(Y))P++;for(;0<M-P;)yt=gr(yt),M--;for(;0<P-M;)x=gr(x),P--;for(;M--;){if(yt===x||x!==null&&yt===x.alternate)break e;yt=gr(yt),x=gr(x)}yt=null}else yt=null;G!==null&&jp(X,j,G,yt,!1),Tt!==null&&Kt!==null&&jp(X,Kt,Tt,yt,!0)}}t:{if(j=B?Hi(B):window,G=j.nodeName&&j.nodeName.toLowerCase(),G==="select"||G==="input"&&j.type==="file")var ct=am;else if(im(j))if(rm)ct=j0;else{ct=z0;var Ct=P0}else G=j.nodeName,!G||G.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?B&&za(B.elementType)&&(ct=am):ct=B0;if(ct&&(ct=ct(t,B))){sm(X,ct,s,F);break t}Ct&&Ct(t,j,B),t==="focusout"&&B&&j.type==="number"&&B.memoizedProps.value!=null&&Fr(j,"number",j.value)}switch(Ct=B?Hi(B):window,t){case"focusin":(im(Ct)||Ct.contentEditable==="true")&&(Fa=Ct,Bc=B,al=null);break;case"focusout":al=Bc=Fa=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,mm(X,s,F);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":mm(X,s,F)}var dt;if(St)t:{switch(t){case"compositionstart":var _t="onCompositionStart";break t;case"compositionend":_t="onCompositionEnd";break t;case"compositionupdate":_t="onCompositionUpdate";break t}_t=void 0}else Un?On(t,s)&&(_t="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(_t="onCompositionStart");_t&&(fe&&s.locale!=="ko"&&(Un||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Un&&(dt=Co()):(vn=F,$t="value"in vn?vn.value:vn.textContent,Un=!0)),Ct=Tu(B,_t),0<Ct.length&&(_t=new Wr(_t,t,null,s,F),X.push({event:_t,listeners:Ct}),dt?_t.data=dt:(dt=xn(s),dt!==null&&(_t.data=dt)))),(dt=Gt?el(t,s):x0(t,s))&&(_t=Tu(B,"onBeforeInput"),0<_t.length&&(Ct=new Wr("onBeforeInput","beforeinput",null,s,F),X.push({event:Ct,listeners:_t}),Ct.data=dt)),AE(X,t,B,s,F)}zp(X,n)})}function Ol(t,n,s){return{instance:t,listener:n,currentTarget:s}}function Tu(t,n){for(var s=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Zi(t,s),c!=null&&l.unshift(Ol(t,c,f)),c=Zi(t,n),c!=null&&l.push(Ol(t,c,f))),t.tag===3)return l;t=t.return}return[]}function gr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function jp(t,n,s,l,c){for(var f=n._reactName,v=[];s!==null&&s!==l;){var E=s,R=E.alternate,B=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||B===null||(R=B,c?(B=Zi(s,f),B!=null&&v.unshift(Ol(s,B,R))):c||(B=Zi(s,f),B!=null&&v.push(Ol(s,B,R)))),s=s.return}v.length!==0&&t.push({event:n,listeners:v})}var NE=/\r\n?/g,DE=/\u0000|\uFFFD/g;function Gp(t){return(typeof t=="string"?t:""+t).replace(NE,`
`).replace(DE,"")}function kp(t,n){return n=Gp(n),Gp(t)===n}function bu(){}function Yt(t,n,s,l,c,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Gs(t,"class",l);break;case"tabIndex":Gs(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gs(t,s,l);break;case"style":Yr(t,l,f);break;case"data":if(n!=="object"){Gs(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Mn(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Mn(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=bu);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Mn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Dt("beforetoggle",t),Dt("toggle",t),js(t,"popover",l);break;case"xlinkActuate":yn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":yn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":yn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":yn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":yn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":yn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":yn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":yn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":yn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":js(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Ao.get(s)||s,js(t,s,l))}}function cf(t,n,s,l,c,f){switch(s){case"style":Yr(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(s=l.__html,s!=null){if(c.children!=null)throw Error(r(60));t.innerHTML=s}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Dt("scroll",t);break;case"onScrollEnd":l!=null&&Dt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=bu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zs.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),f=t[xe]||null,f=f!=null?f[s]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(n,l,c);break t}s in t?t[s]=l:l===!0?t.setAttribute(s,""):js(t,s,l)}}}function Pe(t,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",t),Dt("load",t);var l=!1,c=!1,f;for(f in s)if(s.hasOwnProperty(f)){var v=s[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,f,v,s,null)}}c&&Yt(t,n,"srcSet",s.srcSet,s,null),l&&Yt(t,n,"src",s.src,s,null);return;case"input":Dt("invalid",t);var E=f=v=c=null,R=null,B=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":c=F;break;case"type":v=F;break;case"checked":R=F;break;case"defaultChecked":B=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:Yt(t,n,l,F,s,null)}}Hr(t,f,E,R,B,v,c,!1),Yi(t);return;case"select":Dt("invalid",t),l=v=f=null;for(c in s)if(s.hasOwnProperty(c)&&(E=s[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Yt(t,n,c,E,s,null)}n=f,s=v,t.multiple=!!l,n!=null?Ki(t,!!l,n,!1):s!=null&&Ki(t,!!l,s,!0);return;case"textarea":Dt("invalid",t),f=c=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Yt(t,n,v,E,s,null)}So(t,l,c,f),Yi(t);return;case"option":for(R in s)if(s.hasOwnProperty(R)&&(l=s[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,R,l,s,null)}return;case"dialog":Dt("beforetoggle",t),Dt("toggle",t),Dt("cancel",t),Dt("close",t);break;case"iframe":case"object":Dt("load",t);break;case"video":case"audio":for(l=0;l<Ml.length;l++)Dt(Ml[l],t);break;case"image":Dt("error",t),Dt("load",t);break;case"details":Dt("toggle",t);break;case"embed":case"source":case"link":Dt("error",t),Dt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in s)if(s.hasOwnProperty(B)&&(l=s[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Yt(t,n,B,l,s,null)}return;default:if(za(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&cf(t,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Yt(t,n,E,l,s,null))}function IE(t,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,v=null,E=null,R=null,B=null,F=null;for(G in s){var X=s[G];if(s.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(G)||Yt(t,n,G,null,l,X)}}for(var j in l){var G=l[j];if(X=s[j],l.hasOwnProperty(j)&&(G!=null||X!=null))switch(j){case"type":f=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":F=G;break;case"value":v=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==X&&Yt(t,n,j,G,l,X)}}qr(t,v,E,R,B,F,f,c);return;case"select":G=v=E=j=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":G=R;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,R)}for(c in l)if(f=l[c],R=s[c],l.hasOwnProperty(c)&&(f!=null||R!=null))switch(c){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":v=f;default:f!==R&&Yt(t,n,c,f,l,R)}n=E,s=v,l=G,j!=null?Ki(t,!!s,j,!1):!!l!=!!s&&(n!=null?Ki(t,!!s,n,!0):Ki(t,!!s,s?[]:"",!1));return;case"textarea":G=j=null;for(E in s)if(c=s[E],s.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(v in l)if(c=l[v],f=s[v],l.hasOwnProperty(v)&&(c!=null||f!=null))switch(v){case"value":j=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==f&&Yt(t,n,v,c,l,f)}bo(t,j,G);return;case"option":for(var Tt in s)if(j=s[Tt],s.hasOwnProperty(Tt)&&j!=null&&!l.hasOwnProperty(Tt))switch(Tt){case"selected":t.selected=!1;break;default:Yt(t,n,Tt,null,l,j)}for(R in l)if(j=l[R],G=s[R],l.hasOwnProperty(R)&&j!==G&&(j!=null||G!=null))switch(R){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Yt(t,n,R,j,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)j=s[yt],s.hasOwnProperty(yt)&&j!=null&&!l.hasOwnProperty(yt)&&Yt(t,n,yt,null,l,j);for(B in l)if(j=l[B],G=s[B],l.hasOwnProperty(B)&&j!==G&&(j!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:Yt(t,n,B,j,l,G)}return;default:if(za(n)){for(var Kt in s)j=s[Kt],s.hasOwnProperty(Kt)&&j!==void 0&&!l.hasOwnProperty(Kt)&&cf(t,n,Kt,void 0,l,j);for(F in l)j=l[F],G=s[F],!l.hasOwnProperty(F)||j===G||j===void 0&&G===void 0||cf(t,n,F,j,l,G);return}}for(var x in s)j=s[x],s.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Yt(t,n,x,null,l,j);for(X in l)j=l[X],G=s[X],!l.hasOwnProperty(X)||j===G||j==null&&G==null||Yt(t,n,X,j,l,G)}var hf=null,ff=null;function Su(t){return t.nodeType===9?t:t.ownerDocument}function qp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Hp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function df(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mf=null;function VE(){var t=window.event;return t&&t.type==="popstate"?t===mf?!1:(mf=t,!0):(mf=null,!1)}var Fp=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,Qp=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof Qp<"u"?function(t){return Qp.resolve(null).then(t).catch(xE)}:Fp;function xE(t){setTimeout(function(){throw t})}function ms(t){return t==="head"}function Yp(t,n){var s=n,l=0,c=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(0<l&&8>l){s=l;var v=t.ownerDocument;if(s&1&&xl(v.documentElement),s&2&&xl(v.body),s&4)for(s=v.head,xl(s),v=s.firstChild;v;){var E=v.nextSibling,R=v.nodeName;v[qi]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&v.rel.toLowerCase()==="stylesheet"||s.removeChild(v),v=E}}if(c===0){t.removeChild(f),kl(n);return}c--}else s==="$"||s==="$?"||s==="$!"?c++:l=s.charCodeAt(0)-48;else l=0;s=f}while(s);kl(n)}function gf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gf(s),Oa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function UE(t,n,s,l){for(;t.nodeType===1;){var c=s;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[qi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function LE(t,n,s){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zn(t.nextSibling),t===null))return null;return t}function pf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function PE(t,n){var s=t.ownerDocument;if(t.data!=="$?"||s.readyState==="complete")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var yf=null;function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return t;n--}else s==="/$"&&n++}t=t.previousSibling}return null}function Xp(t,n,s){switch(n=Su(s),t){case"html":if(t=n.documentElement,!t)throw Error(r(452));return t;case"head":if(t=n.head,!t)throw Error(r(453));return t;case"body":if(t=n.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Oa(t)}var wn=new Map,Zp=new Set;function Au(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Vi=st.d;st.d={f:zE,r:BE,D:jE,C:GE,L:kE,m:qE,X:FE,S:HE,M:QE};function zE(){var t=Vi.f(),n=gu();return t||n}function BE(t){var n=Qn(t);n!==null&&n.tag===5&&n.type==="form"?pg(n):Vi.r(t)}var pr=typeof document>"u"?null:document;function $p(t,n,s){var l=pr;if(l&&typeof n=="string"&&n){var c=Ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:s,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function jE(t){Vi.D(t),$p("dns-prefetch",t,null)}function GE(t,n){Vi.C(t,n),$p("preconnect",t,n)}function kE(t,n,s){Vi.L(t,n,s);var l=pr;if(l&&t&&n){var c='link[rel="preload"][as="'+Ne(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+Ne(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+Ne(s.imageSizes)+'"]')):c+='[href="'+Ne(t)+'"]';var f=c;switch(n){case"style":f=yr(t);break;case"script":f=_r(t)}wn.has(f)||(t=T({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:t,as:n},s),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Ul(f))||n==="script"&&l.querySelector(Ll(f))||(n=l.createElement("link"),Pe(n,"link",t),he(n),l.head.appendChild(n)))}}function qE(t,n){Vi.m(t,n);var s=pr;if(s&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Ne(l)+'"][href="'+Ne(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_r(t)}if(!wn.has(f)&&(t=T({rel:"modulepreload",href:t},n),wn.set(f,t),s.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ll(f)))return}l=s.createElement("link"),Pe(l,"link",t),he(l),s.head.appendChild(l)}}}function HE(t,n,s){Vi.S(t,n,s);var l=pr;if(l&&t){var c=Fi(l).hoistableStyles,f=yr(t);n=n||"default";var v=c.get(f);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Ul(f)))E.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":n},s),(s=wn.get(f))&&_f(t,s);var R=v=l.createElement("link");he(R),Pe(R,"link",t),R._p=new Promise(function(B,F){R.onload=B,R.onerror=F}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ru(v,n,l)}v={type:"stylesheet",instance:v,count:1,state:E},c.set(f,v)}}}function FE(t,n){Vi.X(t,n);var s=pr;if(s&&t){var l=Fi(s).hoistableScripts,c=_r(t),f=l.get(c);f||(f=s.querySelector(Ll(c)),f||(t=T({src:t,async:!0},n),(n=wn.get(c))&&vf(t,n),f=s.createElement("script"),he(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function QE(t,n){Vi.M(t,n);var s=pr;if(s&&t){var l=Fi(s).hoistableScripts,c=_r(t),f=l.get(c);f||(f=s.querySelector(Ll(c)),f||(t=T({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&vf(t,n),f=s.createElement("script"),he(f),Pe(f,"link",t),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Jp(t,n,s,l){var c=(c=Et.current)?Au(c):null;if(!c)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=yr(s.href),s=Fi(c).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=yr(s.href);var f=Fi(c).hoistableStyles,v=f.get(t);if(v||(c=c.ownerDocument||c,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=c.querySelector(Ul(t)))&&!f._p&&(v.instance=f,v.state.loading=5),wn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},wn.set(t,s),f||YE(c,t,s,v.state))),n&&l===null)throw Error(r(528,""));return v}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=_r(s),s=Fi(c).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function yr(t){return'href="'+Ne(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function YE(t,n,s,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Pe(n,"link",s),he(n),t.head.appendChild(n))}function _r(t){return'[src="'+Ne(t)+'"]'}function Ll(t){return"script[async]"+t}function ty(t,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Ne(s.href)+'"]');if(l)return n.instance=l,he(l),l;var c=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),he(l),Pe(l,"style",c),Ru(l,s.precedence,t),n.instance=l;case"stylesheet":c=yr(s.href);var f=t.querySelector(Ul(c));if(f)return n.state.loading|=4,n.instance=f,he(f),f;l=Wp(s),(c=wn.get(c))&&_f(l,c),f=(t.ownerDocument||t).createElement("link"),he(f);var v=f;return v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",l),n.state.loading|=4,Ru(f,s.precedence,t),n.instance=f;case"script":return f=_r(s.src),(c=t.querySelector(Ll(f)))?(n.instance=c,he(c),c):(l=s,(c=wn.get(f))&&(l=T({},s),vf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),he(c),Pe(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ru(l,s.precedence,t));return n.instance}function Ru(t,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(t,n.firstChild))}function _f(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function vf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var wu=null;function ey(t,n,s){if(wu===null){var l=new Map,c=wu=new Map;c.set(s,l)}else c=wu,l=c.get(s),l||(l=new Map,c.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),c=0;c<s.length;c++){var f=s[c];if(!(f[qi]||f[ce]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=t+v;var E=l.get(v);E?E.push(f):l.set(v,[f])}}return l}function ny(t,n,s){t=t.ownerDocument||t,t.head.insertBefore(s,n==="title"?t.querySelector("head > title"):null)}function KE(t,n,s){if(s===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function XE(){}function ZE(t,n,s){if(Pl===null)throw Error(r(475));var l=Pl;if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=yr(s.href),f=t.querySelector(Ul(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,he(f);return}f=t.ownerDocument||t,s=Wp(s),(c=wn.get(c))&&_f(s,c),f=f.createElement("link"),he(f);var v=f;v._p=new Promise(function(E,R){v.onload=E,v.onerror=R}),Pe(f,"link",s),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Cu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function $E(){if(Pl===null)throw Error(r(475));var t=Pl;return t.stylesheets&&t.count===0&&Ef(t,t.stylesheets),0<t.count?function(n){var s=setTimeout(function(){if(t.stylesheets&&Ef(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s)}}:null}function Cu(){if(this.count--,this.count===0){if(this.stylesheets)Ef(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nu=null;function Ef(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nu=new Map,n.forEach(JE,t),Nu=null,Cu.call(t))}function JE(t,n){if(!(n.state.loading&4)){var s=Nu.get(t);if(s)var l=s.get(null);else{s=new Map,Nu.set(t,s);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var v=c[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}c=n.instance,v=c.getAttribute("data-precedence"),f=s.get(v)||l,f===l&&s.set(null,c),s.set(v,c),this.count++,l=Cu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var zl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function WE(t,n,s,l,c,f,v,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ma(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.hiddenUpdates=Ma(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function sy(t,n,s,l,c,f,v,E,R,B,F,X){return t=new WE(t,n,s,v,E,R,B,X),n=1,f===!0&&(n|=24),f=on(3,null,null,n),t.current=f,f.stateNode=t,n=th(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sh(f),t}function ay(t){return t?(t=Xa,t):Xa}function ry(t,n,s,l,c,f){c=ay(c),l.context===null?l.context=c:l.pendingContext=c,l=es(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=ns(t,l,n),s!==null&&(dn(s,t,n),ml(s,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<n?s:n}}function Tf(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function oy(t){if(t.tag===13){var n=Ka(t,67108864);n!==null&&dn(n,t,67108864),Tf(t,67108864)}}var Du=!0;function tT(t,n,s,l){var c=H.T;H.T=null;var f=st.p;try{st.p=2,bf(t,n,s,l)}finally{st.p=f,H.T=c}}function eT(t,n,s,l){var c=H.T;H.T=null;var f=st.p;try{st.p=8,bf(t,n,s,l)}finally{st.p=f,H.T=c}}function bf(t,n,s,l){if(Du){var c=Sf(l);if(c===null)uf(t,n,l,Iu,s),cy(t,l);else if(iT(c,t,n,s,l))l.stopPropagation();else if(cy(t,l),n&4&&-1<nT.indexOf(t)){for(;c!==null;){var f=Qn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Dn(f.pendingLanes);if(v!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var R=1<<31-Ke(v);E.entanglements[1]|=R,v&=~R}ni(f),(kt&6)===0&&(du=We()+500,Vl(0))}}break;case 13:E=Ka(f,2),E!==null&&dn(E,f,2),gu(),Tf(f,2)}if(f=Sf(l),f===null&&uf(t,n,l,Iu,s),f===c)break;c=f}c!==null&&l.stopPropagation()}else uf(t,n,l,null,s)}}function Sf(t){return t=Xr(t),Af(t)}var Iu=null;function Af(t){if(Iu=null,t=Fn(t),t!==null){var n=h(t);if(n===null)t=null;else{var s=n.tag;if(s===13){if(t=d(n),t!==null)return t;t=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Iu=t,null}function uy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yo()){case be:return 2;case Ce:return 8;case hi:case Nc:return 32;case Br:return 268435456;default:return 32}default:return 32}}var Rf=!1,gs=null,ps=null,ys=null,Bl=new Map,jl=new Map,_s=[],nT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(t,n){switch(t){case"focusin":case"focusout":gs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(n.pointerId)}}function Gl(t,n,s,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Qn(n),n!==null&&oy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function iT(t,n,s,l,c){switch(n){case"focusin":return gs=Gl(gs,t,n,s,l,c),!0;case"dragenter":return ps=Gl(ps,t,n,s,l,c),!0;case"mouseover":return ys=Gl(ys,t,n,s,l,c),!0;case"pointerover":var f=c.pointerId;return Bl.set(f,Gl(Bl.get(f)||null,t,n,s,l,c)),!0;case"gotpointercapture":return f=c.pointerId,jl.set(f,Gl(jl.get(f)||null,t,n,s,l,c)),!0}return!1}function hy(t){var n=Fn(t.target);if(n!==null){var s=h(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){t.blockedOn=n,Vc(t.priority,function(){if(s.tag===13){var l=fn();l=Gr(l);var c=Ka(s,l);c!==null&&dn(c,s,l),Tf(s,l)}});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var s=Sf(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Kr=l,s.target.dispatchEvent(l),Kr=null}else return n=Qn(s),n!==null&&oy(n),t.blockedOn=s,!1;n.shift()}return!0}function fy(t,n,s){Vu(t)&&s.delete(n)}function sT(){Rf=!1,gs!==null&&Vu(gs)&&(gs=null),ps!==null&&Vu(ps)&&(ps=null),ys!==null&&Vu(ys)&&(ys=null),Bl.forEach(fy),jl.forEach(fy)}function Mu(t,n){t.blockedOn===n&&(t.blockedOn=null,Rf||(Rf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sT)))}var Ou=null;function dy(t){Ou!==t&&(Ou=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Ou===t&&(Ou=null);for(var n=0;n<t.length;n+=3){var s=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(Af(l||s)===null)continue;break}var f=Qn(s);f!==null&&(t.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:s.method,action:l},l,c))}}))}function kl(t){function n(R){return Mu(R,t)}gs!==null&&Mu(gs,t),ps!==null&&Mu(ps,t),ys!==null&&Mu(ys,t),Bl.forEach(n),jl.forEach(n);for(var s=0;s<_s.length;s++){var l=_s[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<_s.length&&(s=_s[0],s.blockedOn===null);)hy(s),s.blockedOn===null&&_s.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var c=s[l],f=s[l+1],v=c[xe]||null;if(typeof f=="function")v||dy(s);else if(v){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,v=f[xe]||null)E=v.formAction;else if(Af(c)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),dy(s)}}}function wf(t){this._internalRoot=t}xu.prototype.render=wf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,l=fn();ry(s,l,t,n,null,null)},xu.prototype.unmount=wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),gu(),n[di]=null}};function xu(t){this._internalRoot=t}xu.prototype.unstable_scheduleHydration=function(t){if(t){var n=fi();t={blockedOn:null,target:t,priority:n};for(var s=0;s<_s.length&&n!==0&&n<_s[s].priority;s++);_s.splice(s,0,t),s===0&&hy(t)}};var my=e.version;if(my!=="19.1.1")throw Error(r(527,my,"19.1.1"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=p(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var aT={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Pi=Uu.inject(aT),Ge=Uu}catch{}}return Hl.createRoot=function(t,n){if(!o(t))throw Error(r(299));var s=!1,l="",c=Ig,f=Vg,v=Mg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=sy(t,1,!1,null,null,s,l,c,f,v,E,null),t[di]=n.current,of(t),new wf(n)},Hl.hydrateRoot=function(t,n,s){if(!o(t))throw Error(r(299));var l=!1,c="",f=Ig,v=Vg,E=Mg,R=null,B=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(R=s.unstable_transitionCallbacks),s.formState!==void 0&&(B=s.formState)),n=sy(t,1,!0,n,s??null,l,c,f,v,E,R,B),n.context=ay(null),s=n.current,l=fn(),l=Gr(l),c=es(l),c.callback=null,ns(s,c,l),s=l,n.current.lanes=s,ue(n,s),ni(n),t[di]=n.current,of(t),new xu(n)},Hl.version="19.1.1",Hl}var Ay;function gT(){if(Ay)return Df.exports;Ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),Df.exports=mT(),Df.exports}var pT=gT();const yT=()=>{};var Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=function(a){const e=[];let i=0;for(let r=0;r<a.length;r++){let o=a.charCodeAt(r);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++r)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},_T=function(a){const e=[];let i=0,r=0;for(;i<a.length;){const o=a[i++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[i++];e[r++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[i++],d=a[i++],g=a[i++],p=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const h=a[i++],d=a[i++];e[r++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},k_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,p=o+2<a.length,_=p?a[o+2]:0,T=h>>2,A=(h&3)<<4|g>>4;let N=(g&15)<<2|_>>6,k=_&63;p||(k=64,d||(N=64)),r.push(i[T],i[A],i[N],i[k])}return r.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(G_(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):_T(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<a.length;){const h=i[a.charAt(o++)],g=o<a.length?i[a.charAt(o)]:0;++o;const _=o<a.length?i[a.charAt(o)]:64;++o;const A=o<a.length?i[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||A==null)throw new vT;const N=h<<2|g>>4;if(r.push(N),_!==64){const k=g<<4&240|_>>2;if(r.push(k),A!==64){const W=_<<6&192|A;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class vT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ET=function(a){const e=G_(a);return k_.encodeByteArray(e,!0)},Ku=function(a){return ET(a).replace(/\./g,"")},TT=function(a){try{return k_.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=()=>bT().__FIREBASE_DEFAULTS__,AT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},RT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&TT(a[1]);return e&&JSON.parse(e)},yd=()=>{try{return yT()||ST()||AT()||RT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},wT=a=>yd()?.emulatorHosts?.[a],CT=a=>{const e=wT(a);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),r]:[e.substring(0,i),r]},q_=()=>yd()?.config;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function DT(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=e||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Ku(JSON.stringify(i)),Ku(JSON.stringify(d)),""].join(".")}const Xl={};function VT(){const a={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?a.emulator.push(e):a.prod.push(e);return a}function MT(a){let e=document.getElementById(a),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),i=!0),{created:i,element:e}}let wy=!1;function OT(a,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||Xl[a]===e||Xl[a]||wy)return;Xl[a]=e;function i(N){return`__firebase__banner__${N}`}const r="__firebase__banner",h=VT().prod.length>0;function d(){const N=document.getElementById(r);N&&N.remove()}function g(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function p(N,k){N.setAttribute("width","24"),N.setAttribute("id",k),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function _(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{wy=!0,d()},N}function T(N,k){N.setAttribute("id",k),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function A(){const N=MT(r),k=i("text"),W=document.getElementById(k)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),ht=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const Q=N.element;g(Q),T(J,nt);const lt=_();p(ht,ft),Q.append(ht,W,J,lt),document.body.appendChild(Q)}h?(W.innerText="Preview backend disconnected.",ht.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ht.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){const a=yd()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LT(){return!UT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PT(){try{return typeof indexedDB=="object"}catch{return!1}}function zT(){return new Promise((a,e)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="FirebaseError";class Vr extends Error{constructor(e,i,r){super(i),this.code=e,this.customData=r,this.name=BT,Object.setPrototypeOf(this,Vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H_.prototype.create)}}class H_{constructor(e,i,r){this.service=e,this.serviceName=i,this.errors=r}create(e,...i){const r=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?jT(h,r):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vr(o,g,r)}}function jT(a,e){return a.replace(GT,(i,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const GT=/\{\$([^}]+)}/g;function Xu(a,e){if(a===e)return!0;const i=Object.keys(a),r=Object.keys(e);for(const o of i){if(!r.includes(o))return!1;const h=a[o],d=e[o];if(Cy(h)&&Cy(d)){if(!Xu(h,d))return!1}else if(h!==d)return!1}for(const o of r)if(!i.includes(o))return!1;return!0}function Cy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(a){return a&&a._delegate?a._delegate:a}class to{constructor(e,i,r){this.name=e,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const r=new NT;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HT(e))try{this.getOrInitializeService({instanceIdentifier:ya})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});r.resolve(h)}catch{}}}}clearInstance(e=ya){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ya){return this.instances.has(e)}getOptions(e=ya){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);r===g&&d.resolve(o)}return o}onInit(e,i){const r=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const h=this.instances.get(r);return h&&e(h,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,i){const r=this.onInitCallbacks.get(i);if(r)for(const o of r)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qT(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ya){return this.component?this.component.multipleInstances?e:ya:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qT(a){return a===ya?void 0:a}function HT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new kT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ut||(Ut={}));const QT={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},YT=Ut.INFO,KT={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},XT=(a,e,...i)=>{if(e<a.logLevel)return;const r=new Date().toISOString(),o=KT[e];if(o)console[o](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F_{constructor(e){this.name=e,this._logLevel=YT,this._logHandler=XT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const ZT=(a,e)=>e.some(i=>a instanceof i);let Ny,Dy;function $T(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JT(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q_=new WeakMap,qf=new WeakMap,Y_=new WeakMap,Of=new WeakMap,vd=new WeakMap;function WT(a){const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Ts(a.result)),o()},d=()=>{r(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Q_.set(i,a)}).catch(()=>{}),vd.set(e,a),e}function t1(a){if(qf.has(a))return;const e=new Promise((i,r)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});qf.set(a,e)}let Hf={get(a,e,i){if(a instanceof IDBTransaction){if(e==="done")return qf.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Y_.get(a);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ts(a[e])},set(a,e,i){return a[e]=i,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function e1(a){Hf=a(Hf)}function n1(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const r=a.call(xf(this),e,...i);return Y_.set(r,e.sort?e.sort():[e]),Ts(r)}:JT().includes(a)?function(...e){return a.apply(xf(this),e),Ts(Q_.get(this))}:function(...e){return Ts(a.apply(xf(this),e))}}function i1(a){return typeof a=="function"?n1(a):(a instanceof IDBTransaction&&t1(a),ZT(a,$T())?new Proxy(a,Hf):a)}function Ts(a){if(a instanceof IDBRequest)return WT(a);if(Of.has(a))return Of.get(a);const e=i1(a);return e!==a&&(Of.set(a,e),vd.set(e,a)),e}const xf=a=>vd.get(a);function s1(a,e,{blocked:i,upgrade:r,blocking:o,terminated:h}={}){const d=indexedDB.open(a,e),g=Ts(d);return r&&d.addEventListener("upgradeneeded",p=>{r(Ts(d.result),p.oldVersion,p.newVersion,Ts(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{h&&p.addEventListener("close",()=>h()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const a1=["get","getKey","getAll","getAllKeys","count"],r1=["put","add","delete","clear"],Uf=new Map;function Iy(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(Uf.get(e))return Uf.get(e);const i=e.replace(/FromIndex$/,""),r=e!==i,o=r1.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(i)))return;const h=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&p.done]))[0]};return Uf.set(e,h),h}e1(a=>({...a,get:(e,i,r)=>Iy(e,i)||a.get(e,i,r),has:(e,i)=>!!Iy(e,i)||a.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(o1(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function o1(a){return a.getComponent()?.type==="VERSION"}const Ff="@firebase/app",Vy="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new F_("@firebase/app"),u1="@firebase/app-compat",c1="@firebase/analytics-compat",h1="@firebase/analytics",f1="@firebase/app-check-compat",d1="@firebase/app-check",m1="@firebase/auth",g1="@firebase/auth-compat",p1="@firebase/database",y1="@firebase/data-connect",_1="@firebase/database-compat",v1="@firebase/functions",E1="@firebase/functions-compat",T1="@firebase/installations",b1="@firebase/installations-compat",S1="@firebase/messaging",A1="@firebase/messaging-compat",R1="@firebase/performance",w1="@firebase/performance-compat",C1="@firebase/remote-config",N1="@firebase/remote-config-compat",D1="@firebase/storage",I1="@firebase/storage-compat",V1="@firebase/firestore",M1="@firebase/ai",O1="@firebase/firestore-compat",x1="firebase",U1="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf="[DEFAULT]",L1={[Ff]:"fire-core",[u1]:"fire-core-compat",[h1]:"fire-analytics",[c1]:"fire-analytics-compat",[d1]:"fire-app-check",[f1]:"fire-app-check-compat",[m1]:"fire-auth",[g1]:"fire-auth-compat",[p1]:"fire-rtdb",[y1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[v1]:"fire-fn",[E1]:"fire-fn-compat",[T1]:"fire-iid",[b1]:"fire-iid-compat",[S1]:"fire-fcm",[A1]:"fire-fcm-compat",[R1]:"fire-perf",[w1]:"fire-perf-compat",[C1]:"fire-rc",[N1]:"fire-rc-compat",[D1]:"fire-gcs",[I1]:"fire-gcs-compat",[V1]:"fire-fst",[O1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[x1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Map,P1=new Map,Yf=new Map;function My(a,e){try{a.container.addComponent(e)}catch(i){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,i)}}function $u(a){const e=a.name;if(Yf.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Yf.set(e,a);for(const i of Zu.values())My(i,a);for(const i of P1.values())My(i,a);return!0}function z1(a,e){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(e)}function B1(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bs=new H_("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,i,r){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new to("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=U1;function K_(a,e={}){let i=a;typeof e!="object"&&(e={name:e});const r={name:Qf,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw bs.create("bad-app-name",{appName:String(o)});if(i||(i=q_()),!i)throw bs.create("no-options");const h=Zu.get(o);if(h){if(Xu(i,h.options)&&Xu(r,h.config))return h;throw bs.create("duplicate-app",{appName:o})}const d=new FT(o);for(const p of Yf.values())d.addComponent(p);const g=new G1(i,r,d);return Zu.set(o,g),g}function q1(a=Qf){const e=Zu.get(a);if(!e&&a===Qf&&q_())return K_();if(!e)throw bs.create("no-app",{appName:a});return e}function Sr(a,e,i){let r=L1[a]??a;i&&(r+=`-${i}`);const o=r.match(/\s|\//),h=e.match(/\s|\//);if(o||h){const d=[`Unable to register library "${r}" with version "${e}":`];o&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}$u(new to(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="firebase-heartbeat-database",F1=1,eo="firebase-heartbeat-store";let Lf=null;function X_(){return Lf||(Lf=s1(H1,F1,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(eo)}catch(i){console.warn(i)}}}}).catch(a=>{throw bs.create("idb-open",{originalErrorMessage:a.message})})),Lf}async function Q1(a){try{const i=(await X_()).transaction(eo),r=await i.objectStore(eo).get(Z_(a));return await i.done,r}catch(e){if(e instanceof Vr)Mi.warn(e.message);else{const i=bs.create("idb-get",{originalErrorMessage:e?.message});Mi.warn(i.message)}}}async function Oy(a,e){try{const r=(await X_()).transaction(eo,"readwrite");await r.objectStore(eo).put(e,Z_(a)),await r.done}catch(i){if(i instanceof Vr)Mi.warn(i.message);else{const r=bs.create("idb-set",{originalErrorMessage:i?.message});Mi.warn(r.message)}}}function Z_(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1=1024,K1=30;class X1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new $1(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=xy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>K1){const o=J1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Mi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=xy(),{heartbeatsToSend:i,unsentEntries:r}=Z1(this._heartbeatsCache.heartbeats),o=Ku(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Mi.warn(e),""}}}function xy(){return new Date().toISOString().substring(0,10)}function Z1(a,e=Y1){const i=[];let r=a.slice();for(const o of a){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Uy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Uy(i)>e){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class $1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PT()?zT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Q1(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Oy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Uy(a){return Ku(JSON.stringify({version:2,heartbeats:a})).length}function J1(a){if(a.length===0)return-1;let e=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(a){$u(new to("platform-logger",e=>new l1(e),"PRIVATE")),$u(new to("heartbeat",e=>new X1(e),"PRIVATE")),Sr(Ff,Vy,a),Sr(Ff,Vy,"esm2020"),Sr("fire-js","")}W1("");var Ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ss,$_;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,S){function w(){}w.prototype=S.prototype,D.F=S.prototype,D.prototype=new w,D.prototype.constructor=D,D.D=function(O,V,U){for(var C=Array(arguments.length-2),re=2;re<arguments.length;re++)C[re-2]=arguments[re];return S.prototype[V].apply(O,C)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,S,w){w||(w=0);const O=Array(16);if(typeof S=="string")for(var V=0;V<16;++V)O[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;V<16;++V)O[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=D.g[0],w=D.g[1],V=D.g[2];let U=D.g[3],C;C=S+(U^w&(V^U))+O[0]+3614090360&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(V^S&(w^V))+O[1]+3905402710&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(w^U&(S^w))+O[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(S^V&(U^S))+O[3]+3250441966&4294967295,w=V+(C<<22&4294967295|C>>>10),C=S+(U^w&(V^U))+O[4]+4118548399&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(V^S&(w^V))+O[5]+1200080426&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(w^U&(S^w))+O[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(S^V&(U^S))+O[7]+4249261313&4294967295,w=V+(C<<22&4294967295|C>>>10),C=S+(U^w&(V^U))+O[8]+1770035416&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(V^S&(w^V))+O[9]+2336552879&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(w^U&(S^w))+O[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(S^V&(U^S))+O[11]+2304563134&4294967295,w=V+(C<<22&4294967295|C>>>10),C=S+(U^w&(V^U))+O[12]+1804603682&4294967295,S=w+(C<<7&4294967295|C>>>25),C=U+(V^S&(w^V))+O[13]+4254626195&4294967295,U=S+(C<<12&4294967295|C>>>20),C=V+(w^U&(S^w))+O[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=w+(S^V&(U^S))+O[15]+1236535329&4294967295,w=V+(C<<22&4294967295|C>>>10),C=S+(V^U&(w^V))+O[1]+4129170786&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(S^w))+O[6]+3225465664&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^w&(U^S))+O[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(V^U))+O[0]+3921069994&4294967295,w=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(w^V))+O[5]+3593408605&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(S^w))+O[10]+38016083&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^w&(U^S))+O[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(V^U))+O[4]+3889429448&4294967295,w=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(w^V))+O[9]+568446438&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(S^w))+O[14]+3275163606&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^w&(U^S))+O[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(V^U))+O[8]+1163531501&4294967295,w=V+(C<<20&4294967295|C>>>12),C=S+(V^U&(w^V))+O[13]+2850285829&4294967295,S=w+(C<<5&4294967295|C>>>27),C=U+(w^V&(S^w))+O[2]+4243563512&4294967295,U=S+(C<<9&4294967295|C>>>23),C=V+(S^w&(U^S))+O[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=w+(U^S&(V^U))+O[12]+2368359562&4294967295,w=V+(C<<20&4294967295|C>>>12),C=S+(w^V^U)+O[5]+4294588738&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^V)+O[8]+2272392833&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^w)+O[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^S)+O[14]+4259657740&4294967295,w=V+(C<<23&4294967295|C>>>9),C=S+(w^V^U)+O[1]+2763975236&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^V)+O[4]+1272893353&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^w)+O[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^S)+O[10]+3200236656&4294967295,w=V+(C<<23&4294967295|C>>>9),C=S+(w^V^U)+O[13]+681279174&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^V)+O[0]+3936430074&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^w)+O[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^S)+O[6]+76029189&4294967295,w=V+(C<<23&4294967295|C>>>9),C=S+(w^V^U)+O[9]+3654602809&4294967295,S=w+(C<<4&4294967295|C>>>28),C=U+(S^w^V)+O[12]+3873151461&4294967295,U=S+(C<<11&4294967295|C>>>21),C=V+(U^S^w)+O[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=w+(V^U^S)+O[2]+3299628645&4294967295,w=V+(C<<23&4294967295|C>>>9),C=S+(V^(w|~U))+O[0]+4096336452&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~V))+O[7]+1126891415&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~w))+O[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~S))+O[5]+4237533241&4294967295,w=V+(C<<21&4294967295|C>>>11),C=S+(V^(w|~U))+O[12]+1700485571&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~V))+O[3]+2399980690&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~w))+O[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~S))+O[1]+2240044497&4294967295,w=V+(C<<21&4294967295|C>>>11),C=S+(V^(w|~U))+O[8]+1873313359&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~V))+O[15]+4264355552&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~w))+O[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~S))+O[13]+1309151649&4294967295,w=V+(C<<21&4294967295|C>>>11),C=S+(V^(w|~U))+O[4]+4149444226&4294967295,S=w+(C<<6&4294967295|C>>>26),C=U+(w^(S|~V))+O[11]+3174756917&4294967295,U=S+(C<<10&4294967295|C>>>22),C=V+(S^(U|~w))+O[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=w+(U^(V|~S))+O[9]+3951481745&4294967295,D.g[0]=D.g[0]+S&4294967295,D.g[1]=D.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,S){S===void 0&&(S=D.length);const w=S-this.blockSize,O=this.C;let V=this.h,U=0;for(;U<S;){if(V==0)for(;U<=w;)o(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<S;)if(O[V++]=D.charCodeAt(U++),V==this.blockSize){o(this,O),V=0;break}}else for(;U<S;)if(O[V++]=D[U++],V==this.blockSize){o(this,O),V=0;break}}this.h=V,this.o+=S},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var S=1;S<D.length-8;++S)D[S]=0;S=this.o*8;for(var w=D.length-8;w<D.length;++w)D[w]=S&255,S/=256;for(this.v(D),D=Array(16),S=0,w=0;w<4;++w)for(let O=0;O<32;O+=8)D[S++]=this.g[w]>>>O&255;return D};function h(D,S){var w=g;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=S(D)}function d(D,S){this.h=S;const w=[];let O=!0;for(let V=D.length-1;V>=0;V--){const U=D[V]|0;O&&U==S||(w[V]=U,O=!1)}this.g=w}var g={};function p(D){return-128<=D&&D<128?h(D,function(S){return new d([S|0],S<0?-1:0)}):new d([D|0],D<0?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return A;if(D<0)return J(_(-D));const S=[];let w=1;for(let O=0;D>=w;O++)S[O]=D/w|0,w*=4294967296;return new d(S,0)}function T(D,S){if(D.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(D.charAt(0)=="-")return J(T(D.substring(1),S));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const w=_(Math.pow(S,8));let O=A;for(let U=0;U<D.length;U+=8){var V=Math.min(8,D.length-U);const C=parseInt(D.substring(U,U+V),S);V<8?(V=_(Math.pow(S,V)),O=O.j(V).add(_(C))):(O=O.j(w),O=O.add(_(C)))}return O}var A=p(0),N=p(1),k=p(16777216);a=d.prototype,a.m=function(){if(nt(this))return-J(this).m();let D=0,S=1;for(let w=0;w<this.g.length;w++){const O=this.i(w);D+=(O>=0?O:4294967296+O)*S,S*=4294967296}return D},a.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(W(this))return"0";if(nt(this))return"-"+J(this).toString(D);const S=_(Math.pow(D,6));var w=this;let O="";for(;;){const V=lt(w,S).g;w=ft(w,V.j(S));let U=((w.g.length>0?w.g[0]:w.h)>>>0).toString(D);if(w=V,W(w))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},a.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function W(D){if(D.h!=0)return!1;for(let S=0;S<D.g.length;S++)if(D.g[S]!=0)return!1;return!0}function nt(D){return D.h==-1}a.l=function(D){return D=ft(this,D),nt(D)?-1:W(D)?0:1};function J(D){const S=D.g.length,w=[];for(let O=0;O<S;O++)w[O]=~D.g[O];return new d(w,~D.h).add(N)}a.abs=function(){return nt(this)?J(this):this},a.add=function(D){const S=Math.max(this.g.length,D.g.length),w=[];let O=0;for(let V=0;V<=S;V++){let U=O+(this.i(V)&65535)+(D.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);O=C>>>16,U&=65535,C&=65535,w[V]=C<<16|U}return new d(w,w[w.length-1]&-2147483648?-1:0)};function ft(D,S){return D.add(J(S))}a.j=function(D){if(W(this)||W(D))return A;if(nt(this))return nt(D)?J(this).j(J(D)):J(J(this).j(D));if(nt(D))return J(this.j(J(D)));if(this.l(k)<0&&D.l(k)<0)return _(this.m()*D.m());const S=this.g.length+D.g.length,w=[];for(var O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(let V=0;V<D.g.length;V++){const U=this.i(O)>>>16,C=this.i(O)&65535,re=D.i(V)>>>16,ee=D.i(V)&65535;w[2*O+2*V]+=C*ee,ht(w,2*O+2*V),w[2*O+2*V+1]+=U*ee,ht(w,2*O+2*V+1),w[2*O+2*V+1]+=C*re,ht(w,2*O+2*V+1),w[2*O+2*V+2]+=U*re,ht(w,2*O+2*V+2)}for(D=0;D<S;D++)w[D]=w[2*D+1]<<16|w[2*D];for(D=S;D<2*S;D++)w[D]=0;return new d(w,0)};function ht(D,S){for(;(D[S]&65535)!=D[S];)D[S+1]+=D[S]>>>16,D[S]&=65535,S++}function Q(D,S){this.g=D,this.h=S}function lt(D,S){if(W(S))throw Error("division by zero");if(W(D))return new Q(A,A);if(nt(D))return S=lt(J(D),S),new Q(J(S.g),J(S.h));if(nt(S))return S=lt(D,J(S)),new Q(J(S.g),S.h);if(D.g.length>30){if(nt(D)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=N,O=S;O.l(D)<=0;)w=tt(w),O=tt(O);var V=ut(w,1),U=ut(O,1);for(O=ut(O,2),w=ut(w,2);!W(O);){var C=U.add(O);C.l(D)<=0&&(V=V.add(w),U=C),O=ut(O,1),w=ut(w,1)}return S=ft(D,V.j(S)),new Q(V,S)}for(V=A;D.l(S)>=0;){for(w=Math.max(1,Math.floor(D.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=_(w),C=U.j(S);nt(C)||C.l(D)>0;)w-=O,U=_(w),C=U.j(S);W(U)&&(U=N),V=V.add(U),D=ft(D,C)}return new Q(V,D)}a.B=function(D){return lt(this,D).h},a.and=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)&D.i(O);return new d(w,this.h&D.h)},a.or=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)|D.i(O);return new d(w,this.h|D.h)},a.xor=function(D){const S=Math.max(this.g.length,D.g.length),w=[];for(let O=0;O<S;O++)w[O]=this.i(O)^D.i(O);return new d(w,this.h^D.h)};function tt(D){const S=D.g.length+1,w=[];for(let O=0;O<S;O++)w[O]=D.i(O)<<1|D.i(O-1)>>>31;return new d(w,D.h)}function ut(D,S){const w=S>>5;S%=32;const O=D.g.length-w,V=[];for(let U=0;U<O;U++)V[U]=S>0?D.i(U+w)>>>S|D.i(U+w+1)<<32-S:D.i(U+w);return new d(V,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,$_=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=T,Ss=d}).apply(typeof Ly<"u"?Ly:typeof self<"u"?self:typeof window<"u"?window:{});var Lu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J_,Fl,W_,Gu,Kf,tv,ev,nv;(function(){var a,e=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lu=="object"&&Lu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var r=i(this);function o(u,m){if(m)t:{var y=r;u=u.split(".");for(var b=0;b<u.length-1;b++){var z=u[b];if(!(z in y))break t;y=y[z]}u=u[u.length-1],b=y[u],m=m(b),m!=b&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var y=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&y.push([b,m[b]]);return y}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function p(u,m,y){return u.call.apply(u.bind,arguments)}function _(u,m,y){return _=p,_.apply(null,arguments)}function T(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var b=y.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function A(u,m){function y(){}y.prototype=m.prototype,u.Z=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Ob=function(b,z,q){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[z].apply(b,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function k(u){const m=u.length;if(m>0){const y=Array(m);for(let b=0;b<m;b++)y[b]=u[b];return y}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const z=arguments[b];var y=typeof z;if(y=y!="object"?y:z?Array.isArray(z)?"array":y:"null",y=="array"||y=="object"&&typeof z.length=="number"){y=u.length||0;const q=z.length||0;u.length=y+q;for(let et=0;et<q;et++)u[y+et]=z[et]}else u.push(z)}}class nt{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=D;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ht{constructor(){this.h=this.g=null}add(m,y){const b=Q.get();b.set(m,y),this.h?this.h.next=b:this.g=b,this.h=b}}var Q=new nt(()=>new lt,u=>u.reset());class lt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ut=!1,D=new ht,S=()=>{const u=Promise.resolve(void 0);tt=()=>{u.then(w)}};function w(){for(var u;u=ft();){try{u.h.call(u.g)}catch(y){J(y)}var m=Q;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ut=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function V(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}V.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};d.addEventListener("test",y,m),d.removeEventListener("test",y,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function re(u,m){V.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(re,V),re.prototype.init=function(u,m){const y=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&re.Z.h.call(this)},re.prototype.h=function(){re.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ee="closure_listenable_"+(Math.random()*1e6|0),H=0;function st(u,m,y,b,z){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!b,this.ha=z,this.key=++H,this.da=this.fa=!1}function pt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,y){for(const b in u)m.call(y,u[b],b,u)}function I(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function $(u){const m={};for(const y in u)m[y]=u[y];return m}const at="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let y,b;for(let z=1;z<arguments.length;z++){b=arguments[z];for(y in b)u[y]=b[y];for(let q=0;q<at.length;q++)y=at[q],Object.prototype.hasOwnProperty.call(b,y)&&(u[y]=b[y])}}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,m,y,b,z){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=Et(u,m,b,z);return et>-1?(m=u[et],y||(m.fa=!1)):(m=new st(m,this.src,q,!!b,z),m.fa=y,u.push(m)),m};function It(u,m){const y=m.type;if(y in u.g){var b=u.g[y],z=Array.prototype.indexOf.call(b,m,void 0),q;(q=z>=0)&&Array.prototype.splice.call(b,z,1),q&&(pt(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Et(u,m,y,b){for(let z=0;z<u.length;++z){const q=u[z];if(!q.da&&q.listener==m&&q.capture==!!y&&q.ha==b)return z}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Ht={};function Nn(u,m,y,b,z){if(Array.isArray(m)){for(let q=0;q<m.length;q++)Nn(u,m[q],y,b,z);return null}return y=yo(y),u&&u[ee]?u.J(m,y,g(b)?!!b.capture:!1,z):Pr(u,m,y,!1,b,z)}function Pr(u,m,y,b,z,q){if(!m)throw Error("Invalid event type");const et=g(z)?!!z.capture:!!z;let St=zr(u);if(St||(u[Oe]=St=new mt(u)),y=St.add(m,y,b,et,q),y.proxy)return y;if(b=Na(),y.proxy=b,b.src=u,b.listener=y,u.addEventListener)U||(z=et),z===void 0&&(z=!1),u.addEventListener(m.toString(),b,z);else if(u.attachEvent)u.attachEvent(Ia(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Na(){function u(y){return m.call(u.src,u.listener,y)}const m=Cc;return u}function Da(u,m,y,b,z){if(Array.isArray(m))for(var q=0;q<m.length;q++)Da(u,m[q],y,b,z);else b=g(b)?!!b.capture:!!b,y=yo(y),u&&u[ee]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],y=Et(m,y,b,z),y>-1&&(pt(m[y]),Array.prototype.splice.call(m,y,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=zr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Et(m,y,b,z)),(y=u>-1?m[u]:null)&&xs(y))}function xs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ee])It(m.i,u);else{var y=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(y,b,u.capture):m.detachEvent?m.detachEvent(Ia(y),b):m.addListener&&m.removeListener&&m.removeListener(b),(y=zr(m))?(It(y,u),y.h==0&&(y.src=null,m[Oe]=null)):pt(u)}}}function Ia(u){return u in Ht?Ht[u]:Ht[u]="on"+u}function Cc(u,m){if(u.da)u=!0;else{m=new re(m,this);const y=u.listener,b=u.ha||u.src;u.fa&&xs(u),u=y.call(b,m)}return u}function zr(u){return u=u[Oe],u instanceof mt?u:null}var We="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function be(){O.call(this),this.i=new mt(this),this.M=this,this.G=null}A(be,O),be.prototype[ee]=!0,be.prototype.removeEventListener=function(u,m,y,b){Da(this,u,m,y,b)};function Ce(u,m){var y,b=u.G;if(b)for(y=[];b;b=b.G)y.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new V(m,u);else if(m instanceof V)m.target=m.target||u;else{var z=m;m=new V(b,u),it(m,z)}z=!0;let q,et;if(y)for(et=y.length-1;et>=0;et--)q=m.g=y[et],z=hi(q,b,!0,m)&&z;if(q=m.g=u,z=hi(q,b,!0,m)&&z,z=hi(q,b,!1,m)&&z,y)for(et=0;et<y.length;et++)q=m.g=y[et],z=hi(q,b,!1,m)&&z}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const y=u.g[m];for(let b=0;b<y.length;b++)pt(y[b]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,y,b){return this.i.add(String(u),m,!1,y,b)},be.prototype.K=function(u,m,y,b){return this.i.add(String(u),m,!0,y,b)};function hi(u,m,y,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==y){const St=et.listener,te=et.ha||et.src;et.fa&&It(u.i,et),z=St.call(te,b)!==!1&&z}}return z&&!b.defaultPrevented}function Nc(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Br(u){u.g=Nc(()=>{u.g=null,u.i&&(u.i=!1,Br(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Dc extends O{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Br(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Us(u){O.call(this),this.h=u,this.g={}}A(Us,O);var Pi=[];function Ge(u){Pt(u.g,function(m,y){this.g.hasOwnProperty(y)&&xs(m)},u),u.g={}}Us.prototype.N=function(){Us.Z.N.call(this),Ge(this)},Us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=d.JSON.stringify,Ke=d.JSON.parse,Ic=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function _o(){}function vo(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zi(){V.call(this,"d")}A(zi,V);function Dn(){V.call(this,"c")}A(Dn,V);var pn={},Bi=null;function Va(){return Bi=Bi||new be}pn.Ia="serverreachability";function jr(u){V.call(this,pn.Ia,u)}A(jr,V);function ji(u){const m=Va();Ce(m,new jr(m))}pn.STAT_EVENT="statevent";function Ma(u,m){V.call(this,pn.STAT_EVENT,u),this.stat=m}A(Ma,V);function ue(u){const m=Va();Ce(m,new Ma(m,u))}pn.Ja="timingevent";function Eo(u,m){V.call(this,pn.Ja,u),this.size=m}A(Eo,V);function Gi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ki(){this.g=!0}ki.prototype.ua=function(){this.g=!1};function Gr(u,m,y,b,z,q){u.info(function(){if(u.g)if(q){var et="",St=q.split("&");for(let Gt=0;Gt<St.length;Gt++){var te=St[Gt].split("=");if(te.length>1){const fe=te[0];te=te[1];const rn=fe.split("_");et=rn.length>=2&&rn[1]=="type"?et+(fe+"="+te+"&"):et+(fe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+b+") [attempt "+z+"]: "+m+`
`+y+`
`+et})}function kr(u,m,y,b,z,q,et){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+z+"]: "+m+`
`+y+`
`+q+" "+et})}function fi(u,m,y,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hn(u,y)+(b?" "+b:"")})}function Vc(u,m){u.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function Hn(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var y=q[u];if(!(y.length<2)){var b=y[1];if(Array.isArray(b)&&!(b.length<1)){var z=b[0];if(z!="noop"&&z!="stop"&&z!="close")for(let et=1;et<b.length;et++)b[et]=""}}}}return gn(q)}catch{return m}}var ce={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xe={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},di;function Ls(){}A(Ls,_o),Ls.prototype.g=function(){return new XMLHttpRequest},di=new Ls;function Ps(u){return encodeURIComponent(String(u))}function Mc(u){var m=1;u=u.split(":");const y=[];for(;m>0&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function In(u,m,y,b){this.j=u,this.i=m,this.l=y,this.S=b||1,this.V=new Us(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qi}function qi(){this.i=null,this.g="",this.h=!1}var Oa={},Fn={};function Qn(u,m,y){u.M=1,u.A=gi(ie(m)),u.u=y,u.R=!0,Hi(u,null)}function Hi(u,m){u.F=Date.now(),zs(u),u.B=ie(u.A);var y=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ao(y.i,"t",b),u.C=0,y=u.j.L,u.h=new qi,u.g=qa(u.j,y?m:null,!u.u),u.P>0&&(u.O=new Dc(_(u.Y,u,u.g),u.P)),m=u.V,y=u.g,b=u.ba;var z="readystatechange";Array.isArray(z)||(z&&(Pi[0]=z.toString()),z=Pi);for(let q=0;q<z.length;q++){const et=Nn(y,z[q],b||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?$(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ji(),Gr(u.i,u.v,u.B,u.l,u.S,u.u)}In.prototype.ba=function(u){u=u.target;const m=this.O;m&&ke(u)==3?m.j():this.Y(u)},In.prototype.Y=function(u){try{if(u==this.g)t:{const St=ke(this.g),te=this.g.ya(),Gt=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Xs(this.g)))){this.K||St!=4||te==7||(te==8||Gt<=0?ji(3):ji(2)),Kn(this);var m=this.g.ca();this.X=m;var y=Fi(this);if(this.o=m==200,kr(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,z=this.g;if((b=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(b)){var q=b;break e}}q=null}if(u=q)fi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,xa(this,u);else{this.o=!1,this.m=3,ue(12),Xn(this),Bs(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<y.length;)if(fe=To(this,y),fe==Fn){St==4&&(this.m=4,ue(14),u=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Oa){this.m=4,ue(15),fi(this.i,this.l,y,"[Invalid Chunk]"),u=!1;break}else fi(this.i,this.l,fe,null),xa(this,fe);if(he(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||y.length!=0||this.h.h||(this.m=1,ue(16),u=!1),this.o=this.o&&u,!u)fi(this.i,this.l,y,"[Invalid Chunked Response]"),Xn(this),Bs(this);else if(y.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+y.length),Jr(et),et.P=!0,ue(11))}}else fi(this.i,this.l,y,null),xa(this,y);St==4&&Xn(this),this.o&&!this.K&&(St==4?Wr(this.j,this):(this.o=!1,zs(this)))}else Zs(this.g),m==400&&y.indexOf("Unknown SID")>0?(this.m=3,ue(12)):(this.m=0,ue(13)),Xn(this),Bs(this)}}}catch{}finally{}};function Fi(u){if(!he(u))return u.g.la();const m=Xs(u.g);if(m==="")return"";let y="";const b=m.length,z=ke(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Xn(u),Bs(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,y+=u.h.i.decode(m[q],{stream:!(z&&q==b-1)});return m.length=0,u.h.g+=y,u.C=0,u.h.g}function he(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function To(u,m){var y=u.C,b=m.indexOf(`
`,y);return b==-1?Fn:(y=Number(m.substring(y,b)),isNaN(y)?Oa:(b+=1,b+y>m.length?Fn:(m=m.slice(b,b+y),u.C=b+y,m)))}In.prototype.cancel=function(){this.K=!0,Xn(this)};function zs(u){u.T=Date.now()+u.H,Yn(u,u.H)}function Yn(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gi(_(u.aa,u),m)}function Kn(u){u.D&&(d.clearTimeout(u.D),u.D=null)}In.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Vc(this.i,this.B),this.M!=2&&(ji(),ue(17)),Xn(this),this.m=2,Bs(this)):Yn(this,this.T-u)};function Bs(u){u.j.I==0||u.K||Wr(u.j,u)}function Xn(u){Kn(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ge(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function xa(u,m){try{var y=u.j;if(y.I!=0&&(y.g==u||ks(y.h,u))){if(!u.L&&ks(y.h,u)&&y.I==3){try{var b=y.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var z=b;if(z[0]==0){t:if(!y.v){if(y.g)if(y.g.F+3e3<u.F)ka(y),Zn(y);else break t;$r(y),ue(18)}}else y.xa=z[1],0<y.xa-y.K&&z[2]<37500&&y.F&&y.A==0&&!y.C&&(y.C=Gi(_(y.Va,y),6e3));yn(y.h)<=1&&y.ta&&(y.ta=void 0)}else _i(y,11)}else if((u.L||y.g==u)&&ka(y),!C(m))for(z=y.Ba.g.parse(m),m=0;m<z.length;m++){let Gt=z[m];const fe=Gt[0];if(!(fe<=y.K))if(y.K=fe,Gt=Gt[1],y.I==2)if(Gt[0]=="c"){y.M=Gt[1],y.ba=Gt[2];const rn=Gt[3];rn!=null&&(y.ka=rn,y.j.info("VER="+y.ka));const $n=Gt[4];$n!=null&&(y.za=$n,y.j.info("SVER="+y.za));const On=Gt[5];On!=null&&typeof On=="number"&&On>0&&(b=1.5*On,y.O=b,y.j.info("backChannelRequestTimeoutMs_="+b)),b=y;const xn=u.g;if(xn){const Un=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Un){var q=b.h;q.g||Un.indexOf("spdy")==-1&&Un.indexOf("quic")==-1&&Un.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ua(q,q.h),q.h=null))}if(b.G){const el=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(b.wa=el,Ft(b.J,b.G,el))}}y.I=3,y.l&&y.l.ra(),y.aa&&(y.T=Date.now()-u.F,y.j.info("Handshake RTT: "+y.T+"ms")),b=y;var et=u;if(b.na=Oo(b,b.L?b.ba:null,b.W),et.L){mi(b.h,et);var St=et,te=b.O;te&&(St.H=te),St.D&&(Kn(St),zs(St)),b.g=et}else Do(b);y.i.length>0&&ta(y)}else Gt[0]!="stop"&&Gt[0]!="close"||_i(y,7);else y.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?_i(y,7):Js(y):Gt[0]!="noop"&&y.l&&y.l.qa(Gt),y.A=0)}}ji(4)}catch{}}var Oc=class{constructor(u,m){this.g=u,this.map=m}};function js(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function yn(u){return u.h?1:u.g?u.g.size:0}function ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ua(u,m){u.g?u.g.add(m):u.h=m}function mi(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}js.prototype.cancel=function(){if(this.i=La(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function La(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.G);return m}return k(u.i)}var Pa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xc(u,m){if(u){u=u.split("&");for(let y=0;y<u.length;y++){const b=u[y].indexOf("=");let z,q=null;b>=0?(z=u[y].substring(0,b),q=u[y].substring(b+1)):z=u[y],m(z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Vn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Vn?(this.l=u.l,Qi(this,u.j),this.o=u.o,this.g=u.g,qs(this,u.u),this.h=u.h,Yi(this,Ro(u.i)),this.m=u.m):u&&(m=String(u).match(Pa))?(this.l=!1,Qi(this,m[1]||"",!0),this.o=Hs(m[2]||""),this.g=Hs(m[3]||"",!0),qs(this,m[4]),this.h=Hs(m[5]||"",!0),Yi(this,m[6]||"",!0),this.m=Hs(m[7]||"")):(this.l=!1,this.i=new _n(null,this.l))}Vn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ne(m,Hr,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ne(m,Hr,!0),"@"),u.push(Ps(y).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.u,y!=null&&u.push(":",String(y))),(y=this.h)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ne(y,y.charAt(0)=="/"?Ki:Fr,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ne(y,So)),u.join("")},Vn.prototype.resolve=function(u){const m=ie(this);let y=!!u.j;y?Qi(m,u.j):y=!!u.o,y?m.o=u.o:y=!!u.g,y?m.g=u.g:y=u.u!=null;var b=u.h;if(y)qs(m,u.u);else if(y=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var z=m.h.lastIndexOf("/");z!=-1&&(b=m.h.slice(0,z+1)+b)}if(z=b,z==".."||z==".")b="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){b=z.lastIndexOf("/",0)==0,z=z.split("/");const q=[];for(let et=0;et<z.length;){const St=z[et++];St=="."?b&&et==z.length&&q.push(""):St==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&et==z.length&&q.push("")):(q.push(St),b=!0)}b=q.join("/")}else b=z}return y?m.h=b:y=u.i.toString()!=="",y?Yi(m,Ro(u.i)):y=!!u.m,y&&(m.m=u.m),m};function ie(u){return new Vn(u)}function Qi(u,m,y){u.j=y?Hs(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function qs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Yi(u,m,y){m instanceof _n?(u.i=m,Kr(u.i,u.l)):(y||(m=Ne(m,bo)),u.i=new _n(m,u.l))}function Ft(u,m,y){u.i.set(m,y)}function gi(u){return Ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Hs(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ne(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,qr),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function qr(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Hr=/[#\/\?@]/g,Fr=/[#\?:]/g,Ki=/[#\?]/g,bo=/[#\?@]/g,So=/#/g;function _n(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pi(u){u.g||(u.g=new Map,u.h=0,u.i&&xc(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}a=_n.prototype,a.add=function(u,m){pi(this),this.i=null,u=Mn(this,u);let y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Qr(u,m){pi(u),m=Mn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Yr(u,m){return pi(u),m=Mn(u,m),u.g.has(m)}a.forEach=function(u,m){pi(this),this.g.forEach(function(y,b){y.forEach(function(z){u.call(m,z,b,this)},this)},this)};function za(u,m){pi(u);let y=[];if(typeof m=="string")Yr(u,m)&&(y=y.concat(u.g.get(Mn(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)y=y.concat(u[m]);return y}a.set=function(u,m){return pi(this),this.i=null,u=Mn(this,u),Yr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=za(this,u),u.length>0?String(u[0]):m):m};function Ao(u,m,y){Qr(u,m),y.length>0&&(u.i=null,u.g.set(Mn(u,m),k(y)),u.h+=y.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var y=m[b];const z=Ps(y);y=za(this,y);for(let q=0;q<y.length;q++){let et=z;y[q]!==""&&(et+="="+Ps(y[q])),u.push(et)}}return this.i=u.join("&")};function Ro(u){const m=new _n;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Mn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Kr(u,m){m&&!u.j&&(pi(u),u.i=null,u.g.forEach(function(y,b){const z=b.toLowerCase();b!=z&&(Qr(this,b),Ao(this,z,y))},u)),u.j=m}function Xr(u,m){const y=new ki;if(d.Image){const b=new Image;b.onload=T(Xe,y,"TestLoadImage: loaded",!0,m,b),b.onerror=T(Xe,y,"TestLoadImage: error",!1,m,b),b.onabort=T(Xe,y,"TestLoadImage: abort",!1,m,b),b.ontimeout=T(Xe,y,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Xi(u,m){const y=new ki,b=new AbortController,z=setTimeout(()=>{b.abort(),Xe(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(z),q.ok?Xe(y,"TestPingServer: ok",!0,m):Xe(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),Xe(y,"TestPingServer: error",!1,m)})}function Xe(u,m,y,b,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),b(y)}catch{}}function wo(){this.g=new Ic}function Fs(u){this.i=u.Sb||null,this.h=u.ab||!1}A(Fs,_o),Fs.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(Qs,be),a=Qs.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,yi(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ze(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,yi(this)),this.g&&(this.readyState=3,yi(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Zi(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Zi(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ze(this):yi(this),this.readyState==3&&Zi(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,Ze(this))},a.Na=function(u){this.g&&(this.response=u,Ze(this))},a.ga=function(){this.g&&Ze(this)};function Ze(u){u.readyState=4,u.l=null,u.j=null,u.B=null,yi(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function yi(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function $i(u){let m="";return Pt(u,function(y,b){m+=b,m+=":",m+=y,m+=`\r
`}),m}function vn(u,m,y){t:{for(b in y){var b=!1;break t}b=!0}b||(y=$i(y),typeof u=="string"?y!=null&&Ps(y):Ft(u,m,y))}function $t(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A($t,be);var Ba=/^https?$/i,Co=["POST","PUT"];a=$t.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,y,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():di.g(),this.g.onreadystatechange=N(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ys(this,q);return}if(u=y||"",y=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var z in b)y.set(z,b[z]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())y.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(y.keys()).find(q=>q.toLowerCase()=="content-type"),z=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Co,m,void 0)>=0)||b||z||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of y)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ys(this,q)}};function Ys(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Ks(u),Se(u)}function Ks(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ce(this,"complete"),Ce(this,"abort"),Se(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Se(this,!0)),$t.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Zr(this):this.Xa())},a.Xa=function(){Zr(this)};function Zr(u){if(u.h&&typeof h<"u"){if(u.v&&ke(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ce(u,"readystatechange"),ke(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var y;if(!(y=m)){var b;if(b=q===0){let et=String(u.D).match(Pa)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),b=!Ba.test(et?et.toLowerCase():"")}y=b}if(y)Ce(u,"complete"),Ce(u,"success");else{u.o=6;try{var z=ke(u)>2?u.g.statusText:""}catch{z=""}u.l=z+" ["+u.ca()+"]",Ks(u)}}finally{Se(u)}}}}function Se(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const y=u.g;u.g=null,m||Ce(u,"ready");try{y.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ke(u){return u.g?u.g.readyState:0}a.ca=function(){try{return ke(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ke(m)}};function Xs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zs(u){const m={};u=(u.g&&ke(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(C(u[b]))continue;var y=Mc(u[b]);const z=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const q=m[z]||[];m[z]=q,q.push(y)}I(m,function(b){return b.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $s(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function ja(u){this.za=0,this.i=[],this.j=new ki,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$s("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$s("baseRetryDelayMs",5e3,u),this.Za=$s("retryDelaySeedMs",1e4,u),this.Ta=$s("forwardChannelMaxRetries",2,u),this.va=$s("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new js(u&&u.concurrentRequestLimit),this.Ba=new wo,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ja.prototype,a.ka=8,a.I=1,a.connect=function(u,m,y,b){ue(0),this.W=u,this.H=m||{},y&&b!==void 0&&(this.H.OSID=y,this.H.OAID=b),this.F=this.X,this.J=Oo(this,null,this.W),ta(this)};function Js(u){if(Ws(u),u.I==3){var m=u.V++,y=ie(u.J);if(Ft(y,"SID",u.M),Ft(y,"RID",m),Ft(y,"TYPE","terminate"),ea(u,y),m=new In(u,u.j,m),m.M=2,m.A=gi(ie(y)),y=!1,d.navigator&&d.navigator.sendBeacon)try{y=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!y&&d.Image&&(new Image().src=m.A,y=!0),y||(m.g=qa(m.j,null),m.g.ea(m.A)),m.F=Date.now(),zs(m)}Mo(u)}function Zn(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Ws(u){Zn(u),u.v&&(d.clearTimeout(u.v),u.v=null),ka(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function ta(u){if(!Gs(u.h)&&!u.m){u.m=!0;var m=u.Ea;tt||S(),ut||(tt(),ut=!0),D.add(m,u),u.D=0}}function Uc(u,m){return yn(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gi(_(u.Ea,u,m),Vo(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const z=new In(this,this.j,u);let q=this.o;if(this.U&&(q?(q=$(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(z.J=q,q=null),this.S)t:{for(var m=0,y=0;y<this.i.length;y++){e:{var b=this.i[y];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=y;break t}if(m===4096||y===this.i.length-1){m=y+1;break t}}m=1e3}else m=1e3;m=Ga(this,z,m),y=ie(this.J),Ft(y,"RID",u),Ft(y,"CVER",22),this.G&&Ft(y,"X-HTTP-Session-Id",this.G),ea(this,y),q&&(this.R?m="headers="+Ps($i(q))+"&"+m:this.u&&vn(y,this.u,q)),Ua(this.h,z),this.Ra&&Ft(y,"TYPE","init"),this.S?(Ft(y,"$req",m),Ft(y,"SID","null"),z.U=!0,Qn(z,y,null)):Qn(z,y,m),this.I=2}}else this.I==3&&(u?No(this,u):this.i.length==0||Gs(this.h)||No(this))};function No(u,m){var y;m?y=m.l:y=u.V++;const b=ie(u.J);Ft(b,"SID",u.M),Ft(b,"RID",y),Ft(b,"AID",u.K),ea(u,b),u.u&&u.o&&vn(b,u.u,u.o),y=new In(u,u.j,y,u.D+1),u.u===null&&(y.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Ga(u,y,1e3),y.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ua(u.h,y),Qn(y,b,m)}function ea(u,m){u.H&&Pt(u.H,function(y,b){Ft(m,b,y)}),u.l&&Pt({},function(y,b){Ft(m,b,y)})}function Ga(u,m,y){y=Math.min(u.i.length,y);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var z=u.i;let St=-1;for(;;){const te=["count="+y];St==-1?y>0?(St=z[0].g,te.push("ofs="+St)):St=0:te.push("ofs="+St);let Gt=!0;for(let fe=0;fe<y;fe++){var q=z[fe].g;const rn=z[fe].map;if(q-=St,q<0)St=Math.max(0,z[fe].g-100),Gt=!1;else try{q="req"+q+"_"||"";try{var et=rn instanceof Map?rn:Object.entries(rn);for(const[$n,On]of et){let xn=On;g(On)&&(xn=gn(On)),te.push(q+$n+"="+encodeURIComponent(xn))}}catch($n){throw te.push(q+"type="+encodeURIComponent("_badmap")),$n}}catch{b&&b(rn)}}if(Gt){et=te.join("&");break t}}et=void 0}return u=u.i.splice(0,y),m.G=u,et}function Do(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;tt||S(),ut||(tt(),ut=!0),D.add(m,u),u.A=0}}function $r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gi(_(u.Da,u),Vo(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,Io(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gi(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ue(10),Zn(this),Io(this))};function Jr(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Io(u){u.g=new In(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ie(u.na);Ft(m,"RID","rpc"),Ft(m,"SID",u.M),Ft(m,"AID",u.K),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ft(m,"TO",u.ia),Ft(m,"TYPE","xmlhttp"),ea(u,m),u.u&&u.o&&vn(m,u.u,u.o),u.O&&(u.g.H=u.O);var y=u.g;u=u.ba,y.M=1,y.A=gi(ie(m)),y.u=null,y.R=!0,Hi(y,u)}a.Va=function(){this.C!=null&&(this.C=null,Zn(this),$r(this),ue(19))};function ka(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Wr(u,m){var y=null;if(u.g==m){ka(u),Jr(u),u.g=null;var b=2}else if(ks(u.h,m))y=m.G,mi(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){y=m.u?m.u.length:0,m=Date.now()-m.F;var z=u.D;b=Va(),Ce(b,new Eo(b,y)),ta(u)}else Do(u);else if(z=m.m,z==3||z==0&&m.X>0||!(b==1&&Uc(u,m)||b==2&&$r(u)))switch(y&&y.length>0&&(m=u.h,m.i=m.i.concat(y)),z){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function Vo(u,m){let y=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(y*=2),y*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var y=_(u.bb,u),b=u.Ua;const z=!b;b=new Vn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Qi(b,"https"),gi(b),z?Xr(b.toString(),y):Xi(b.toString(),y)}else ue(2);u.I=0,u.l&&u.l.pa(m),Mo(u),Ws(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ue(2)):(this.j.info("Failed to ping google.com"),ue(1))};function Mo(u){if(u.I=0,u.ja=[],u.l){const m=La(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.oa()}}function Oo(u,m,y){var b=y instanceof Vn?ie(y):new Vn(y);if(b.g!="")m&&(b.g=m+"."+b.g),qs(b,b.u);else{var z=d.location;b=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const q=new Vn(null);b&&Qi(q,b),m&&(q.g=m),z&&qs(q,z),y&&(q.h=y),b=q}return y=u.G,m=u.wa,y&&m&&Ft(b,y,m),Ft(b,"VER",u.ka),ea(u,b),b}function qa(u,m,y){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new $t(new Fs({ab:y})):new $t(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function xo(){}a=xo.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ha(){}Ha.prototype.g=function(u,m){return new $e(u,m)};function $e(u,m){be.call(this),this.g=new ja(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}A($e,be),$e.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},$e.prototype.close=function(){Js(this.g)},$e.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.v&&(y={},y.__data__=gn(u),u=y);m.i.push(new Oc(m.Ya++,u)),m.I==3&&ta(m)},$e.prototype.N=function(){this.g.l=null,delete this.j,Js(this.g),delete this.g,$e.Z.N.call(this)};function tl(u){zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const y in m){u=y;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(tl,zi);function Uo(){Dn.call(this),this.status=1}A(Uo,Dn);function Ji(u){this.g=u}A(Ji,xo),Ji.prototype.ra=function(){Ce(this.g,"a")},Ji.prototype.qa=function(u){Ce(this.g,new tl(u))},Ji.prototype.pa=function(u){Ce(this.g,new Uo)},Ji.prototype.oa=function(){Ce(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,$e.prototype.send=$e.prototype.o,$e.prototype.open=$e.prototype.m,$e.prototype.close=$e.prototype.close,nv=function(){return new Ha},ev=function(){return Va()},tv=pn,Kf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ce.NO_ERROR=0,ce.TIMEOUT=8,ce.HTTP_ERROR=6,Gu=ce,xe.COMPLETE="complete",W_=xe,vo.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",be.prototype.listen=be.prototype.J,Fl=vo,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,J_=$t}).apply(typeof Lu<"u"?Lu:typeof self<"u"?self:typeof window<"u"?window:{});const Py="@firebase/firestore",zy="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ta=new F_("@firebase/firestore");function vr(){return Ta.logLevel}function ot(a,...e){if(Ta.logLevel<=Ut.DEBUG){const i=e.map(Ed);Ta.debug(`Firestore (${Mr}): ${a}`,...i)}}function Oi(a,...e){if(Ta.logLevel<=Ut.ERROR){const i=e.map(Ed);Ta.error(`Firestore (${Mr}): ${a}`,...i)}}function Rr(a,...e){if(Ta.logLevel<=Ut.WARN){const i=e.map(Ed);Ta.warn(`Firestore (${Mr}): ${a}`,...i)}}function Ed(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(a,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,iv(a,r,i)}function iv(a,e,i){let r=`FIRESTORE (${Mr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Oi(r),new Error(r)}function jt(a,e,i,r){let o="Unexpected state";typeof i=="string"?o=i:r=i,a||iv(e,o,r)}function At(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Vr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(Qe.UNAUTHENTICATED)))}shutdown(){}}class eb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class nb{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,i(p)):Promise.resolve();let h=new As;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new As,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const p=h;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new As)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new sv(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new Qe(e)}}class ib{constructor(e,i,r){this.P=e,this.T=i,this.I=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class sb{constructor(e,i,r){this.P=e,this.T=i,this.I=r}getToken(){return Promise.resolve(new ib(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(Qe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class By{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ab{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,B1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0,3512);const r=h=>{h.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable((()=>r(h)))};const o=h=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>o(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?o(h):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new By(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(jt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new By(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=rb(40);for(let h=0;h<o.length;++h)r.length<20&&o[h]<i&&(r+=e.charAt(o[h]%62))}return r}}function Vt(a,e){return a<e?-1:a>e?1:0}function Xf(a,e){const i=Math.min(a.length,e.length);for(let r=0;r<i;r++){const o=a.charAt(r),h=e.charAt(r);if(o!==h)return Pf(o)===Pf(h)?Vt(o,h):Pf(o)?1:-1}return Vt(a.length,e.length)}const lb=55296,ob=57343;function Pf(a){const e=a.charCodeAt(0);return e>=lb&&e<=ob}function wr(a,e,i){return a.length===e.length&&a.every(((r,o)=>i(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class ii{constructor(e,i,r){i===void 0?i=0:i>e.length&&vt(637,{offset:i,range:e.length}),r===void 0?r=e.length-i:r>e.length-i&&vt(1746,{length:r,range:e.length-i}),this.segments=e,this.offset=i,this.len=r}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach((r=>{i.push(r)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,r=this.limit();i<r;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const r=Math.min(e.length,i.length);for(let o=0;o<r;o++){const h=ii.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return Vt(e.length,i.length)}static compareSegments(e,i){const r=ii.isNumericId(e),o=ii.isNumericId(i);return r&&!o?-1:!r&&o?1:r&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):Xf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ss.fromString(e.substring(4,e.length-2))}}class Wt extends ii{construct(e,i,r){return new Wt(e,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const r of e){if(r.indexOf("//")>=0)throw new rt(K.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((o=>o.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const ub=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ii{construct(e,i,r){return new Be(e,i,r)}static isValidIdentifier(e){return ub.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Be([jy])}static fromServerFormat(e){const i=[];let r="",o=0;const h=()=>{if(r.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new rt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new rt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(r+=g,o++):(h(),o++)}if(h(),d)throw new rt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Wt.fromString(e))}static fromName(e){return new gt(Wt.fromString(e).popFirst(5))}static empty(){return new gt(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Wt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Wt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(a,e,i){if(!i)throw new rt(K.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function cb(a,e,i,r){if(e===!0&&r===!0)throw new rt(K.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function Gy(a){if(!gt.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function ky(a){if(gt.isDocumentKey(a))throw new rt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rv(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function cc(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":vt(12329,{type:typeof a})}function si(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new rt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=cc(a);throw new rt(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(a,e){const i={typeString:a};return e&&(i.value=e),i}function oo(a,e){if(!rv(a))throw new rt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in e)if(e[r]){const o=e[r].typeString,h="value"in e[r]?{value:e[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(o&&typeof d!==o){i=`JSON field '${r}' must be a ${o}.`;break}if(h!==void 0&&d!==h.value){i=`Expected '${r}' field to equal '${h.value}'`;break}}if(i)throw new rt(K.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy=-62135596800,Hy=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(e){return Zt.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),r=Math.floor((e-1e3*i)*Hy);return new Zt(i,r)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<qy)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Hy}_compareTo(e){return this.seconds===e.seconds?Vt(this.nanoseconds,e.nanoseconds):Vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Zt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(oo(e,Zt._jsonSchema))return new Zt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-qy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Zt._jsonSchemaVersion="firestore/timestamp/1.0",Zt._jsonSchema={type:Ee("string",Zt._jsonSchemaVersion),seconds:Ee("number"),nanoseconds:Ee("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{static fromTimestamp(e){return new bt(e)}static min(){return new bt(new Zt(0,0))}static max(){return new bt(new Zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=-1;function hb(a,e){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,o=bt.fromTimestamp(r===1e9?new Zt(i+1,0):new Zt(i,r));return new ws(o,gt.empty(),e)}function fb(a){return new ws(a.readTime,a.key,no)}class ws{constructor(e,i,r){this.readTime=e,this.documentKey=i,this.largestBatchId=r}static min(){return new ws(bt.min(),gt.empty(),no)}static max(){return new ws(bt.max(),gt.empty(),no)}}function db(a,e){let i=a.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(a.documentKey,e.documentKey),i!==0?i:Vt(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Or(a){if(a.code!==K.FAILED_PRECONDITION||a.message!==mb)throw a;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z(((r,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(r,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(r,o)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):Z.reject(i)}static resolve(e){return new Z(((i,r)=>{i(e)}))}static reject(e){return new Z(((i,r)=>{r(e)}))}static waitFor(e){return new Z(((i,r)=>{let o=0,h=0,d=!1;e.forEach((g=>{++o,g.next((()=>{++h,d&&h===o&&i()}),(p=>r(p)))})),d=!0,h===o&&i()}))}static or(e){let i=Z.resolve(!1);for(const r of e)i=i.next((o=>o?Z.resolve(o):r()));return i}static forEach(e,i){const r=[];return e.forEach(((o,h)=>{r.push(i.call(this,o,h))})),this.waitFor(r)}static mapArray(e,i){return new Z(((r,o)=>{const h=e.length,d=new Array(h);let g=0;for(let p=0;p<h;p++){const _=p;i(e[_]).next((T=>{d[_]=T,++g,g===h&&r(d)}),(T=>o(T)))}}))}static doWhile(e,i){return new Z(((r,o)=>{const h=()=>{e()===!0?i().next((()=>{h()}),o):r()};h()}))}}function pb(a){const e=a.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xr(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}hc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bd=-1;function fc(a){return a==null}function Ju(a){return a===0&&1/a==-1/0}function yb(a){return typeof a=="number"&&Number.isInteger(a)&&!Ju(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="";function _b(a){let e="";for(let i=0;i<a.length;i++)e.length>0&&(e=Fy(e)),e=vb(a.get(i),e);return Fy(e)}function vb(a,e){let i=e;const r=a.length;for(let o=0;o<r;o++){const h=a.charAt(o);switch(h){case"\0":i+="";break;case lv:i+="";break;default:i+=h}}return i}function Fy(a){return a+lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qy(a){let e=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e++;return e}function Ms(a,e){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&e(i,a[i])}function ov(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(e){let i=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return i+r.left.size;o<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,r)=>(e(i,r),!1)))}toString(){const e=[];return this.inorderTraversal(((i,r)=>(e.push(`${i}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pu(this.root,e,this.comparator,!0)}}class Pu{constructor(e,i,r,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?r(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,r,o,h){this.key=e,this.value=i,this.color=r??ze.RED,this.left=o??ze.EMPTY,this.right=h??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,r,o,h){return new ze(e??this.key,i??this.value,r??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const h=r(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,r),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let r,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw vt(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(e,i,r,o,h){return this}insert(e,i,r){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,r)=>(e(i),!1)))}forEachInRange(e,i){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Yy(this.data.getIterator())}getIteratorFrom(e){return new Yy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((r=>{i=i.add(r)})),i}isEqual(e){if(!(e instanceof we)||this.size!==e.size)return!1;const i=this.data.getIterator(),r=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new we(this.comparator);return i.data=e,i}}class Yy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new mn([])}unionWith(e){let i=new we(Be.comparator);for(const r of this.fields)i=i.add(r);for(const r of e)i=i.add(r);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return wr(this.fields,e.fields,((i,r)=>i.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new uv("Invalid base64 string: "+h):h}})(e);return new je(i)}static fromUint8Array(e){const i=(function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h})(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let o=0;o<i.length;o++)r[o]=i.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const Eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(a){if(jt(!!a,39018),typeof a=="string"){let e=0;const i=Eb.exec(a);if(jt(!!i,46558,{timestamp:a}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ge(a.seconds),nanos:ge(a.nanos)}}function ge(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Ns(a){return typeof a=="string"?je.fromBase64String(a):je.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="server_timestamp",hv="__type__",fv="__previous_value__",dv="__local_write_time__";function Sd(a){return(a?.mapValue?.fields||{})[hv]?.stringValue===cv}function dc(a){const e=a.mapValue.fields[fv];return Sd(e)?dc(e):e}function io(a){const e=Cs(a.mapValue.fields[dv].timestampValue);return new Zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,i,r,o,h,d,g,p,_,T){this.databaseId=e,this.appId=i,this.persistenceKey=r,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const Wu="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||Wu}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===Wu}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",bb="__max__",zu={mapValue:{}},gv="__vector__",tc="value";function Ds(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sd(a)?4:Ab(a)?9007199254740991:Sb(a)?10:11:vt(28295,{value:a})}function ci(a,e){if(a===e)return!0;const i=Ds(a);if(i!==Ds(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return io(a).isEqual(io(e));case 3:return(function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=Cs(o.timestampValue),g=Cs(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,h){return Ns(o.bytesValue).isEqual(Ns(h.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,h){return ge(o.geoPointValue.latitude)===ge(h.geoPointValue.latitude)&&ge(o.geoPointValue.longitude)===ge(h.geoPointValue.longitude)})(a,e);case 2:return(function(o,h){if("integerValue"in o&&"integerValue"in h)return ge(o.integerValue)===ge(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=ge(o.doubleValue),g=ge(h.doubleValue);return d===g?Ju(d)===Ju(g):isNaN(d)&&isNaN(g)}return!1})(a,e);case 9:return wr(a.arrayValue.values||[],e.arrayValue.values||[],ci);case 10:case 11:return(function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Qy(d)!==Qy(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ci(d[p],g[p])))return!1;return!0})(a,e);default:return vt(52216,{left:a})}}function ao(a,e){return(a.values||[]).find((i=>ci(i,e)))!==void 0}function Cr(a,e){if(a===e)return 0;const i=Ds(a),r=Ds(e);if(i!==r)return Vt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(a.booleanValue,e.booleanValue);case 2:return(function(h,d){const g=ge(h.integerValue||h.doubleValue),p=ge(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return Ky(a.timestampValue,e.timestampValue);case 4:return Ky(io(a),io(e));case 5:return Xf(a.stringValue,e.stringValue);case 6:return(function(h,d){const g=Ns(h),p=Ns(d);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(h,d){const g=h.split("/"),p=d.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=Vt(g[_],p[_]);if(T!==0)return T}return Vt(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(h,d){const g=Vt(ge(h.latitude),ge(d.latitude));return g!==0?g:Vt(ge(h.longitude),ge(d.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return Xy(a.arrayValue,e.arrayValue);case 10:return(function(h,d){const g=h.fields||{},p=d.fields||{},_=g[tc]?.arrayValue,T=p[tc]?.arrayValue,A=Vt(_?.values?.length||0,T?.values?.length||0);return A!==0?A:Xy(_,T)})(a.mapValue,e.mapValue);case 11:return(function(h,d){if(h===zu.mapValue&&d===zu.mapValue)return 0;if(h===zu.mapValue)return 1;if(d===zu.mapValue)return-1;const g=h.fields||{},p=Object.keys(g),_=d.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const N=Xf(p[A],T[A]);if(N!==0)return N;const k=Cr(g[p[A]],_[T[A]]);if(k!==0)return k}return Vt(p.length,T.length)})(a.mapValue,e.mapValue);default:throw vt(23264,{he:i})}}function Ky(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Vt(a,e);const i=Cs(a),r=Cs(e),o=Vt(i.seconds,r.seconds);return o!==0?o:Vt(i.nanos,r.nanos)}function Xy(a,e){const i=a.values||[],r=e.values||[];for(let o=0;o<i.length&&o<r.length;++o){const h=Cr(i[o],r[o]);if(h)return h}return Vt(i.length,r.length)}function Nr(a){return Zf(a)}function Zf(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Cs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Ns(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return gt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",o=!0;for(const h of i.values||[])o?o=!1:r+=",",r+=Zf(h);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of r)h?h=!1:o+=",",o+=`${d}:${Zf(i.fields[d])}`;return o+"}"})(a.mapValue):vt(61005,{value:a})}function ku(a){switch(Ds(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dc(a);return e?16+ku(e):16;case 5:return 2*a.stringValue.length;case 6:return Ns(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,h)=>o+ku(h)),0)})(a.arrayValue);case 10:case 11:return(function(r){let o=0;return Ms(r.fields,((h,d)=>{o+=h.length+ku(d)})),o})(a.mapValue);default:throw vt(13486,{value:a})}}function Zy(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function $f(a){return!!a&&"integerValue"in a}function Ad(a){return!!a&&"arrayValue"in a}function $y(a){return!!a&&"nullValue"in a}function Jy(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function qu(a){return!!a&&"mapValue"in a}function Sb(a){return(a?.mapValue?.fields||{})[mv]?.stringValue===gv}function Zl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ms(a.mapValue.fields,((i,r)=>e.mapValue.fields[i]=Zl(r))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Zl(a.arrayValue.values[i]);return e}return{...a}}function Ab(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===bb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let r=0;r<e.length-1;++r)if(i=(i.mapValue.fields||{})[e.get(r)],!qu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(i)}setAll(e){let i=Be.emptyPath(),r={},o=[];e.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,r,o),r={},o=[],i=g.popLast()}d?r[g.lastSegment()]=Zl(d):o.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,r,o)}delete(e){const i=this.field(e.popLast());qu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ci(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=i.mapValue.fields[e.get(r)];qu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(r)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,r){Ms(i,((o,h)=>e[o]=h));for(const o of r)delete e[o]}clone(){return new an(Zl(this.value))}}function pv(a){const e=[];return Ms(a.fields,((i,r)=>{const o=new Be([i]);if(qu(r)){const h=pv(r.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)})),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,r,o,h,d,g){this.key=e,this.documentType=i,this.version=r,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,bt.min(),bt.min(),bt.min(),an.empty(),0)}static newFoundDocument(e,i,r,o){return new Ye(e,1,i,bt.min(),r,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,bt.min(),bt.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,bt.min(),bt.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.position=e,this.inclusive=i}}function Wy(a,e,i){let r=0;for(let o=0;o<a.position.length;o++){const h=e[o],d=a.position[o];if(h.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=Cr(d,i.data.field(h.field)),h.dir==="desc"&&(r*=-1),r!==0)break}return r}function t_(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!ci(a.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e,i="asc"){this.field=e,this.dir=i}}function Rb(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{}class ve extends yv{constructor(e,i,r){super(),this.field=e,this.op=i,this.value=r}static create(e,i,r){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,r):new Cb(e,i,r):i==="array-contains"?new Ib(e,r):i==="in"?new Vb(e,r):i==="not-in"?new Mb(e,r):i==="array-contains-any"?new Ob(e,r):new ve(e,i,r)}static createKeyFieldInFilter(e,i,r){return i==="in"?new Nb(e,r):new Db(e,r)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Cr(i,this.value)):i!==null&&Ds(this.value)===Ds(i)&&this.matchesComparison(Cr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jn extends yv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new jn(e,i)}matches(e){return _v(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(a){return a.op==="and"}function vv(a){return wb(a)&&_v(a)}function wb(a){for(const e of a.filters)if(e instanceof jn)return!1;return!0}function Jf(a){if(a instanceof ve)return a.field.canonicalString()+a.op.toString()+Nr(a.value);if(vv(a))return a.filters.map((e=>Jf(e))).join(",");{const e=a.filters.map((i=>Jf(i))).join(",");return`${a.op}(${e})`}}function Ev(a,e){return a instanceof ve?(function(r,o){return o instanceof ve&&r.op===o.op&&r.field.isEqual(o.field)&&ci(r.value,o.value)})(a,e):a instanceof jn?(function(r,o){return o instanceof jn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((h,d,g)=>h&&Ev(d,o.filters[g])),!0):!1})(a,e):void vt(19439)}function Tv(a){return a instanceof ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${Nr(i.value)}`})(a):a instanceof jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(Tv).join(" ,")+"}"})(a):"Filter"}class Cb extends ve{constructor(e,i,r){super(e,i,r),this.key=gt.fromName(r.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class Nb extends ve{constructor(e,i){super(e,"in",i),this.keys=bv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class Db extends ve{constructor(e,i){super(e,"not-in",i),this.keys=bv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function bv(a,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class Ib extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Ad(i)&&ao(i.arrayValue,this.value)}}class Vb extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ao(this.value.arrayValue,i)}}class Mb extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ao(this.value.arrayValue,i)}}class Ob extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Ad(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>ao(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,i=null,r=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=r,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.Te=null}}function e_(a,e=null,i=[],r=[],o=null,h=null,d=null){return new xb(a,e,i,r,o,h,d)}function Rd(a){const e=At(a);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((r=>Jf(r))).join(","),i+="|ob:",i+=e.orderBy.map((r=>(function(h){return h.field.canonicalString()+h.dir})(r))).join(","),fc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Nr(r))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Nr(r))).join(",")),e.Te=i}return e.Te}function wd(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Rb(a.orderBy[i],e.orderBy[i]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!Ev(a.filters[i],e.filters[i]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!t_(a.startAt,e.startAt)&&t_(a.endAt,e.endAt)}function Wf(a){return gt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,i=null,r=[],o=[],h=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ub(a,e,i,r,o,h,d,g){return new uo(a,e,i,r,o,h,d,g)}function Cd(a){return new uo(a)}function n_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Sv(a){return a.collectionGroup!==null}function $l(a){const e=At(a);if(e.Ie===null){e.Ie=[];const i=new Set;for(const h of e.explicitOrderBy)e.Ie.push(h),i.add(h.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new we(Be.comparator);return d.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(e).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||e.Ie.push(new nc(h,r))})),i.has(Be.keyField().canonicalString())||e.Ie.push(new nc(Be.keyField(),r))}return e.Ie}function ai(a){const e=At(a);return e.Ee||(e.Ee=Lb(e,$l(a))),e.Ee}function Lb(a,e){if(a.limitType==="F")return e_(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const h=o.dir==="desc"?"asc":"desc";return new nc(o.field,h)}));const i=a.endAt?new ec(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new ec(a.startAt.position,a.startAt.inclusive):null;return e_(a.path,a.collectionGroup,e,a.filters,a.limit,i,r)}}function td(a,e){const i=a.filters.concat([e]);return new uo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),i,a.limit,a.limitType,a.startAt,a.endAt)}function ed(a,e,i){return new uo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,i,a.startAt,a.endAt)}function mc(a,e){return wd(ai(a),ai(e))&&a.limitType===e.limitType}function Av(a){return`${Rd(ai(a))}|lt:${a.limitType}`}function Er(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((o=>Tv(o))).join(", ")}]`),fc(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((o=>Nr(o))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((o=>Nr(o))).join(",")),`Target(${r})`})(ai(a))}; limitType=${a.limitType})`}function gc(a,e){return e.isFoundDocument()&&(function(r,o){const h=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(h):gt.isDocumentKey(r.path)?r.path.isEqual(h):r.path.isImmediateParentOf(h)})(a,e)&&(function(r,o){for(const h of $l(r))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0})(a,e)&&(function(r,o){for(const h of r.filters)if(!h.matches(o))return!1;return!0})(a,e)&&(function(r,o){return!(r.startAt&&!(function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_<=0:_<0})(r.startAt,$l(r),o)||r.endAt&&!(function(d,g,p){const _=Wy(d,g,p);return d.inclusive?_>=0:_>0})(r.endAt,$l(r),o))})(a,e)}function Pb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function Rv(a){return(e,i)=>{let r=!1;for(const o of $l(a)){const h=zb(o,e,i);if(h!==0)return h;r=r||o.field.isKeyField()}return 0}}function zb(a,e,i){const r=a.field.isKeyField()?gt.comparator(e.key,i.key):(function(h,d,g){const p=d.data.field(h),_=g.data.field(h);return p!==null&&_!==null?Cr(p,_):vt(42886)})(a.field,e,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r!==void 0){for(const[o,h]of r)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[i]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((i,r)=>{for(const[o,h]of r)e(o,h)}))}isEmpty(){return ov(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=new ae(gt.comparator);function xi(){return Bb}const wv=new ae(gt.comparator);function Ql(...a){let e=wv;for(const i of a)e=e.insert(i.key,i);return e}function Cv(a){let e=wv;return a.forEach(((i,r)=>e=e.insert(i,r.overlayedDocument))),e}function _a(){return Jl()}function Nv(){return Jl()}function Jl(){return new Ra((a=>a.toString()),((a,e)=>a.isEqual(e)))}const jb=new ae(gt.comparator),Gb=new we(gt.comparator);function Mt(...a){let e=Gb;for(const i of a)e=e.add(i);return e}const kb=new we(Vt);function qb(){return kb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function Dv(a){return{integerValue:""+a}}function Hb(a,e){return yb(e)?Dv(e):Nd(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function Fb(a,e,i){return a instanceof ic?(function(o,h){const d={fields:{[hv]:{stringValue:cv},[dv]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&Sd(h)&&(h=dc(h)),h&&(d.fields[fv]=h),{mapValue:d}})(i,e):a instanceof ro?Vv(a,e):a instanceof lo?Mv(a,e):(function(o,h){const d=Iv(o,h),g=i_(d)+i_(o.Ae);return $f(d)&&$f(o.Ae)?Dv(g):Nd(o.serializer,g)})(a,e)}function Qb(a,e,i){return a instanceof ro?Vv(a,e):a instanceof lo?Mv(a,e):i}function Iv(a,e){return a instanceof sc?(function(r){return $f(r)||(function(h){return!!h&&"doubleValue"in h})(r)})(e)?e:{integerValue:0}:null}class ic extends pc{}class ro extends pc{constructor(e){super(),this.elements=e}}function Vv(a,e){const i=Ov(e);for(const r of a.elements)i.some((o=>ci(o,r)))||i.push(r);return{arrayValue:{values:i}}}class lo extends pc{constructor(e){super(),this.elements=e}}function Mv(a,e){let i=Ov(e);for(const r of a.elements)i=i.filter((o=>!ci(o,r)));return{arrayValue:{values:i}}}class sc extends pc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function i_(a){return ge(a.integerValue||a.doubleValue)}function Ov(a){return Ad(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function Yb(a,e){return a.field.isEqual(e.field)&&(function(r,o){return r instanceof ro&&o instanceof ro||r instanceof lo&&o instanceof lo?wr(r.elements,o.elements,ci):r instanceof sc&&o instanceof sc?ci(r.Ae,o.Ae):r instanceof ic&&o instanceof ic})(a.transform,e.transform)}class Kb{constructor(e,i){this.version=e,this.transformResults=i}}class Bn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Bn}static exists(e){return new Bn(void 0,e)}static updateTime(e){return new Bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class yc{}function xv(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new Dd(a.key,Bn.none()):new co(a.key,a.data,Bn.none());{const i=a.data,r=an.empty();let o=new we(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?r.delete(h):r.set(h,d),o=o.add(h)}return new Os(a.key,r,new mn(o.toArray()),Bn.none())}}function Xb(a,e,i){a instanceof co?(function(o,h,d){const g=o.value.clone(),p=a_(o.fieldTransforms,h,d.transformResults);g.setAll(p),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,e,i):a instanceof Os?(function(o,h,d){if(!Hu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=a_(o.fieldTransforms,h,d.transformResults),p=h.data;p.setAll(Uv(o)),p.setAll(g),h.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,e,i):(function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function Wl(a,e,i,r){return a instanceof co?(function(h,d,g,p){if(!Hu(h.precondition,d))return g;const _=h.value.clone(),T=r_(h.fieldTransforms,p,d);return _.setAll(T),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,e,i,r):a instanceof Os?(function(h,d,g,p){if(!Hu(h.precondition,d))return g;const _=r_(h.fieldTransforms,p,d),T=d.data;return T.setAll(Uv(h)),T.setAll(_),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((A=>A.field)))})(a,e,i,r):(function(h,d,g){return Hu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,e,i)}function Zb(a,e){let i=null;for(const r of a.fieldTransforms){const o=e.data.field(r.field),h=Iv(r.transform,o||null);h!=null&&(i===null&&(i=an.empty()),i.set(r.field,h))}return i||null}function s_(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&wr(r,o,((h,d)=>Yb(h,d)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class co extends yc{constructor(e,i,r,o=[]){super(),this.key=e,this.value=i,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Os extends yc{constructor(e,i,r,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=r,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function Uv(a){const e=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);e.set(i,r)}})),e}function a_(a,e,i){const r=new Map;jt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let o=0;o<i.length;o++){const h=a[o],d=h.transform,g=e.data.field(h.field);r.set(h.field,Qb(d,g,i[o]))}return r}function r_(a,e,i){const r=new Map;for(const o of a){const h=o.transform,d=i.data.field(o.field);r.set(o.field,Fb(h,d,e))}return r}class Dd extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $b extends yc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,i,r,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,i){const r=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&Xb(h,e,r[o])}}applyToLocalView(e,i){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(i=Wl(r,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const r=Nv();return this.mutations.forEach((o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const p=xv(d,g);p!==null&&r.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(bt.min())})),r}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Mt())}isEqual(e){return this.batchId===e.batchId&&wr(this.mutations,e.mutations,((i,r)=>s_(i,r)))&&wr(this.baseMutations,e.baseMutations,((i,r)=>s_(i,r)))}}class Id{constructor(e,i,r,o){this.batch=e,this.commitVersion=i,this.mutationResults=r,this.docVersions=o}static from(e,i,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return jb})();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,r[d].version);return new Id(e,i,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,xt;function eS(a){switch(a){case K.OK:return vt(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return vt(15467,{code:a})}}function Lv(a){if(a===void 0)return Oi("GRPC error has no .code"),K.UNKNOWN;switch(a){case _e.OK:return K.OK;case _e.CANCELLED:return K.CANCELLED;case _e.UNKNOWN:return K.UNKNOWN;case _e.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case _e.INTERNAL:return K.INTERNAL;case _e.UNAVAILABLE:return K.UNAVAILABLE;case _e.UNAUTHENTICATED:return K.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case _e.NOT_FOUND:return K.NOT_FOUND;case _e.ALREADY_EXISTS:return K.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return K.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case _e.ABORTED:return K.ABORTED;case _e.OUT_OF_RANGE:return K.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return K.UNIMPLEMENTED;case _e.DATA_LOSS:return K.DATA_LOSS;default:return vt(39323,{code:a})}}(xt=_e||(_e={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new Ss([4294967295,4294967295],0);function l_(a){const e=nS().encode(a),i=new $_;return i.update(e),new Uint8Array(i.digest())}function o_(a){const e=new DataView(a.buffer),i=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new Ss([i,r],0),new Ss([o,h],0)]}class Vd{constructor(e,i,r){if(this.bitmap=e,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Yl(`Invalid padding: ${i}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&i!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ss.fromNumber(this.ge)}ye(e,i,r){let o=e.add(i.multiply(Ss.fromNumber(r)));return o.compare(iS)===1&&(o=new Ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=l_(e),[r,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);if(!this.we(d))return!1}return!0}static create(e,i,r){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new Vd(h,o,i);return r.forEach((g=>d.insert(g))),d}insert(e){if(this.ge===0)return;const i=l_(e),[r,o]=o_(i);for(let h=0;h<this.hashCount;h++){const d=this.ye(r,o,h);this.Se(d)}}Se(e){const i=Math.floor(e/8),r=e%8;this.bitmap[i]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,i,r,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,r){const o=new Map;return o.set(e,ho.createSynthesizedTargetChangeForCurrentChange(e,i,r)),new _c(bt.min(),o,new ae(Vt),xi(),Mt())}}class ho{constructor(e,i,r,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,r){return new ho(r,i,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i,r,o){this.be=e,this.removedTargetIds=i,this.key=r,this.De=o}}class Pv{constructor(e,i){this.targetId=e,this.Ce=i}}class zv{constructor(e,i,r=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=r,this.cause=o}}class u_{constructor(){this.ve=0,this.Fe=c_(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:h})}})),new ho(this.Me,this.xe,e,i,r)}qe(){this.Oe=!1,this.Fe=c_()}Qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sS{constructor(e){this.Ge=e,this.ze=new Map,this.je=xi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ae(Vt)}Ze(e){for(const i of e.be)e.De&&e.De.isFoundDocument()?this.Xe(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const r=this.nt(i);switch(e.state){case 0:this.rt(i)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(e.resumeToken));break;default:vt(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((r,o)=>{this.rt(o)&&i(o)}))}st(e){const i=e.targetId,r=e.Ce.count,o=this.ot(i);if(o){const h=o.target;if(Wf(h))if(r===0){const d=new gt(h.path);this.et(i,d,Ye.newNoDocument(d,bt.min()))}else jt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(e),p=g?this.ct(g,e,d):1;if(p!==0){this.it(i);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=Ns(r).toUint8Array()}catch(p){if(p instanceof uv)return Rr("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Vd(d,o,h)}catch(p){return Rr(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,i,r){return i.Ce.count===r-this.Pt(e,i.targetId)?0:2}Pt(e,i){const r=this.Ge.getRemoteKeysForTarget(i);let o=0;return r.forEach((h=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.et(i,h,null),o++)})),o}Tt(e){const i=new Map;this.ze.forEach(((h,d)=>{const g=this.ot(d);if(g){if(h.current&&Wf(g.target)){const p=new gt(g.target.path);this.It(p).has(d)||this.Et(d,p)||this.et(d,p,Ye.newNoDocument(p,e))}h.Be&&(i.set(d,h.ke()),h.qe())}}));let r=Mt();this.He.forEach(((h,d)=>{let g=!0;d.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(h))})),this.je.forEach(((h,d)=>d.setReadTime(e)));const o=new _c(e,i,this.Ye,this.je,r);return this.je=xi(),this.Je=Bu(),this.He=Bu(),this.Ye=new ae(Vt),o}Xe(e,i){if(!this.rt(e))return;const r=this.Et(e,i.key)?2:0;this.nt(e).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(e)),this.He=this.He.insert(i.key,this.dt(i.key).add(e))}et(e,i,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(e)),this.He=this.He.insert(i,this.dt(i).add(e)),r&&(this.je=this.je.insert(i,r))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let i=this.ze.get(e);return i||(i=new u_,this.ze.set(e,i)),i}dt(e){let i=this.He.get(e);return i||(i=new we(Vt),this.He=this.He.insert(e,i)),i}It(e){let i=this.Je.get(e);return i||(i=new we(Vt),this.Je=this.Je.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new u_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Bu(){return new ae(gt.comparator)}function c_(){return new ae(gt.comparator)}const aS={asc:"ASCENDING",desc:"DESCENDING"},rS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lS={and:"AND",or:"OR"};class oS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(a,e){return a.useProto3Json||fc(e)?e:{value:e}}function ac(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bv(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function uS(a,e){return ac(a,e.toTimestamp())}function ri(a){return jt(!!a,49232),bt.fromTimestamp((function(i){const r=Cs(i);return new Zt(r.seconds,r.nanos)})(a))}function Md(a,e){return id(a,e).canonicalString()}function id(a,e){const i=(function(o){return new Wt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?i:i.child(e)}function jv(a){const e=Wt.fromString(a);return jt(Fv(e),10190,{key:e.toString()}),e}function sd(a,e){return Md(a.databaseId,e.path)}function zf(a,e){const i=jv(e);if(i.get(1)!==a.databaseId.projectId)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new rt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new gt(kv(i))}function Gv(a,e){return Md(a.databaseId,e)}function cS(a){const e=jv(a);return e.length===4?Wt.emptyPath():kv(e)}function ad(a){return new Wt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function kv(a){return jt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function h_(a,e,i){return{name:sd(a,e),fields:i.value.mapValue.fields}}function hS(a,e){let i;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=(function(_,T){return _.useProto3Json?(jt(T===void 0||typeof T=="string",58123),je.fromBase64String(T||"")):(jt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),je.fromUint8Array(T||new Uint8Array))})(a,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&(function(_){const T=_.code===void 0?K.UNKNOWN:Lv(_.code);return new rt(T,_.message||"")})(d);i=new zv(r,o,h,g||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=zf(a,r.document.name),h=ri(r.document.updateTime),d=r.document.createTime?ri(r.document.createTime):bt.min(),g=new an({mapValue:{fields:r.document.fields}}),p=Ye.newFoundDocument(o,h,d,g),_=r.targetIds||[],T=r.removedTargetIds||[];i=new Fu(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=zf(a,r.document),h=r.readTime?ri(r.readTime):bt.min(),d=Ye.newNoDocument(o,h),g=r.removedTargetIds||[];i=new Fu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=zf(a,r.document),h=r.removedTargetIds||[];i=new Fu([],h,o,null)}else{if(!("filter"in e))return vt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:h}=r,d=new tS(o,h),g=r.targetId;i=new Pv(g,d)}}return i}function fS(a,e){let i;if(e instanceof co)i={update:h_(a,e.key,e.value)};else if(e instanceof Dd)i={delete:sd(a,e.key)};else if(e instanceof Os)i={update:h_(a,e.key,e.data),updateMask:TS(e.fieldMask)};else{if(!(e instanceof $b))return vt(16599,{Vt:e.type});i={verify:sd(a,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((r=>(function(h,d){const g=d.transform;if(g instanceof ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof lo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:d.transform})})(0,r)))),e.precondition.isNone||(i.currentDocument=(function(o,h){return h.updateTime!==void 0?{updateTime:uS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:vt(27497)})(a,e.precondition)),i}function dS(a,e){return a&&a.length>0?(jt(e!==void 0,14353),a.map((i=>(function(o,h){let d=o.updateTime?ri(o.updateTime):ri(h);return d.isEqual(bt.min())&&(d=ri(h)),new Kb(d,o.transformResults||[])})(i,e)))):[]}function mS(a,e){return{documents:[Gv(a,e.path)]}}function gS(a,e){const i={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=Gv(a,o);const h=(function(_){if(_.length!==0)return Hv(jn.create(_,"and"))})(e.filters);h&&(i.structuredQuery.where=h);const d=(function(_){if(_.length!==0)return _.map((T=>(function(N){return{field:Tr(N.field),direction:_S(N.dir)}})(T)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=nd(a,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:o}}function pS(a){let e=cS(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let o=null;if(r>0){jt(r===1,65062);const T=i.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let h=[];i.where&&(h=(function(A){const N=qv(A);return N instanceof jn&&vv(N)?N.getFilters():[N]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((N=>(function(W){return new nc(br(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(N)))})(i.orderBy));let g=null;i.limit&&(g=(function(A){let N;return N=typeof A=="object"?A.value:A,fc(N)?null:N})(i.limit));let p=null;i.startAt&&(p=(function(A){const N=!!A.before,k=A.values||[];return new ec(k,N)})(i.startAt));let _=null;return i.endAt&&(_=(function(A){const N=!A.before,k=A.values||[];return new ec(k,N)})(i.endAt)),Ub(e,o,d,h,g,"F",p,_)}function yS(a,e){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function qv(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=br(i.unaryFilter.field);return ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=br(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=br(i.unaryFilter.field);return ve.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=br(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return ve.create(br(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return jn.create(i.compositeFilter.filters.map((r=>qv(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(a):vt(30097,{filter:a})}function _S(a){return aS[a]}function vS(a){return rS[a]}function ES(a){return lS[a]}function Tr(a){return{fieldPath:a.canonicalString()}}function br(a){return Be.fromServerFormat(a.fieldPath)}function Hv(a){return a instanceof ve?(function(i){if(i.op==="=="){if(Jy(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NAN"}};if($y(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Jy(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NAN"}};if($y(i.value))return{unaryFilter:{field:Tr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tr(i.field),op:vS(i.op),value:i.value}}})(a):a instanceof jn?(function(i){const r=i.getFilters().map((o=>Hv(o)));return r.length===1?r[0]:{compositeFilter:{op:ES(i.op),filters:r}}})(a):vt(54877,{filter:a})}function TS(a){const e=[];return a.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function Fv(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e,i,r,o,h=bt.min(),d=bt.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e){this.yt=e}}function SS(a){const e=pS({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?ed(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.Cn=new RS}addToCollectionParentIndex(e,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(ws.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(ws.min())}updateCollectionGroup(e,i,r){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class RS{constructor(){this.index={}}add(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i]||new we(Wt.comparator),h=!o.has(r);return this.index[i]=o.add(r),h}has(e){const i=e.lastSegment(),r=e.popLast(),o=this.index[i];return o&&o.has(r)}getEntries(e){return(this.index[e]||new we(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Qv=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Qv,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Dr(0)}static cr(){return new Dr(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="LruGarbageCollector",wS=1048576;function m_([a,e],[i,r]){const o=Vt(a,i);return o===0?Vt(e,r):o}class CS{constructor(e){this.Ir=e,this.buffer=new we(m_),this.Er=0}dr(){return++this.Er}Ar(e){const i=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();m_(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class NS{constructor(e,i,r){this.garbageCollector=e,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(d_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xr(i)?ot(d_,"Ignoring IndexedDB error during garbage collection: ",i):await Or(i)}await this.Vr(3e5)}))}}class DS{constructor(e,i){this.mr=e,this.params=i}calculateTargetCount(e,i){return this.mr.gr(e).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(hc.ce);const r=new CS(i);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,i,r){return this.mr.removeTargets(e,i,r)}removeOrphanedDocuments(e,i){return this.mr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(f_)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.yr(e,i)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,i){let r,o,h,d,g,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(r=A,g=Date.now(),this.removeTargets(e,r,i)))).next((A=>(h=A,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((A=>(_=Date.now(),vr()<=Ut.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(p-g)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:A}))))}}function IS(a,e){return new DS(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.changes=new Ra((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,i,r,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,i){let r=null;return this.documentOverlayCache.getOverlay(e,i).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,i)))).next((o=>(r!==null&&Wl(r.mutation,o,mn.empty(),Zt.now()),o)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.getLocalViewOfDocuments(e,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(e,i,r=Mt()){const o=_a();return this.populateOverlays(e,o,i).next((()=>this.computeViews(e,i,o,r).next((h=>{let d=Ql();return h.forEach(((g,p)=>{d=d.insert(g,p.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const r=_a();return this.populateOverlays(e,r,i).next((()=>this.computeViews(e,i,r,Mt())))}populateOverlays(e,i,r){const o=[];return r.forEach((h=>{i.has(h)||o.push(h)})),this.documentOverlayCache.getOverlays(e,o).next((h=>{h.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(e,i,r,o){let h=xi();const d=Jl(),g=(function(){return Jl()})();return i.forEach(((p,_)=>{const T=r.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Os)?h=h.insert(_.key,_):T!==void 0?(d.set(_.key,T.mutation.getFieldMask()),Wl(T.mutation,_,T.mutation.getFieldMask(),Zt.now())):d.set(_.key,mn.empty())})),this.recalculateAndSaveOverlays(e,h).next((p=>(p.forEach(((_,T)=>d.set(_,T))),i.forEach(((_,T)=>g.set(_,new MS(T,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(e,i){const r=Jl();let o=new ae(((d,g)=>d-g)),h=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const g of d)g.keys().forEach((p=>{const _=i.get(p);if(_===null)return;let T=r.get(p)||mn.empty();T=g.applyToLocalView(_,T),r.set(p,T);const A=(o.get(g.batchId)||Mt()).add(p);o=o.insert(g.batchId,A)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,A=Nv();T.forEach((N=>{if(!h.has(N)){const k=xv(i.get(N),r.get(N));k!==null&&A.set(N,k),h=h.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,i,r,o){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):Sv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,r,o):this.getDocumentsMatchingCollectionQuery(e,i,r,o)}getNextDocuments(e,i,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,r,o).next((h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,r.largestBatchId,o-h.size):Z.resolve(_a());let g=no,p=h;return d.next((_=>Z.forEach(_,((T,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),h.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next((N=>{p=p.insert(T,N)}))))).next((()=>this.populateOverlays(e,_,h))).next((()=>this.computeViews(e,p,_,Mt()))).next((T=>({batchId:g,changes:Cv(T)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((r=>{let o=Ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,i,r,o){const h=i.collectionGroup;let d=Ql();return this.indexManager.getCollectionParents(e,h).next((g=>Z.forEach(g,(p=>{const _=(function(A,N){return new uo(N,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,p.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((T=>{T.forEach(((A,N)=>{d=d.insert(A,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,r,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,r.largestBatchId).next((d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,r,h,o)))).next((d=>{h.forEach(((p,_)=>{const T=_.getKey();d.get(T)===null&&(d=d.insert(T,Ye.newInvalidDocument(T)))}));let g=Ql();return d.forEach(((p,_)=>{const T=h.get(p);T!==void 0&&Wl(T.mutation,_,mn.empty(),Zt.now()),gc(i,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(e,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:ri(o.createTime)}})(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(e,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:SS(o.bundledQuery),readTime:ri(o.readTime)}})(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.overlays=new ae(gt.comparator),this.qr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const r=_a();return Z.forEach(i,(o=>this.getOverlay(e,o).next((h=>{h!==null&&r.set(o,h)})))).next((()=>r))}saveOverlays(e,i,r){return r.forEach(((o,h)=>{this.St(e,i,h)})),Z.resolve()}removeOverlaysForBatchId(e,i,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(e,i,r){const o=_a(),h=i.length+1,d=new gt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&p.largestBatchId>r&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,r,o){let h=new ae(((_,T)=>_-T));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let T=h.get(_.largestBatchId);T===null&&(T=_a(),h=h.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=_a(),p=h.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return Z.resolve(g)}St(e,i,r){const o=this.overlays.get(r.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Wb(i,r));let h=this.qr.get(i);h===void 0&&(h=Mt(),this.qr.set(i,h)),this.qr.set(i,h.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.Qr=new we(Me.$r),this.Ur=new we(Me.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,i){const r=new Me(e,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,i){e.forEach((r=>this.addReference(r,i)))}removeReference(e,i){this.Gr(new Me(e,i))}zr(e,i){e.forEach((r=>this.removeReference(r,i)))}jr(e){const i=new gt(new Wt([])),r=new Me(i,e),o=new Me(i,e+1),h=[];return this.Ur.forEachInRange([r,o],(d=>{this.Gr(d),h.push(d.key)})),h}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const i=new gt(new Wt([])),r=new Me(i,e),o=new Me(i,e+1);let h=Mt();return this.Ur.forEachInRange([r,o],(d=>{h=h.add(d.key)})),h}containsKey(e){const i=new Me(e,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&e.isEqual(r.key)}}class Me{constructor(e,i){this.key=e,this.Yr=i}static $r(e,i){return gt.comparator(e.key,i.key)||Vt(e.Yr,i.Yr)}static Kr(e,i){return Vt(e.Yr,i.Yr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new we(Me.$r)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,r,o){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Jb(h,i,r,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(e,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(e,i){const r=i+1,o=this.ei(r),h=o<0?0:o;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?bd:this.tr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const r=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([r,o],(d=>{const g=this.Xr(d.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let r=new we(Vt);return i.forEach((o=>{const h=new Me(o,0),d=new Me(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,d],(g=>{r=r.add(g.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,i){const r=i.path,o=r.length+1;let h=r;gt.isDocumentKey(h)||(h=h.child(""));const d=new Me(new gt(h),0);let g=new we(Vt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Yr)),!0)}),d),Z.resolve(this.ti(g))}ti(e){const i=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&i.push(o)})),i}removeMutationBatch(e,i){jt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(o=>{const h=new Me(o.key,i.batchId);return r=r.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,i){const r=new Me(i,0),o=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}ni(e,i){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const i=this.ei(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.ri=e,this.docs=(function(){return new ae(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const r=i.key,o=this.docs.get(r),h=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let r=xi();return i.forEach((o=>{const h=this.docs.get(o);r=r.insert(o,h?h.document.mutableCopy():Ye.newInvalidDocument(o))})),Z.resolve(r)}getDocumentsMatchingQuery(e,i,r,o){let h=xi();const d=i.path,g=new gt(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||db(fb(T),r)<=0||(o.has(T.key)||gc(i,T))&&(h=h.insert(T.key,T.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(e,i,r,o){vt(9500)}ii(e,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(e){return new BS(this)}getSize(e){return Z.resolve(this.size)}}class BS extends VS{constructor(e){super(),this.Nr=e}applyChanges(e){const i=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(e,i){return this.Nr.getEntry(e,i)}getAllFromCache(e,i){return this.Nr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.persistence=e,this.si=new Ra((i=>Rd(i)),wd),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Od,this.targetCount=0,this.ai=Dr.ur()}forEachTarget(e,i){return this.si.forEach(((r,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(e){this.si.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.ai=new Dr(i),this.highestTargetId=i),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.Pr(i),Z.resolve()}removeTargetData(e,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,r){let o=0;const h=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),Z.waitFor(h).next((()=>o))}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(e,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(e,i,r){this._i.zr(i,r);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach((d=>{h.push(o.markPotentiallyOrphaned(e,d))})),Z.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(e,i){return Z.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,i){this.ui={},this.overlays={},this.ci=new hc(0),this.li=!1,this.li=!0,this.hi=new LS,this.referenceDelegate=e(this),this.Pi=new jS(this),this.indexManager=new AS,this.remoteDocumentCache=(function(o){return new zS(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new bS(i),this.Ii=new xS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new US,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let r=this.ui[e.toKey()];return r||(r=new PS(i,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,i,r){ot("MemoryPersistence","Starting transaction:",e);const o=new GS(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((h=>this.referenceDelegate.di(o).next((()=>h)))).toPromise().then((h=>(o.raiseOnCommittedEvent(),h)))}Ai(e,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,i))))}}class GS extends gb{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Od,this.Vi=null}static mi(e){return new xd(e)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(e,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(e,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(e,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,i.targetId).next((o=>{o.forEach((h=>this.fi.add(h.toString())))})).next((()=>r.removeTargetData(e,i)))}Ei(){this.Vi=new Set}di(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const o=gt.fromPath(r);return this.gi(e,o).next((h=>{h||i.removeEntry(o,bt.min())}))})).next((()=>(this.Vi=null,i.apply(e))))}updateLimboDocument(e,i){return this.gi(e,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(e){return 0}gi(e,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ai(e,i)])}}class rc{constructor(e,i){this.persistence=e,this.pi=new Ra((r=>_b(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=IS(this,i)}static mi(e,i){return new rc(e,i)}Ei(){}di(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}gr(e){const i=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>i.next((o=>r+o))))}wr(e){let i=0;return this.pr(e,(r=>{i++})).next((()=>i))}pr(e,i){return Z.forEach(this.pi,((r,o)=>this.br(e,r,o).next((h=>h?Z.resolve():i(o)))))}removeTargets(e,i,r){return this.persistence.getTargetCache().removeTargets(e,i,r)}removeOrphanedDocuments(e,i){let r=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,i).next((g=>{g||(r++,h.removeEntry(d,bt.min()))})))).next((()=>h.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const r=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,r){return this.pi.set(r,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.pi.set(i,e.currentSequenceNumber),Z.resolve()}Ti(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ku(e.data.value)),i}br(e,i,r){return Z.or([()=>this.persistence.Ai(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,i,r,o){this.targetId=e,this.fromCache=i,this.Es=r,this.ds=o}static As(e,i){let r=Mt(),o=Mt();for(const h of i.docChanges)switch(h.type){case 0:r=r.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new Ud(e,i.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LT()?8:pb(xT())>0?6:4})()}initialize(e,i){this.ps=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,r,o){const h={result:null};return this.ys(e,i).next((d=>{h.result=d})).next((()=>{if(!h.result)return this.ws(e,i,o,r).next((d=>{h.result=d}))})).next((()=>{if(h.result)return;const d=new kS;return this.Ss(e,i,d).next((g=>{if(h.result=g,this.Vs)return this.bs(e,i,d,g.size)}))})).next((()=>h.result))}bs(e,i,r,o){return r.documentReadCount<this.fs?(vr()<=Ut.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Er(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(vr()<=Ut.DEBUG&&ot("QueryEngine","Query:",Er(i),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(vr()<=Ut.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Er(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ai(i))):Z.resolve())}ys(e,i){if(n_(i))return Z.resolve(null);let r=ai(i);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ed(i,null,"F"),r=ai(i)),this.indexManager.getDocumentsMatchingTarget(e,r).next((h=>{const d=Mt(...h);return this.ps.getDocuments(e,d).next((g=>this.indexManager.getMinOffset(e,r).next((p=>{const _=this.Ds(i,g);return this.Cs(i,_,d,p.readTime)?this.ys(e,ed(i,null,"F")):this.vs(e,_,i,p)}))))})))))}ws(e,i,r,o){return n_(i)||o.isEqual(bt.min())?Z.resolve(null):this.ps.getDocuments(e,r).next((h=>{const d=this.Ds(i,h);return this.Cs(i,d,r,o)?Z.resolve(null):(vr()<=Ut.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Er(i)),this.vs(e,d,i,hb(o,no)).next((g=>g)))}))}Ds(e,i){let r=new we(Rv(e));return i.forEach(((o,h)=>{gc(e,h)&&(r=r.add(h))})),r}Cs(e,i,r,o){if(e.limit===null)return!1;if(r.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}Ss(e,i,r){return vr()<=Ut.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Er(i)),this.ps.getDocumentsMatchingQuery(e,i,ws.min(),r)}vs(e,i,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((h=>(i.forEach((d=>{h=h.insert(d.key,d)})),h)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="LocalStore",HS=3e8;class FS{constructor(e,i,r,o){this.persistence=e,this.Fs=i,this.serializer=o,this.Ms=new ae(Vt),this.xs=new Ra((h=>Rd(h)),wd),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.Ms)))}}function QS(a,e,i,r){return new FS(a,e,i,r)}async function Kv(a,e){const i=At(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return i.mutationQueue.getAllMutationBatches(r).next((h=>(o=h,i.Bs(e),i.mutationQueue.getAllMutationBatches(r)))).next((h=>{const d=[],g=[];let p=Mt();for(const _ of o){d.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of h){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return i.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function YS(a,e){const i=At(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const A=_.batch,N=A.keys();let k=Z.resolve();return N.forEach((W=>{k=k.next((()=>T.getEntry(p,W))).next((nt=>{const J=_.docVersions.get(W);jt(J!==null,48541),nt.version.compareTo(J)<0&&(A.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),T.addEntry(nt)))}))})),k.next((()=>g.mutationQueue.removeMutationBatch(p,A)))})(i,r,e,h).next((()=>h.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(e)))).next((()=>i.localDocuments.getDocuments(r,o)))}))}function Xv(a){const e=At(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.Pi.getLastRemoteSnapshotVersion(i)))}function KS(a,e){const i=At(a),r=e.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];e.targetChanges.forEach(((T,A)=>{const N=o.get(A);if(!N)return;g.push(i.Pi.removeMatchingKeys(h,T.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(h,T.addedDocuments,A))));let k=N.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(je.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,r)),o=o.insert(A,k),(function(nt,J,ft){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=HS?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(N,k,T)&&g.push(i.Pi.updateTargetData(h,k))}));let p=xi(),_=Mt();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,T))})),g.push(XS(h,d,e.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(bt.min())){const T=i.Pi.getLastRemoteSnapshotVersion(h).next((A=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,r)));g.push(T)}return Z.waitFor(g).next((()=>d.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,p,_))).next((()=>p))})).then((h=>(i.Ms=o,h)))}function XS(a,e,i){let r=Mt(),o=Mt();return i.forEach((h=>r=r.add(h))),e.getEntries(a,r).next((h=>{let d=xi();return i.forEach(((g,p)=>{const _=h.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(bt.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):ot(Ld,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:d,qs:o}}))}function ZS(a,e){const i=At(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=bd),i.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function $S(a,e){const i=At(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return i.Pi.getTargetData(r,e).next((h=>h?(o=h,Z.resolve(o)):i.Pi.allocateTargetId(r).next((d=>(o=new Es(e,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=i.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(e,r.targetId)),r}))}async function rd(a,e,i){const r=At(a),o=r.Ms.get(e),h=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",h,(d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xr(d))throw d;ot(Ld,`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function g_(a,e,i){const r=At(a);let o=bt.min(),h=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(p,_,T){const A=At(p),N=A.xs.get(T);return N!==void 0?Z.resolve(A.Ms.get(N)):A.Pi.getTargetData(_,T)})(r,d,ai(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((p=>{h=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,e,i?o:bt.min(),i?h:Mt()))).next((g=>(JS(r,Pb(e),g),{documents:g,Qs:h})))))}function JS(a,e,i){let r=a.Os.get(e)||bt.min();i.forEach(((o,h)=>{h.readTime.compareTo(r)>0&&(r=h.readTime)})),a.Os.set(e,r)}class p_{constructor(){this.activeTargetIds=qb()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WS{constructor(){this.Mo=new p_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,r){}addLocalQueryTarget(e,i=!0){return i&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,i,r){this.xo[e]=i}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new p_,Promise.resolve()}handleUserChange(e,i,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="ConnectivityMonitor";class __{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(y_,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(y_,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ju=null;function ld(){return ju===null?ju=(function(){return 268435456+Math.round(2147483648*Math.random())})():ju++,"0x"+ju.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="RestConnection",eA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nA{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Wu?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,i,r,o,h){const d=ld(),g=this.zo(e,i.toUriEncodedString());ot(Bf,`Sending RPC '${e}' ${d}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,h);const{host:_}=new URL(g),T=_d(_);return this.Jo(e,g,p,r,T).then((A=>(ot(Bf,`Received RPC '${e}' ${d}: `,A),A)),(A=>{throw Rr(Bf,`RPC '${e}' ${d} failed with error: `,A,"url: ",g,"request:",r),A}))}Ho(e,i,r,o,h,d){return this.Go(e,i,r,o,h)}jo(e,i,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Mr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,h)=>e[h]=o)),r&&r.headers.forEach(((o,h)=>e[h]=o))}zo(e,i){const r=eA[e];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class sA extends nA{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,i,r,o,h){const d=ld();return new Promise(((g,p)=>{const _=new J_;_.setWithCredentials(!0),_.listenOnce(W_.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Gu.NO_ERROR:const A=_.getResponseJson();ot(Fe,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(A)),g(A);break;case Gu.TIMEOUT:ot(Fe,`RPC '${e}' ${d} timed out`),p(new rt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Gu.HTTP_ERROR:const N=_.getStatus();if(ot(Fe,`RPC '${e}' ${d} failed with status:`,N,"response text:",_.getResponseText()),N>0){let k=_.getResponseJson();Array.isArray(k)&&(k=k[0]);const W=k?.error;if(W&&W.status&&W.message){const nt=(function(ft){const ht=ft.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(ht)>=0?ht:K.UNKNOWN})(W.status);p(new rt(nt,W.message))}else p(new rt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new rt(K.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(Fe,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);ot(Fe,`RPC '${e}' ${d} sending request:`,o),_.send(i,"POST",T,r,15)}))}T_(e,i,r){const o=ld(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=nv(),g=ev(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,i,r),p.encodeInitMessageHeaders=!0;const T=h.join("");ot(Fe,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=d.createWebChannel(T,p);this.I_(A);let N=!1,k=!1;const W=new iA({Yo:J=>{k?ot(Fe,`Not sending because RPC '${e}' stream ${o} is closed:`,J):(N||(ot(Fe,`Opening RPC '${e}' stream ${o} transport.`),A.open(),N=!0),ot(Fe,`RPC '${e}' stream ${o} sending:`,J),A.send(J))},Zo:()=>A.close()}),nt=(J,ft,ht)=>{J.listen(ft,(Q=>{try{ht(Q)}catch(lt){setTimeout((()=>{throw lt}),0)}}))};return nt(A,Fl.EventType.OPEN,(()=>{k||(ot(Fe,`RPC '${e}' stream ${o} transport opened.`),W.o_())})),nt(A,Fl.EventType.CLOSE,(()=>{k||(k=!0,ot(Fe,`RPC '${e}' stream ${o} transport closed`),W.a_(),this.E_(A))})),nt(A,Fl.EventType.ERROR,(J=>{k||(k=!0,Rr(Fe,`RPC '${e}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new rt(K.UNAVAILABLE,"The operation could not be completed")))})),nt(A,Fl.EventType.MESSAGE,(J=>{if(!k){const ft=J.data[0];jt(!!ft,16349);const ht=ft,Q=ht?.error||ht[0]?.error;if(Q){ot(Fe,`RPC '${e}' stream ${o} received error:`,Q);const lt=Q.status;let tt=(function(S){const w=_e[S];if(w!==void 0)return Lv(w)})(lt),ut=Q.message;tt===void 0&&(tt=K.INTERNAL,ut="Unknown error status: "+lt+" with message "+Q.message),k=!0,W.a_(new rt(tt,ut)),A.close()}else ot(Fe,`RPC '${e}' stream ${o} received:`,ft),W.u_(ft)}})),nt(g,tv.STAT_EVENT,(J=>{J.stat===Kf.PROXY?ot(Fe,`RPC '${e}' stream ${o} detected buffering proxy`):J.stat===Kf.NOPROXY&&ot(Fe,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((i=>i===e))}}function jf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(a){return new oS(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,i,r=1e3,o=1.5,h=6e4){this.Mi=e,this.timerId=i,this.d_=r,this.A_=o,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-r);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="PersistentStream";class $v{constructor(e,i,r,o,h,d,g,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Zv(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Oi(i.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(i)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===i&&this.G_(r,o)}),(r=>{e((()=>{const o=new rt(K.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,i){const r=this.W_(this.D_);this.stream=this.j_(e,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(v_,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return i=>{this.Mi.enqueueAndForget((()=>this.D_===e?i():(ot(v_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aA extends $v{constructor(e,i,r,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}j_(e,i){return this.connection.T_("Listen",e,i)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=hS(this.serializer,e),r=(function(h){if(!("targetChange"in h))return bt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?ri(d.readTime):bt.min()})(e);return this.listener.H_(i,r)}Y_(e){const i={};i.database=ad(this.serializer),i.addTarget=(function(h,d){let g;const p=d.target;if(g=Wf(p)?{documents:mS(h,p)}:{query:gS(h,p).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Bv(h,d.resumeToken);const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){g.readTime=ac(h,d.snapshotVersion.toTimestamp());const _=nd(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,e);const r=yS(this.serializer,e);r&&(i.labels=r),this.q_(i)}Z_(e){const i={};i.database=ad(this.serializer),i.removeTarget=e,this.q_(i)}}class rA extends $v{constructor(e,i,r,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,o,d),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=dS(e.writeResults,e.commitTime),r=ri(e.commitTime);return this.listener.na(r,i)}ra(){const e={};e.database=ad(this.serializer),this.q_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((r=>fS(this.serializer,r)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{}class oA extends lA{constructor(e,i,r,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,d])=>this.connection.Go(e,id(i,r),o,h,d))).catch((h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new rt(K.UNKNOWN,h.toString())}))}Ho(e,i,r,o,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(e,id(i,r),o,d,g,h))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class uA{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Oi(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="RemoteStore";class cA{constructor(e,i,r,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{wa(this)&&(ot(ba,"Restarting streams for network reachability change."),await(async function(p){const _=At(p);_.Ea.add(4),await fo(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ec(_)})(this))}))})),this.Ra=new uA(r,o)}}async function Ec(a){if(wa(a))for(const e of a.da)await e(!0)}async function fo(a){for(const e of a.da)await e(!1)}function Jv(a,e){const i=At(a);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),jd(i)?Bd(i):Ur(i).O_()&&zd(i,e))}function Pd(a,e){const i=At(a),r=Ur(i);i.Ia.delete(e),r.O_()&&Wv(i,e),i.Ia.size===0&&(r.O_()?r.L_():wa(i)&&i.Ra.set("Unknown"))}function zd(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(bt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ur(a).Y_(e)}function Wv(a,e){a.Va.Ue(e),Ur(a).Z_(e)}function Bd(a){a.Va=new sS({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),Ur(a).start(),a.Ra.ua()}function jd(a){return wa(a)&&!Ur(a).x_()&&a.Ia.size>0}function wa(a){return At(a).Ea.size===0}function t0(a){a.Va=void 0}async function hA(a){a.Ra.set("Online")}async function fA(a){a.Ia.forEach(((e,i)=>{zd(a,e)}))}async function dA(a,e){t0(a),jd(a)?(a.Ra.ha(e),Bd(a)):a.Ra.set("Unknown")}async function mA(a,e,i){if(a.Ra.set("Online"),e instanceof zv&&e.state===2&&e.cause)try{await(async function(o,h){const d=h.cause;for(const g of h.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(r){ot(ba,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lc(a,r)}else if(e instanceof Fu?a.Va.Ze(e):e instanceof Pv?a.Va.st(e):a.Va.tt(e),!i.isEqual(bt.min()))try{const r=await Xv(a.localStore);i.compareTo(r)>=0&&await(function(h,d){const g=h.Va.Tt(d);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=h.Ia.get(_);T&&h.Ia.set(_,T.withResumeToken(p.resumeToken,d))}})),g.targetMismatches.forEach(((p,_)=>{const T=h.Ia.get(p);if(!T)return;h.Ia.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),Wv(h,p);const A=new Es(T.target,p,_,T.sequenceNumber);zd(h,A)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){ot(ba,"Failed to raise snapshot:",r),await lc(a,r)}}async function lc(a,e,i){if(!xr(e))throw e;a.Ea.add(1),await fo(a),a.Ra.set("Offline"),i||(i=()=>Xv(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{ot(ba,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Ec(a)}))}function e0(a,e){return e().catch((i=>lc(a,i,e)))}async function Tc(a){const e=At(a),i=Is(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:bd;for(;gA(e);)try{const o=await ZS(e.localStore,r);if(o===null){e.Ta.length===0&&i.L_();break}r=o.batchId,pA(e,o)}catch(o){await lc(e,o)}n0(e)&&i0(e)}function gA(a){return wa(a)&&a.Ta.length<10}function pA(a,e){a.Ta.push(e);const i=Is(a);i.O_()&&i.X_&&i.ea(e.mutations)}function n0(a){return wa(a)&&!Is(a).x_()&&a.Ta.length>0}function i0(a){Is(a).start()}async function yA(a){Is(a).ra()}async function _A(a){const e=Is(a);for(const i of a.Ta)e.ea(i.mutations)}async function vA(a,e,i){const r=a.Ta.shift(),o=Id.from(r,e,i);await e0(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Tc(a)}async function EA(a,e){e&&Is(a).X_&&await(async function(r,o){if((function(d){return eS(d)&&d!==K.ABORTED})(o.code)){const h=r.Ta.shift();Is(r).B_(),await e0(r,(()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o))),await Tc(r)}})(a,e),n0(a)&&i0(a)}async function E_(a,e){const i=At(a);i.asyncQueue.verifyOperationInProgress(),ot(ba,"RemoteStore received new credentials");const r=wa(i);i.Ea.add(3),await fo(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Ec(i)}async function TA(a,e){const i=At(a);e?(i.Ea.delete(2),await Ec(i)):e||(i.Ea.add(2),await fo(i),i.Ra.set("Unknown"))}function Ur(a){return a.ma||(a.ma=(function(i,r,o){const h=At(i);return h.sa(),new aA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:hA.bind(null,a),t_:fA.bind(null,a),r_:dA.bind(null,a),H_:mA.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),jd(a)?Bd(a):a.Ra.set("Unknown")):(await a.ma.stop(),t0(a))}))),a.ma}function Is(a){return a.fa||(a.fa=(function(i,r,o){const h=At(i);return h.sa(),new rA(r,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:yA.bind(null,a),r_:EA.bind(null,a),ta:_A.bind(null,a),na:vA.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Tc(a)):(await a.fa.stop(),a.Ta.length>0&&(ot(ba,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,i,r,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=r,this.op=o,this.removalCallback=h,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,r,o,h){const d=Date.now()+r,g=new Gd(e,i,d,o,h);return g.start(r),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kd(a,e){if(Oi("AsyncQueue",`${e}: ${a}`),xr(a))return new rt(K.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{static emptySet(e){return new Ar(e.comparator)}constructor(e){this.comparator=e?(i,r)=>e(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=Ql(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,r)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=r.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const r=new Ar;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=i,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.ga=new ae(gt.comparator)}track(e){const i=e.doc.key,r=this.ga.get(i);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(i,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(i):e.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):vt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,r)=>{e.push(r)})),e}}class Ir{constructor(e,i,r,o,h,d,g,p,_){this.query=e,this.docs=i,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,i,r,o,h){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ir(e,i,Ar.emptySet(i),d,r,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,r=e.docChanges;if(i.length!==r.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==r[o].type||!i[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class SA{constructor(){this.queries=b_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const o=At(i),h=o.queries;o.queries=b_(),h.forEach(((d,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new rt(K.ABORTED,"Firestore shutting down"))}}function b_(){return new Ra((a=>Av(a)),mc)}async function s0(a,e){const i=At(a);let r=3;const o=e.query;let h=i.queries.get(o);h?!h.ba()&&e.Da()&&(r=2):(h=new bA,r=e.Da()?0:1);try{switch(r){case 0:h.wa=await i.onListen(o,!0);break;case 1:h.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=kd(d,`Initialization of query '${Er(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.Sa.push(e),e.va(i.onlineState),h.wa&&e.Fa(h.wa)&&qd(i)}async function a0(a,e){const i=At(a),r=e.query;let o=3;const h=i.queries.get(r);if(h){const d=h.Sa.indexOf(e);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?o=e.Da()?0:1:!h.ba()&&e.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function AA(a,e){const i=At(a);let r=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.Sa)g.Fa(o)&&(r=!0);d.wa=o}}r&&qd(i)}function RA(a,e,i){const r=At(a),o=r.queries.get(e);if(o)for(const h of o.Sa)h.onError(i);r.queries.delete(e)}function qd(a){a.Ca.forEach((e=>{e.next()}))}var od,S_;(S_=od||(od={})).Ma="default",S_.Cache="cache";class r0{constructor(e,i,r){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Ir(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Ir.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==od.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class o0{constructor(e){this.key=e}}class wA{constructor(e,i){this.query=e,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=Rv(e),this.tu=new Ar(this.eu)}get nu(){return this.Ya}ru(e,i){const r=i?i.iu:new T_,o=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const N=o.get(T),k=gc(this.query,A)?A:null,W=!!N&&this.mutatedKeys.has(N.key),nt=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let J=!1;N&&k?N.data.isEqual(k.data)?W!==nt&&(r.track({type:3,doc:k}),J=!0):this.su(N,k)||(r.track({type:2,doc:k}),J=!0,(p&&this.eu(k,p)>0||_&&this.eu(k,_)<0)&&(g=!0)):!N&&k?(r.track({type:0,doc:k}),J=!0):N&&!k&&(r.track({type:1,doc:N}),J=!0,(p||_)&&(g=!0)),J&&(k?(d=d.add(k),h=nt?h.add(T):h.delete(T)):(d=d.delete(T),h=h.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),h=h.delete(T.key),r.track({type:1,doc:T})}return{tu:d,iu:r,Cs:g,mutatedKeys:h}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,r,o){const h=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,A)=>(function(k,W){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return nt(k)-nt(W)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(r),o=o??!1;const g=i&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,d.length!==0||_?{snapshot:new Ir(this.query,e.tu,h,d,e.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new T_,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return e.forEach((r=>{this.Xa.has(r)||i.push(new o0(r))})),this.Xa.forEach((r=>{e.has(r)||i.push(new l0(r))})),i}cu(e){this.Ya=e.Qs,this.Xa=Mt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Ir.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Hd="SyncEngine";class CA{constructor(e,i,r){this.query=e,this.targetId=i,this.view=r}}class NA{constructor(e){this.key=e,this.hu=!1}}class DA{constructor(e,i,r,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=r,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ra((g=>Av(g)),mc),this.Iu=new Map,this.Eu=new Set,this.du=new ae(gt.comparator),this.Au=new Map,this.Ru=new Od,this.Vu={},this.mu=new Map,this.fu=Dr.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function IA(a,e,i=!0){const r=m0(a);let o;const h=r.Tu.get(e);return h?(r.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.lu()):o=await u0(r,e,i,!0),o}async function VA(a,e){const i=m0(a);await u0(i,e,!0,!1)}async function u0(a,e,i,r){const o=await $S(a.localStore,ai(e)),h=o.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return r&&(g=await MA(a,e,h,d==="current",o.resumeToken)),a.isPrimaryClient&&i&&Jv(a.remoteStore,o),g}async function MA(a,e,i,r,o){a.pu=(A,N,k)=>(async function(nt,J,ft,ht){let Q=J.view.ru(ft);Q.Cs&&(Q=await g_(nt.localStore,J.query,!1).then((({documents:D})=>J.view.ru(D,Q))));const lt=ht&&ht.targetChanges.get(J.targetId),tt=ht&&ht.targetMismatches.get(J.targetId)!=null,ut=J.view.applyChanges(Q,nt.isPrimaryClient,lt,tt);return R_(nt,J.targetId,ut.au),ut.snapshot})(a,A,N,k);const h=await g_(a.localStore,e,!0),d=new wA(e,h.Qs),g=d.ru(h.documents),p=ho.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",o),_=d.applyChanges(g,a.isPrimaryClient,p);R_(a,i,_.au);const T=new CA(e,i,d);return a.Tu.set(e,T),a.Iu.has(i)?a.Iu.get(i).push(e):a.Iu.set(i,[e]),_.snapshot}async function OA(a,e,i){const r=At(a),o=r.Tu.get(e),h=r.Iu.get(o.targetId);if(h.length>1)return r.Iu.set(o.targetId,h.filter((d=>!mc(d,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rd(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),i&&Pd(r.remoteStore,o.targetId),ud(r,o.targetId)})).catch(Or)):(ud(r,o.targetId),await rd(r.localStore,o.targetId,!0))}async function xA(a,e){const i=At(a),r=i.Tu.get(e),o=i.Iu.get(r.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Pd(i.remoteStore,r.targetId))}async function UA(a,e,i){const r=kA(a);try{const o=await(function(d,g){const p=At(d),_=Zt.now(),T=g.reduce(((k,W)=>k.add(W.key)),Mt());let A,N;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let W=xi(),nt=Mt();return p.Ns.getEntries(k,T).next((J=>{W=J,W.forEach(((ft,ht)=>{ht.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,W))).next((J=>{A=J;const ft=[];for(const ht of g){const Q=Zb(ht,A.get(ht.key).overlayedDocument);Q!=null&&ft.push(new Os(ht.key,Q,pv(Q.value.mapValue),Bn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,_,ft,g)})).next((J=>{N=J;const ft=J.applyToLocalDocumentSet(A,nt);return p.documentOverlayCache.saveOverlays(k,J.batchId,ft)}))})).then((()=>({batchId:N.batchId,changes:Cv(A)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(d,g,p){let _=d.Vu[d.currentUser.toKey()];_||(_=new ae(Vt)),_=_.insert(g,p),d.Vu[d.currentUser.toKey()]=_})(r,o.batchId,i),await mo(r,o.changes),await Tc(r.remoteStore)}catch(o){const h=kd(o,"Failed to persist write");i.reject(h)}}async function c0(a,e){const i=At(a);try{const r=await KS(i.localStore,e);e.targetChanges.forEach(((o,h)=>{const d=i.Au.get(h);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?jt(d.hu,14607):o.removedDocuments.size>0&&(jt(d.hu,42227),d.hu=!1))})),await mo(i,r,e)}catch(r){await Or(r)}}function A_(a,e,i){const r=At(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const o=[];r.Tu.forEach(((h,d)=>{const g=d.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const p=At(d);p.onlineState=g;let _=!1;p.queries.forEach(((T,A)=>{for(const N of A.Sa)N.va(g)&&(_=!0)})),_&&qd(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LA(a,e,i){const r=At(a);r.sharedClientState.updateQueryState(e,"rejected",i);const o=r.Au.get(e),h=o&&o.key;if(h){let d=new ae(gt.comparator);d=d.insert(h,Ye.newNoDocument(h,bt.min()));const g=Mt().add(h),p=new _c(bt.min(),new Map,new ae(Vt),d,g);await c0(r,p),r.du=r.du.remove(h),r.Au.delete(e),Fd(r)}else await rd(r.localStore,e,!1).then((()=>ud(r,e,i))).catch(Or)}async function PA(a,e){const i=At(a),r=e.batch.batchId;try{const o=await YS(i.localStore,e);f0(i,r,null),h0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await mo(i,o)}catch(o){await Or(o)}}async function zA(a,e,i){const r=At(a);try{const o=await(function(d,g){const p=At(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((A=>(jt(A!==null,37113),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);f0(r,e,i),h0(r,e),r.sharedClientState.updateMutationState(e,"rejected",i),await mo(r,o)}catch(o){await Or(o)}}function h0(a,e){(a.mu.get(e)||[]).forEach((i=>{i.resolve()})),a.mu.delete(e)}function f0(a,e,i){const r=At(a);let o=r.Vu[r.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function ud(a,e,i=null){a.sharedClientState.removeLocalQueryTarget(e);for(const r of a.Iu.get(e))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((r=>{a.Ru.containsKey(r)||d0(a,r)}))}function d0(a,e){a.Eu.delete(e.path.canonicalString());const i=a.du.get(e);i!==null&&(Pd(a.remoteStore,i),a.du=a.du.remove(e),a.Au.delete(i),Fd(a))}function R_(a,e,i){for(const r of i)r instanceof l0?(a.Ru.addReference(r.key,e),BA(a,r)):r instanceof o0?(ot(Hd,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,e),a.Ru.containsKey(r.key)||d0(a,r.key)):vt(19791,{wu:r})}function BA(a,e){const i=e.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(ot(Hd,"New document in limbo: "+i),a.Eu.add(r),Fd(a))}function Fd(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const i=new gt(Wt.fromString(e)),r=a.fu.next();a.Au.set(r,new NA(i)),a.du=a.du.insert(i,r),Jv(a.remoteStore,new Es(ai(Cd(i.path)),r,"TargetPurposeLimboResolution",hc.ce))}}async function mo(a,e,i){const r=At(a),o=[],h=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{d.push(r.pu(p,e,i).then((_=>{if((_||i)&&r.isPrimaryClient){const T=_?!_.fromCache:i?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(_){o.push(_);const T=Ud.As(p.targetId,_);h.push(T)}})))})),await Promise.all(d),r.Pu.H_(o),await(async function(p,_){const T=At(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>Z.forEach(_,(N=>Z.forEach(N.Es,(k=>T.persistence.referenceDelegate.addReference(A,N.targetId,k))).next((()=>Z.forEach(N.ds,(k=>T.persistence.referenceDelegate.removeReference(A,N.targetId,k)))))))))}catch(A){if(!xr(A))throw A;ot(Ld,"Failed to update sequence numbers: "+A)}for(const A of _){const N=A.targetId;if(!A.fromCache){const k=T.Ms.get(N),W=k.snapshotVersion,nt=k.withLastLimboFreeSnapshotVersion(W);T.Ms=T.Ms.insert(N,nt)}}})(r.localStore,h))}async function jA(a,e){const i=At(a);if(!i.currentUser.isEqual(e)){ot(Hd,"User change. New user:",e.toKey());const r=await Kv(i.localStore,e);i.currentUser=e,(function(h,d){h.mu.forEach((g=>{g.forEach((p=>{p.reject(new rt(K.CANCELLED,d))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mo(i,r.Ls)}}function GA(a,e){const i=At(a),r=i.Au.get(e);if(r&&r.hu)return Mt().add(r.key);{let o=Mt();const h=i.Iu.get(e);if(!h)return o;for(const d of h){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function m0(a){const e=At(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=c0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LA.bind(null,e),e.Pu.H_=AA.bind(null,e.eventManager),e.Pu.yu=RA.bind(null,e.eventManager),e}function kA(a){const e=At(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zA.bind(null,e),e}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return QS(this.persistence,new qS,e.initialUser,this.serializer)}Cu(e){return new Yv(xd.mi,this.serializer)}Du(e){return new WS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class qA extends oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){jt(this.persistence.referenceDelegate instanceof rc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new NS(r,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new Yv((r=>rc.mi(r,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jA.bind(null,this.syncEngine),await TA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new SA})()}createDatastore(e){const i=vc(e.databaseInfo.databaseId),r=(function(h){return new sA(h)})(e.databaseInfo);return(function(h,d,g,p){return new oA(h,d,g,p)})(e.authCredentials,e.appCheckCredentials,r,i)}createRemoteStore(e){return(function(r,o,h,d,g){return new cA(r,o,h,d,g)})(this.localStore,this.datastore,e.asyncQueue,(i=>A_(this.syncEngine,i,0)),(function(){return __.v()?new __:new tA})())}createSyncEngine(e,i){return(function(o,h,d,g,p,_,T){const A=new DA(o,h,d,g,p,_);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=At(i);ot(ba,"RemoteStore shutting down."),r.Ea.add(5),await fo(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class HA{constructor(e,i,r,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=Td.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(r,(async d=>{ot(Vs,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(ot(Vs,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=kd(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Gf(a,e){a.asyncQueue.verifyOperationInProgress(),ot(Vs,"Initializing OfflineComponentProvider");const i=a.configuration;await e.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async o=>{r.isEqual(o)||(await Kv(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function w_(a,e){a.asyncQueue.verifyOperationInProgress();const i=await FA(a);ot(Vs,"Initializing OnlineComponentProvider"),await e.initialize(i,a.configuration),a.setCredentialChangeListener((r=>E_(e.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,o)=>E_(e.remoteStore,o))),a._onlineComponents=e}async function FA(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){ot(Vs,"Using user provided OfflineComponentProvider");try{await Gf(a,a._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Rr("Error using user provided cache. Falling back to memory cache: "+i),await Gf(a,new oc)}}else ot(Vs,"Using default OfflineComponentProvider"),await Gf(a,new qA(void 0));return a._offlineComponents}async function p0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(ot(Vs,"Using user provided OnlineComponentProvider"),await w_(a,a._uninitializedComponentsProvider._online)):(ot(Vs,"Using default OnlineComponentProvider"),await w_(a,new cd))),a._onlineComponents}function QA(a){return p0(a).then((e=>e.syncEngine))}async function hd(a){const e=await p0(a),i=e.eventManager;return i.onListen=IA.bind(null,e.syncEngine),i.onUnlisten=OA.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=VA.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xA.bind(null,e.syncEngine),i}function YA(a,e,i={}){const r=new As;return a.asyncQueue.enqueueAndForget((async()=>(function(h,d,g,p,_){const T=new g0({next:N=>{T.Nu(),d.enqueueAndForget((()=>a0(h,A))),N.fromCache&&p.source==="server"?_.reject(new rt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(N)},error:N=>_.reject(N)}),A=new r0(g,T,{includeMetadataChanges:!0,qa:!0});return s0(h,A)})(await hd(a),a.asyncQueue,e,i,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="firestore.googleapis.com",N_=!0;class D_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new rt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_0,this.ssl=N_}else this.host=e.host,this.ssl=e.ssl??N_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Qv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wS)throw new rt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=y0(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new rt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bc{constructor(e,i,r,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tb;switch(r.type){case"firstParty":return new sb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new rt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=C_.get(i);r&&(ot("ComponentProvider","Removing Datastore"),C_.delete(i),r.terminate())})(this),Promise.resolve()}}function KA(a,e,i,r={}){a=si(a,bc);const o=_d(e),h=a._getSettings(),d={...h,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${i}`;o&&(DT(`https://${g}`),OT("Firestore",!0)),h.host!==_0&&h.host!==g&&Rr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...h,host:g,ssl:o,emulatorOptions:r};if(!Xu(p,d)&&(a._setSettings(p),r.mockUserToken)){let _,T;if(typeof r.mockUserToken=="string")_=r.mockUserToken,T=Qe.MOCK_USER;else{_=IT(r.mockUserToken,a._app?.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new rt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Qe(A)}a._authCredentials=new eb(new sv(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ca(this.firestore,e,this._query)}}class Te{constructor(e,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Te(this.firestore,e,this._key)}toJSON(){return{type:Te._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,r){if(oo(i,Te._jsonSchema))return new Te(e,r||null,new gt(Wt.fromString(i.referencePath)))}}Te._jsonSchemaVersion="firestore/documentReference/1.0",Te._jsonSchema={type:Ee("string",Te._jsonSchemaVersion),referencePath:Ee("string")};class Rs extends Ca{constructor(e,i,r){super(e,i,Cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Te(this.firestore,null,new gt(e))}withConverter(e){return new Rs(this.firestore,e,this._path)}}function Gn(a,e,...i){if(a=ui(a),av("collection","path",e),a instanceof bc){const r=Wt.fromString(e,...i);return ky(r),new Rs(a,null,r)}{if(!(a instanceof Te||a instanceof Rs))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Wt.fromString(e,...i));return ky(r),new Rs(a.firestore,null,r)}}function XA(a,e,...i){if(a=ui(a),arguments.length===1&&(e=Td.newId()),av("doc","path",e),a instanceof bc){const r=Wt.fromString(e,...i);return Gy(r),new Te(a,null,new gt(r))}{if(!(a instanceof Te||a instanceof Rs))throw new rt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(Wt.fromString(e,...i));return Gy(r),new Te(a.firestore,a instanceof Rs?a.converter:null,new gt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="AsyncQueue";class V_{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Zv(this,"async_queue_retry"),this._c=()=>{const r=jf();r&&ot(I_,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const i=jf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=jf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xr(e))throw e;ot(I_,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Oi("INTERNAL UNHANDLED ERROR: ",M_(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(e,i,r){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const o=Gd.createAndSchedule(this,e,i,r,(h=>this.hc(h)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:M_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function M_(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const o=i;for(const h of r)if(h in o&&typeof o[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Sa extends bc{constructor(e,i,r,o){super(e,i,r,o),this.type="firestore",this._queue=new V_,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V_(e),this._firestoreClient=void 0,await e}}}function ZA(a,e){const i=typeof a=="object"?a:q1(),r=typeof a=="string"?a:Wu,o=z1(i,"firestore").getImmediate({identifier:r});if(!o._initialized){const h=CT("firestore");h&&KA(o,...h)}return o}function Qd(a){if(a._terminated)throw new rt(K.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||$A(a),a._firestoreClient}function $A(a){const e=a._freezeSettings(),i=(function(o,h,d,g){return new Tb(o,h,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,y0(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,e);a._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new HA(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(o){const h=o?._online.build();return{_offline:o?._offline.build(h),_online:h}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Cn(je.fromBase64String(e))}catch(i){throw new rt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Cn(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Cn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(oo(e,Cn._jsonSchema))return Cn.fromBase64String(e.bytes)}}Cn._jsonSchemaVersion="firestore/bytes/1.0",Cn._jsonSchema={type:Ee("string",Cn._jsonSchemaVersion),bytes:Ee("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Vt(this._lat,e._lat)||Vt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:li._jsonSchemaVersion}}static fromJSON(e){if(oo(e,li._jsonSchema))return new li(e.latitude,e.longitude)}}li._jsonSchemaVersion="firestore/geoPoint/1.0",li._jsonSchema={type:Ee("string",li._jsonSchemaVersion),latitude:Ee("number"),longitude:Ee("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let h=0;h<r.length;++h)if(r[h]!==o[h])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(oo(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new oi(e.vectorValues);throw new rt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Ee("string",oi._jsonSchemaVersion),vectorValues:Ee("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=/^__.*__$/;class WA{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return this.fieldMask!==null?new Os(e,this.data,this.fieldMask,i,this.fieldTransforms):new co(e,this.data,i,this.fieldTransforms)}}class v0{constructor(e,i,r){this.data=e,this.fieldMask=i,this.fieldTransforms=r}toMutation(e,i){return new Os(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function E0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:a})}}class Kd{constructor(e,i,r,o,h,d){this.settings=e,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=o,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Kd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.gc(e),r}yc(e){const i=this.path?.child(e),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return uc(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(E0(this.Ac)&&JA.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class t2{constructor(e,i,r){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=r||vc(e)}Cc(e,i,r,o=!1){return new Kd({Ac:e,methodName:i,Dc:r,path:Be.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(a){const e=a._freezeSettings(),i=vc(a._databaseId);return new t2(a._databaseId,!!e.ignoreUndefinedProperties,i)}function e2(a,e,i,r,o,h={}){const d=a.Cc(h.merge||h.mergeFields?2:0,e,i,o);Zd("Data must be an object, but it was:",d,r);const g=T0(r,d);let p,_;if(h.merge)p=new mn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const T=[];for(const A of h.mergeFields){const N=fd(e,A,i);if(!d.contains(N))throw new rt(K.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);S0(T,N)||T.push(N)}p=new mn(T),_=d.fieldTransforms.filter((A=>p.covers(A.field)))}else p=null,_=d.fieldTransforms;return new WA(new an(g),p,_)}class Ac extends Yd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ac}}function n2(a,e,i,r){const o=a.Cc(1,e,i);Zd("Data must be an object, but it was:",o,r);const h=[],d=an.empty();Ms(r,((p,_)=>{const T=$d(e,p,i);_=ui(_);const A=o.yc(T);if(_ instanceof Ac)h.push(T);else{const N=go(_,A);N!=null&&(h.push(T),d.set(T,N))}}));const g=new mn(h);return new v0(d,g,o.fieldTransforms)}function i2(a,e,i,r,o,h){const d=a.Cc(1,e,i),g=[fd(e,r,i)],p=[o];if(h.length%2!=0)throw new rt(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let N=0;N<h.length;N+=2)g.push(fd(e,h[N])),p.push(h[N+1]);const _=[],T=an.empty();for(let N=g.length-1;N>=0;--N)if(!S0(_,g[N])){const k=g[N];let W=p[N];W=ui(W);const nt=d.yc(k);if(W instanceof Ac)_.push(k);else{const J=go(W,nt);J!=null&&(_.push(k),T.set(k,J))}}const A=new mn(_);return new v0(T,A,d.fieldTransforms)}function s2(a,e,i,r=!1){return go(i,a.Cc(r?4:3,e))}function go(a,e){if(b0(a=ui(a)))return Zd("Unsupported field value:",e,a),T0(a,e);if(a instanceof Yd)return(function(r,o){if(!E0(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const h=r._toFieldTransform(o);h&&o.fieldTransforms.push(h)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const h=[];let d=0;for(const g of r){let p=go(g,o.wc(d));p==null&&(p={nullValue:"NULL_VALUE"}),h.push(p),d++}return{arrayValue:{values:h}}})(a,e)}return(function(r,o){if((r=ui(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Hb(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const h=Zt.fromDate(r);return{timestampValue:ac(o.serializer,h)}}if(r instanceof Zt){const h=new Zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ac(o.serializer,h)}}if(r instanceof li)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cn)return{bytesValue:Bv(o.serializer,r._byteString)};if(r instanceof Te){const h=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(h))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Md(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof oi)return(function(d,g){return{mapValue:{fields:{[mv]:{stringValue:gv},[tc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Nd(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${cc(r)}`)})(a,e)}function T0(a,e){const i={};return ov(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(a,((r,o)=>{const h=go(o,e.mc(r));h!=null&&(i[r]=h)})),{mapValue:{fields:i}}}function b0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Zt||a instanceof li||a instanceof Cn||a instanceof Te||a instanceof Yd||a instanceof oi)}function Zd(a,e,i){if(!b0(i)||!rv(i)){const r=cc(i);throw r==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+r)}}function fd(a,e,i){if((e=ui(e))instanceof Sc)return e._internalPath;if(typeof e=="string")return $d(a,e);throw uc("Field path arguments must be of type string or ",a,!1,void 0,i)}const a2=new RegExp("[~\\*/\\[\\]]");function $d(a,e,i){if(e.search(a2)>=0)throw uc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Sc(...e.split("."))._internalPath}catch{throw uc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function uc(a,e,i,r,o){const h=r&&!r.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(h||d)&&(p+=" (found",h&&(p+=` in field ${r}`),d&&(p+=` in document ${o}`),p+=")"),new rt(K.INVALID_ARGUMENT,g+a+p)}function S0(a,e){return a.some((i=>i.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,i,r,o,h){this._firestore=e,this._userDataWriter=i,this._key=r,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Te(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Jd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class r2 extends A0{data(){return super.data()}}function Jd(a,e){return typeof e=="string"?$d(a,e):e instanceof Sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new rt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wd{}class l2 extends Wd{}function Ui(a,e,...i){let r=[];e instanceof Wd&&r.push(e),r=r.concat(i),(function(h){const d=h.filter((p=>p instanceof tm)).length,g=h.filter((p=>p instanceof Rc)).length;if(d>1||d>0&&g>0)throw new rt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)a=o._apply(a);return a}class Rc extends l2{constructor(e,i,r){super(),this._field=e,this._op=i,this._value=r,this.type="where"}static _create(e,i,r){return new Rc(e,i,r)}_apply(e){const i=this._parse(e);return w0(e._query,i),new Ca(e.firestore,e.converter,td(e._query,i))}_parse(e){const i=Xd(e.firestore);return(function(h,d,g,p,_,T,A){let N;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new rt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){U_(A,T);const W=[];for(const nt of A)W.push(x_(p,h,nt));N={arrayValue:{values:W}}}else N=x_(p,h,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||U_(A,T),N=s2(g,d,A,T==="in"||T==="not-in");return ve.create(_,T,N)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Li(a,e,i){const r=e,o=Jd("where",a);return Rc._create(o,r,i)}class tm extends Wd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new tm(e,i)}_parse(e){const i=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return i.length===1?i[0]:jn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(o,h){let d=o;const g=h.getFlattenedFilters();for(const p of g)w0(d,p),d=td(d,p)})(e._query,i),new Ca(e.firestore,e.converter,td(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function x_(a,e,i){if(typeof(i=ui(i))=="string"){if(i==="")throw new rt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sv(e)&&i.indexOf("/")!==-1)throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const r=e.path.child(Wt.fromString(i));if(!gt.isDocumentKey(r))throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zy(a,new gt(r))}if(i instanceof Te)return Zy(a,i._key);throw new rt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cc(i)}.`)}function U_(a,e){if(!Array.isArray(a)||a.length===0)throw new rt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w0(a,e){const i=(function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class o2{convertValue(e,i="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ge(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw vt(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const r={};return Ms(e,((o,h)=>{r[o]=this.convertValue(h,i)})),r}convertVectorValue(e){const i=e.fields?.[tc].arrayValue?.values?.map((r=>ge(r.doubleValue)));return new oi(i)}convertGeoPoint(e){return new li(ge(e.latitude),ge(e.longitude))}convertArray(e,i){return(e.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const r=dc(e);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(io(e));default:return null}}convertTimestamp(e){const i=Cs(e);return new Zt(i.seconds,i.nanos)}convertDocumentKey(e,i){const r=Wt.fromString(e);jt(Fv(r),9688,{name:e});const o=new so(r.get(1),r.get(3)),h=new gt(r.popFirst(5));return o.isEqual(i)||Oi(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(a,e,i){let r;return r=a?a.toFirestore(e):e,r}class Kl{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class va extends A0{constructor(e,i,r,o,h,d){super(e,i,r,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Qu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=va._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}va._jsonSchemaVersion="firestore/documentSnapshot/1.0",va._jsonSchema={type:Ee("string",va._jsonSchemaVersion),bundleSource:Ee("string","DocumentSnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class Qu extends va{data(e={}){return super.data(e)}}class Ea{constructor(e,i,r,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((r=>{e.call(i,new Qu(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const p=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const p=new Qu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Kl(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:c2(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ea._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Td.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],o=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),r.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),o.push(h.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function c2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:a})}}Ea._jsonSchemaVersion="firestore/querySnapshot/1.0",Ea._jsonSchema={type:Ee("string",Ea._jsonSchemaVersion),bundleSource:Ee("string","QuerySnapshot"),bundleName:Ee("string"),bundle:Ee("string")};class em extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cn(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Te(this.firestore,null,i)}}function Aa(a){a=si(a,Ca);const e=si(a.firestore,Sa),i=Qd(e),r=new em(e);return R0(a._query),YA(i,a._query).then((o=>new Ea(e,r,a,o)))}function wc(a,e,i,...r){a=si(a,Te);const o=si(a.firestore,Sa),h=Xd(o);let d;return d=typeof(e=ui(e))=="string"||e instanceof Sc?i2(h,"updateDoc",a._key,e,i,r):n2(h,"updateDoc",a._key,e),nm(o,[d.toMutation(a._key,Bn.exists(!0))])}function dd(a){return nm(si(a.firestore,Sa),[new Dd(a._key,Bn.none())])}function C0(a,e){const i=si(a.firestore,Sa),r=XA(a),o=u2(a.converter,e);return nm(i,[e2(Xd(a.firestore),"addDoc",r._key,o,a.converter!==null,{}).toMutation(r._key,Bn.exists(!1))]).then((()=>r))}function N0(a,...e){a=ui(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||O_(e[r])||(i=e[r++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(O_(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let h,d,g;if(a instanceof Te)d=si(a.firestore,Sa),g=Cd(a._key.path),h={next:p=>{e[r]&&e[r](h2(d,a,p))},error:e[r+1],complete:e[r+2]};else{const p=si(a,Ca);d=si(p.firestore,Sa),g=p._query;const _=new em(d);h={next:T=>{e[r]&&e[r](new Ea(d,_,p,T))},error:e[r+1],complete:e[r+2]},R0(a._query)}return(function(_,T,A,N){const k=new g0(N),W=new r0(T,k,A);return _.asyncQueue.enqueueAndForget((async()=>s0(await hd(_),W))),()=>{k.Nu(),_.asyncQueue.enqueueAndForget((async()=>a0(await hd(_),W)))}})(Qd(d),g,o,h)}function nm(a,e){return(function(r,o){const h=new As;return r.asyncQueue.enqueueAndForget((async()=>UA(await QA(r),o,h))),h.promise})(Qd(a),e)}function h2(a,e,i){const r=i.docs.get(e._key),o=new em(a);return new va(a,o,e._key,r,new Kl(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(o){Mr=o})(k1),$u(new to("firestore",((r,{instanceIdentifier:o,options:h})=>{const d=r.getProvider("app").getImmediate(),g=new Sa(new nb(r.getProvider("auth-internal")),new ab(d,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new rt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(_.options.projectId,T)})(d,o),d);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),Sr(Py,zy,e),Sr(Py,zy,"esm2020")})();var f2="firebase",d2="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(f2,d2,"app");const m2={apiKey:"AIzaSyAxeBAxKalFCIl6Buut5y5eG7Kee47mENs",authDomain:"chem-card-game.firebaseapp.com",projectId:"chem-card-game",storageBucket:"chem-card-game.firebasestorage.app",messagingSenderId:"484362725443",appId:"1:484362725443:web:3274afc3c009e271b8ccf6",measurementId:"G-099MXETX8X"},g2=K_(m2),kn=ZA(g2),D0=[{name:"Hydrogen",atomicNumber:1,atomicSymbol:"H",family:"Nonmetal",positiveIon:1,negativeIon:1,massGroup:1},{name:"Helium",atomicNumber:2,atomicSymbol:"He",family:"Noble Gas",massGroup:1},{name:"Lithium",atomicNumber:3,atomicSymbol:"Li",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Beryllium",atomicNumber:4,atomicSymbol:"Be",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Boron",atomicNumber:5,atomicSymbol:"B",family:"Metalloid",massGroup:1},{name:"Carbon",atomicNumber:6,atomicSymbol:"C",family:"Nonmetal",massGroup:1},{name:"Nitrogen",atomicNumber:7,atomicSymbol:"N",family:"Nonmetal",negativeIon:3,massGroup:1},{name:"Oxygen",atomicNumber:8,atomicSymbol:"O",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Fluorine",atomicNumber:9,atomicSymbol:"F",family:"Halogen",negativeIon:1,massGroup:1},{name:"Neon",atomicNumber:10,atomicSymbol:"Ne",family:"Noble Gas",massGroup:1},{name:"Sodium",atomicNumber:11,atomicSymbol:"Na",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Magnesium",atomicNumber:12,atomicSymbol:"Mg",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Aluminum",atomicNumber:13,atomicSymbol:"Al",family:"Metal",positiveIon:3,massGroup:1},{name:"Silicon",atomicNumber:14,atomicSymbol:"Si",family:"Metalloid",massGroup:1},{name:"Phosphorus",atomicNumber:15,atomicSymbol:"P",family:"Nonmetal",negativeIon:3,massGroup:1},{name:"Sulfur",atomicNumber:16,atomicSymbol:"S",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Chlorine",atomicNumber:17,atomicSymbol:"Cl",family:"Halogen",negativeIon:1,massGroup:1},{name:"Argon",atomicNumber:18,atomicSymbol:"Ar",family:"Noble Gas",massGroup:1},{name:"Potassium",atomicNumber:19,atomicSymbol:"K",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Calcium",atomicNumber:20,atomicSymbol:"Ca",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Scandium",atomicNumber:21,atomicSymbol:"Sc",family:"Transition Metal",positiveIon:3,massGroup:1},{name:"Titanium",atomicNumber:22,atomicSymbol:"Ti",family:"Transition Metal",massGroup:1},{name:"Vanadium",atomicNumber:23,atomicSymbol:"V",family:"Transition Metal",massGroup:1},{name:"Chromium",atomicNumber:24,atomicSymbol:"Cr",family:"Transition Metal",massGroup:1},{name:"Manganese",atomicNumber:25,atomicSymbol:"Mn",family:"Transition Metal",massGroup:1},{name:"Iron",atomicNumber:26,atomicSymbol:"Fe",family:"Transition Metal",massGroup:1},{name:"Cobalt",atomicNumber:27,atomicSymbol:"Co",family:"Transition Metal",massGroup:1},{name:"Nickel",atomicNumber:28,atomicSymbol:"Ni",family:"Transition Metal",massGroup:1},{name:"Copper",atomicNumber:29,atomicSymbol:"Cu",family:"Transition Metal",massGroup:1},{name:"Zinc",atomicNumber:30,atomicSymbol:"Zn",family:"Transition Metal",massGroup:1},{name:"Gallium",atomicNumber:31,atomicSymbol:"Ga",family:"Metal",massGroup:1},{name:"Germanium",atomicNumber:32,atomicSymbol:"Ge",family:"Metalloid",massGroup:1},{name:"Arsenic",atomicNumber:33,atomicSymbol:"As",family:"Metalloid",negativeIon:3,massGroup:1},{name:"Selenium",atomicNumber:34,atomicSymbol:"Se",family:"Nonmetal",negativeIon:2,massGroup:1},{name:"Bromine",atomicNumber:35,atomicSymbol:"Br",family:"Halogen",negativeIon:1,massGroup:1},{name:"Krypton",atomicNumber:36,atomicSymbol:"Kr",family:"Noble Gas",massGroup:1},{name:"Rubidium",atomicNumber:37,atomicSymbol:"Rb",family:"Alkali Metal",positiveIon:1,massGroup:1},{name:"Strontium",atomicNumber:38,atomicSymbol:"Sr",family:"Alkaline Earth Metal",positiveIon:2,massGroup:1},{name:"Yttrium",atomicNumber:39,atomicSymbol:"Y",family:"Transition Metal",positiveIon:3,massGroup:1},{name:"Zirconium",atomicNumber:40,atomicSymbol:"Zr",family:"Transition Metal",massGroup:1},{name:"Niobium",atomicNumber:41,atomicSymbol:"Nb",family:"Transition Metal",massGroup:1},{name:"Molybdenum",atomicNumber:42,atomicSymbol:"Mo",family:"Transition Metal",massGroup:1},{name:"Technetium",atomicNumber:43,atomicSymbol:"Tc",radioactive:!0,family:"Transition Metal",massGroup:1},{name:"Ruthenium",atomicNumber:44,atomicSymbol:"Ru",family:"Transition Metal",massGroup:2},{name:"Rhodium",atomicNumber:45,atomicSymbol:"Rh",family:"Transition Metal",massGroup:2},{name:"Palladium",atomicNumber:46,atomicSymbol:"Pd",family:"Transition Metal",massGroup:2},{name:"Silver",atomicNumber:47,atomicSymbol:"Ag",family:"Transition Metal",massGroup:2},{name:"Cadmium",atomicNumber:48,atomicSymbol:"Cd",family:"Transition Metal",massGroup:2},{name:"Indium",atomicNumber:49,atomicSymbol:"In",family:"Metal",massGroup:2},{name:"Tin",atomicNumber:50,atomicSymbol:"Sn",family:"Metal",massGroup:2},{name:"Antimony",atomicNumber:51,atomicSymbol:"Sb",family:"Metalloid",massGroup:2},{name:"Tellurium",atomicNumber:52,atomicSymbol:"Te",family:"Metalloid",negativeIon:2,massGroup:2},{name:"Iodine",atomicNumber:53,atomicSymbol:"I",family:"Halogen",negativeIon:1,massGroup:2},{name:"Xenon",atomicNumber:54,atomicSymbol:"Xe",family:"Noble Gas",massGroup:2},{name:"Cesium",atomicNumber:55,atomicSymbol:"Cs",family:"Alkali Metal",positiveIon:1,massGroup:2},{name:"Barium",atomicNumber:56,atomicSymbol:"Ba",family:"Alkaline Earth Metal",positiveIon:2,massGroup:2},{name:"Lanthanum",atomicNumber:57,atomicSymbol:"La",family:"Lanthanide",positiveIon:3,massGroup:2},{name:"Cerium",atomicNumber:58,atomicSymbol:"Ce",family:"Lanthanide",massGroup:2},{name:"Praseodymium",atomicNumber:59,atomicSymbol:"Pr",family:"Lanthanide",massGroup:2},{name:"Neodymium",atomicNumber:60,atomicSymbol:"Nd",family:"Lanthanide",massGroup:2},{name:"Promethium",atomicNumber:61,atomicSymbol:"Pm",radioactive:!0,family:"Lanthanide",massGroup:2},{name:"Samarium",atomicNumber:62,atomicSymbol:"Sm",family:"Lanthanide",massGroup:2},{name:"Europium",atomicNumber:63,atomicSymbol:"Eu",family:"Lanthanide",massGroup:2},{name:"Gadolinium",atomicNumber:64,atomicSymbol:"Gd",family:"Lanthanide",massGroup:2},{name:"Terbium",atomicNumber:65,atomicSymbol:"Tb",family:"Lanthanide",massGroup:2},{name:"Dysprosium",atomicNumber:66,atomicSymbol:"Dy",family:"Lanthanide",massGroup:2},{name:"Holmium",atomicNumber:67,atomicSymbol:"Ho",family:"Lanthanide",massGroup:2},{name:"Erbium",atomicNumber:68,atomicSymbol:"Er",family:"Lanthanide",massGroup:2},{name:"Thulium",atomicNumber:69,atomicSymbol:"Tm",family:"Lanthanide",massGroup:2},{name:"Ytterbium",atomicNumber:70,atomicSymbol:"Yb",family:"Lanthanide",massGroup:2},{name:"Lutetium",atomicNumber:71,atomicSymbol:"Lu",family:"Lanthanide",massGroup:2},{name:"Hafnium",atomicNumber:72,atomicSymbol:"Hf",family:"Transition Metal",massGroup:2},{name:"Tantalum",atomicNumber:73,atomicSymbol:"Ta",family:"Transition Metal",massGroup:2},{name:"Tungsten",atomicNumber:74,atomicSymbol:"W",family:"Transition Metal",massGroup:2},{name:"Rhenium",atomicNumber:75,atomicSymbol:"Re",family:"Transition Metal",massGroup:2},{name:"Osmium",atomicNumber:76,atomicSymbol:"Os",family:"Transition Metal",massGroup:2},{name:"Iridium",atomicNumber:77,atomicSymbol:"Ir",family:"Transition Metal",massGroup:2},{name:"Platinum",atomicNumber:78,atomicSymbol:"Pt",family:"Transition Metal",massGroup:2},{name:"Gold",atomicNumber:79,atomicSymbol:"Au",family:"Transition Metal",massGroup:2},{name:"Mercury",atomicNumber:80,atomicSymbol:"Hg",family:"Transition Metal",massGroup:3},{name:"Thallium",atomicNumber:81,atomicSymbol:"Tl",family:"Metal",massGroup:3},{name:"Lead",atomicNumber:82,atomicSymbol:"Pb",family:"Metal",massGroup:3},{name:"Bismuth",atomicNumber:83,atomicSymbol:"Bi",family:"Metal",massGroup:3},{name:"Polonium",atomicNumber:84,atomicSymbol:"Po",radioactive:!0,family:"Metalloid",massGroup:3},{name:"Astatine",atomicNumber:85,atomicSymbol:"At",radioactive:!0,family:"Noble Gas",negativeIon:1,massGroup:3},{name:"Radon",atomicNumber:86,atomicSymbol:"Rn",radioactive:!0,family:"Alkali Metal",massGroup:3},{name:"Francium",atomicNumber:87,atomicSymbol:"Fr",radioactive:!0,family:"Alkaline Earth Metal",positiveIon:1,massGroup:3},{name:"Radium",atomicNumber:88,atomicSymbol:"Ra",radioactive:!0,family:"Actinide",positiveIon:2,massGroup:3},{name:"Actinium",atomicNumber:89,atomicSymbol:"Ac",radioactive:!0,family:"Actinide",positiveIon:3,massGroup:3},{name:"Thorium",atomicNumber:90,atomicSymbol:"Th",radioactive:!0,family:"Actinide",massGroup:3},{name:"Protactinium",atomicNumber:91,atomicSymbol:"Pa",radioactive:!0,family:"Actinide",massGroup:3},{name:"Uranium",atomicNumber:92,atomicSymbol:"U",radioactive:!0,family:"Actinide",massGroup:3},{name:"Neptunium",atomicNumber:93,atomicSymbol:"Np",radioactive:!0,family:"Actinide",massGroup:3},{name:"Plutonium",atomicNumber:94,atomicSymbol:"Pu",radioactive:!0,family:"Actinide",massGroup:3},{name:"Americium",atomicNumber:95,atomicSymbol:"Am",radioactive:!0,family:"Actinide",massGroup:3},{name:"Curium",atomicNumber:96,atomicSymbol:"Cm",radioactive:!0,family:"Actinide",massGroup:3},{name:"Berkelium",atomicNumber:97,atomicSymbol:"Bk",radioactive:!0,family:"Actinide",massGroup:3},{name:"Californium",atomicNumber:98,atomicSymbol:"Cf",radioactive:!0,family:"Actinide",massGroup:3},{name:"Einsteinium",atomicNumber:99,atomicSymbol:"Es",radioactive:!0,family:"Actinide",massGroup:3},{name:"Fermium",atomicNumber:100,atomicSymbol:"Fm",radioactive:!0,family:"Actinide",massGroup:3},{name:"Mendelevium",atomicNumber:101,atomicSymbol:"Md",radioactive:!0,family:"Actinide",massGroup:3},{name:"Nobelium",atomicNumber:102,atomicSymbol:"No",radioactive:!0,family:"Actinide",massGroup:3},{name:"Lawrencium",atomicNumber:103,atomicSymbol:"Lr",radioactive:!0,family:"Actinide",massGroup:3}];function p2(a){const e=[...a];for(let i=e.length-1;i>0;i--){const r=Math.floor(Math.random()*(i+1));[e[i],e[r]]=[e[r],e[i]]}return e}function I0(a){return{2:{deckSize:36,handSize:15},3:{deckSize:54,handSize:15},4:{deckSize:54,handSize:13},5:{deckSize:54,handSize:10},6:{deckSize:86,handSize:14},7:{deckSize:103,handSize:14},8:{deckSize:103,handSize:12},9:{deckSize:103,handSize:11},10:{deckSize:103,handSize:10}}[a]||{deckSize:103,handSize:10}}function y2(a){const{deckSize:e,handSize:i}=I0(a),r=D0.filter(d=>d.atomicNumber<=e),o=p2([...r]),h=[];for(let d=0;d<a;d++){const g=d*i,p=g+i;h.push(o.slice(g,p))}return h}function _2(a){if(a.length===0)return 0;const e=a.map(h=>h.atomicNumber).sort((h,d)=>h-d);let i=1,r=1;for(let h=1;h<e.length;h++)e[h]===e[h-1]+1?(r++,i=Math.max(i,r)):r=1;const o=Math.min(Math.max(i,2),4);return o*o}function v2(a,e,i){const r=a.reduce((g,p)=>g+p.massGroup,0),o=e.reduce((g,p)=>g+p.massGroup,0),h=i.reduce((g,p)=>g+p.massGroup,0);let d=0;return r>o&&(d+=2),r<o&&(d-=2),r>h&&(d+=2),r<h&&(d-=2),d}function E2(a,e){const i=a.map(r=>r.atomicSymbol);return V0(i,e)}function V0(a,e){return e.length===0?!0:a.some(i=>e.toLowerCase().startsWith(i.toLowerCase())&&V0(a.filter(r=>r!==i),e.slice(i.length)))}function T2(a){const e=a.filter(i=>i.radioactive).length;return e>=2?7:e===1?-3:0}function b2(a){const e={},i={};for(const o of a)o.positiveIon&&(e[o.positiveIon]=(e[o.positiveIon]||0)+1),o.negativeIon&&(i[o.negativeIon]=(i[o.negativeIon]||0)+1);let r=0;for(const o of Object.keys(e)){const h=Number.parseInt(o),d=Math.min(e[h],i[h]||0);r+=d*5}return r}function S2(a){const e={};for(const g of a)e[g.family]=(e[g.family]||0)+1;const i=Object.keys(e).length,r=Math.max(...Object.values(e)),o=Math.max(i,r),h=Math.min(o,6);return{1:0,2:1,3:3,4:6,5:10,6:15}[h]||0}function A2(a,e){if(e.length===0)return 0;const i=e.reduce((d,g)=>(d[g.round]||(d[g.round]=[]),d[g.round].push(g),d),{}),r=Object.keys(i).map(Number).sort((d,g)=>d-g),o=[8,5,2];let h=0;for(const d of r){const g=i[d],p=o[h]||0;if(g.some(_=>_.playerId===a))return p;h+=g.length}return 0}function R2(a,e,i,r=0,o=!0){const h=_2(a),d=v2(a,e,i),g=r,p=o?T2(a):0,_=b2(a),T=S2(a),A=h+d+g+p+_+T;return{atomicNumber:h,atomicMass:d,atomicSymbol:g,radioactivity:p,ionization:_,family:T,total:A}}function w2(){return Math.random().toString(36).substring(2,8).toUpperCase()}const po="games",Lr="lobbies";async function md(){const a=Date.now()-72e5;try{const e=Ui(Gn(kn,Lr),Li("createdAt","<",a)),i=await Aa(e),r=i.docs.map(g=>dd(g.ref));await Promise.all(r),i.docs.length>0&&console.log(` Cleaned up ${i.docs.length} old lobbies`);const o=Ui(Gn(kn,po),Li("createdAt","<",a)),h=await Aa(o),d=h.docs.map(g=>dd(g.ref));await Promise.all(d),h.docs.length>0&&console.log(` Cleaned up ${h.docs.length} old games`)}catch(e){console.warn("Failed to cleanup old games:",e)}}async function C2(){await md();const a=w2(),e=Math.random().toString(36).substring(2,15),i=Zt.fromDate(new Date(Date.now()+7200*1e3)),r={id:a,players:[{id:e,name:"Player 1",isHost:!0}],hostId:e,createdAt:Date.now(),ttl:i};return await C0(Gn(kn,Lr),r),{gameId:a,playerId:e}}async function N2(a){const e=Ui(Gn(kn,Lr),Li("id","==",a)),i=await Aa(e);if(i.empty)return{success:!1};const r=i.docs[0],o=r.data(),h=Math.random().toString(36).substring(2,15),d=o.players.length+1,g={id:h,name:`Player ${d}`,isHost:!1};return await wc(r.ref,{players:[...o.players,g]}),{success:!0,playerId:h}}async function D2(a,e,i){const r=Ui(Gn(kn,Lr),Li("id","==",a)),o=await Aa(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(_=>_.id===e);if(g===-1)return!1;const p=[...d.players];return p[g]={...p[g],name:i},await wc(h.ref,{players:p}),!0}async function I2(a){const e=Ui(Gn(kn,Lr),Li("id","==",a)),i=await Aa(e);if(i.empty)return!1;const r=i.docs[0],o=r.data();if(o.players.length<2)return!1;const h=y2(o.players.length),d=h[0].length,g=Zt.fromDate(new Date(Date.now()+7200*1e3)),p={id:a,phase:"drafting",players:o.players.map((_,T)=>({..._,draftedCards:[],hand:h[T]})),deck:[...D0],currentRound:1,totalRounds:d,wordSpellingWinners:[],createdAt:Date.now(),hostId:o.hostId,ttl:g};return await C0(Gn(kn,po),p),await dd(r.ref),!0}function gd(a,e){const i=Ui(Gn(kn,Lr),Li("id","==",a));return N0(i,r=>{if(r.empty){e(null);return}const o=r.docs[0].data();e(o)})}function kf(a,e){const i=Ui(Gn(kn,po),Li("id","==",a));return N0(i,r=>{if(r.empty){e(null);return}const o=r.docs[0].data();e(o)})}async function V2(a,e,i){const r=Ui(Gn(kn,po),Li("id","==",a)),o=await Aa(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.findIndex(ft=>ft.id===e);if(g===-1)return!1;const p=d.players[g];if(i<0||i>=p.hand.length)return!1;const _=p.hand[i],T=p.hand.filter((ft,ht)=>ht!==i),A=[...p.draftedCards,_],N=[...d.players];N[g]={...p,hand:T,draftedCards:A};const k=Math.max(...N.map(ft=>ft.hand.length)),W=Math.min(...N.map(ft=>ft.hand.length)),nt=k===W;console.log("Draft selection debug:",{maxHandLength:k,minHandLength:W,playerHandLengths:N.map(ft=>({id:ft.id,handLength:ft.hand.length,draftedCount:ft.draftedCards.length})),allPlayersSelected:nt,allHandsEmpty:N.every(ft=>ft.hand.length===0)});let J={...d,players:N};if(nt)if(N.every(ht=>ht.hand.length===0))console.log("All players have empty hands, moving to scoring phase"),J={...J,phase:"scoring"};else{console.log("All players selected, passing hands and moving to next round");const ht=N.map(lt=>lt.hand),Q=N.map((lt,tt)=>{const ut=(tt+1)%N.length;return{...lt,hand:ht[ut]}});J={...J,players:Q,currentRound:d.currentRound+1},console.log("Hands passed:",{round:d.currentRound+1,handLengths:Q.map(lt=>({id:lt.id,handLength:lt.hand.length}))})}return await wc(h.ref,J),!0}async function M2(a,e,i){const r=Ui(Gn(kn,po),Li("id","==",a)),o=await Aa(r);if(o.empty)return!1;const h=o.docs[0],d=h.data(),g=d.players.find(T=>T.id===e);if(!g||d.wordSpellingWinners.some(T=>T.playerId===e)||i.length!==5)return!1;const p=g.draftedCards.slice(0,d.currentRound-1);if(console.log("Word spelling check:",{currentRound:d.currentRound,totalDrafted:g.draftedCards.length,revealedCards:p.length,canUseForSpelling:p.map(T=>T.atomicSymbol)}),!E2(p,i))return!1;const _=[...d.wordSpellingWinners,{playerId:e,round:d.currentRound}];return await wc(h.ref,{wordSpellingWinners:_}),!0}function M0(){return new URLSearchParams(window.location.search).get("gameId")}function O2(){return new URLSearchParams(window.location.search).get("playerId")}function L_(a){const e=new URL(window.location.href);e.searchParams.set("gameId",a),window.history.replaceState({},"",e.toString())}function P_(a){const e=new URL(window.location.href);e.searchParams.set("playerId",a),window.history.replaceState({},"",e.toString())}function x2(a){const e=new URL(window.location.href);return e.searchParams.set("gameId",a),e.searchParams.delete("playerId"),e.toString()}function z_(){const a=new URL(window.location.href);a.search="",window.history.replaceState({},"",a.toString())}const U2=({onJoinLobby:a})=>{const[e,i]=Lt.useState(""),[r,o]=Lt.useState(!1),[h,d]=Lt.useState(!1),[g,p]=Lt.useState("");Lt.useEffect(()=>{const A=M0();A&&i(A)},[]);const _=async()=>{o(!0),p("");try{const{gameId:A,playerId:N}=await C2();L_(A),P_(N),a(A,N,!0,"Player 1")}catch{p("Failed to create game. Please try again."),o(!1)}},T=async()=>{if(!e.trim()){p("Please enter a game ID");return}d(!0),p("");try{const A=await N2(e.trim().toUpperCase());A.success&&A.playerId?(L_(e.trim().toUpperCase()),P_(A.playerId),a(e.trim().toUpperCase(),A.playerId,!1,"")):(p("Game not found. Please check the game ID."),d(!1))}catch{p("Failed to join game. Please try again."),d(!1)}};return L.jsxs("div",{className:"game-setup",children:[L.jsxs("div",{className:"setup-header",children:[L.jsx("h1",{children:"Chemistry Card Game"}),L.jsx("p",{children:"Create a new game or join an existing one"})]}),L.jsxs("div",{className:"setup-form",children:[L.jsxs("div",{className:"setup-actions",children:[L.jsxs("div",{className:"create-section",children:[L.jsx("h3",{children:"Start New Game"}),L.jsx("button",{type:"button",onClick:_,disabled:r||h,className:"create-btn",children:r?"Creating...":"Create Game"})]}),L.jsxs("div",{className:"join-section",children:[L.jsx("h3",{children:"Join Existing Game"}),L.jsxs("div",{className:"input-group",children:[L.jsx("label",{htmlFor:"gameId",children:"Game ID:"}),L.jsx("input",{id:"gameId",type:"text",value:e,onChange:A=>i(A.target.value.toUpperCase()),placeholder:"Enter game ID",maxLength:6})]}),L.jsx("button",{type:"button",onClick:T,disabled:r||h,className:"join-btn",children:h?"Joining...":"Join Game"})]})]}),g&&L.jsx("div",{className:"error-message",children:g})]})]})},L2="chem-card-game-player-name",O0="chem-card-game-state";function P2(a){localStorage.setItem(L2,a)}function B_(a){localStorage.setItem(O0,JSON.stringify(a))}function j_(){localStorage.removeItem(O0)}const z2=({gameId:a,playerId:e,isHost:i,playerName:r,onGameStart:o,onPlayerNameChange:h})=>{const[d,g]=Lt.useState(null),[p,_]=Lt.useState(!1),[T,A]=Lt.useState(!1),[N,k]=Lt.useState(r),[W,nt]=Lt.useState(!1);Lt.useEffect(()=>gd(a,ut=>{if(g(ut),ut&&typeof ut!="function"&&"players"in ut&&Array.isArray(ut.players)){const D=ut.players.find(S=>S.id===e);D&&D.name!==r&&h(D.name)}}),[a,e,r,h]),Lt.useEffect(()=>{k(r)},[r]);const J=async()=>{if(!i||!d||d.players.length<2)return;_(!0),await I2(a)?o():(_(!1),alert("Failed to start game. Please try again."))},ft=()=>{A(!0)},ht=async()=>{if(N.trim()){const tt=N.trim();await D2(a,e,tt)?(P2(tt),h(tt),A(!1)):alert("Failed to update name. Please try again.")}},Q=()=>{k(r),A(!1)},lt=async()=>{const tt=x2(a);try{await navigator.clipboard.writeText(tt),nt(!0),setTimeout(()=>nt(!1),2e3)}catch{const ut=document.createElement("textarea");ut.value=tt,document.body.appendChild(ut),ut.select(),document.execCommand("copy"),document.body.removeChild(ut),nt(!0),setTimeout(()=>nt(!1),2e3)}};return d?L.jsxs("div",{className:"lobby-container",children:[L.jsxs("div",{className:"lobby-header",children:[L.jsx("h2",{children:"Game Lobby"}),L.jsxs("div",{className:"game-id",children:["Game ID: ",L.jsx("strong",{children:a})]}),L.jsx("button",{type:"button",onClick:lt,className:"copy-url-btn",children:W?" Copied!":" Copy Game Link"})]}),L.jsxs("div",{className:"player-name-section",children:[L.jsx("h3",{children:"Your Name:"}),T?L.jsxs("div",{className:"name-edit",children:[L.jsx("input",{type:"text",value:N,onChange:tt=>k(tt.target.value),onKeyDown:tt=>{tt.key==="Enter"&&ht(),tt.key==="Escape"&&Q()},maxLength:20}),L.jsx("button",{type:"button",onClick:ht,className:"save-btn",children:"Save"}),L.jsx("button",{type:"button",onClick:Q,className:"cancel-btn",children:"Cancel"})]}):L.jsxs("div",{className:"name-display",children:[L.jsx("span",{className:"current-name",children:r}),L.jsx("button",{type:"button",onClick:ft,className:"edit-btn",children:""})]})]}),L.jsxs("div",{className:"players-list",children:[L.jsxs("h3",{children:["Players (",d.players.length,")"]}),L.jsx("div",{className:"players",children:d.players.map(tt=>L.jsxs("div",{className:`player ${tt.isHost?"host":""} ${tt.id===e?"current":""}`,children:[L.jsx("span",{className:"player-name",children:tt.name}),tt.isHost&&L.jsx("span",{className:"host-badge",children:"Host"}),tt.id===e&&L.jsx("span",{className:"you-badge",children:"You"})]},tt.id))})]}),i&&L.jsxs("div",{className:"lobby-actions",children:[L.jsx("button",{type:"button",onClick:J,disabled:d.players.length<2||p,className:"start-game-btn",children:p?"Starting Game...":"Start Game"}),L.jsx("p",{className:"start-hint",children:d.players.length<2?"Waiting for at least one more player...":"Ready to start!"})]}),!i&&L.jsx("div",{className:"waiting-message",children:L.jsx("p",{children:"Waiting for the host to start the game..."})})]}):L.jsx("div",{className:"lobby-container",children:L.jsx("div",{className:"loading",children:"Loading lobby..."})})},B2="/assets/1-Hydrogen-CqgN5B3w.png",j2="/assets/10-Neon-DvVBNgwB.png",G2="/assets/100-Fermium-DFSaD6FS.png",k2="/assets/101-Mendelevium-BeVsps4Y.png",q2="/assets/102-Nobelium-C9sLVyAZ.png",H2="/assets/103-Lawrencium-ChwWU2G1.png",F2="/assets/11-Sodium-DzCOXslS.png",Q2="/assets/12-Magnesium-D4uSE3kl.png",Y2="/assets/13-Aluminum-ngd74IrY.png",K2="/assets/14-Silicon-AXdg-Jr6.png",X2="/assets/15-Phosphorus-C-DIn8wM.png",Z2="/assets/16-Sulfur-DfHTT8LO.png",$2="/assets/17-Chlorine-BgMlIzuM.png",J2="/assets/18-Argon-Bif-UVys.png",W2="/assets/19-Potassium-CbQB3nr2.png",tR="/assets/2-Helium-D0B-op7C.png",eR="/assets/20-Calcium-DtMOhOgn.png",nR="/assets/21-Scandium-qArMtVfM.png",iR="/assets/22-Titanium-DvaPFPMU.png",sR="/assets/23-Vanadium-B8sjRqHx.png",aR="/assets/24-Chromium-DJ3qxcMB.png",rR="/assets/25-Manganese-BrA9QVBx.png",lR="/assets/26-Iron-DNvGNCGj.png",oR="/assets/27-Cobalt-CLANENfn.png",uR="/assets/28-Nickel-BKV1DekY.png",cR="/assets/29-Copper-CiFpH2O4.png",hR="/assets/3-Lithium-DJSIlAOQ.png",fR="/assets/30-Zinc-BzLkl5C5.png",dR="/assets/31-Gallium-BN7oGGec.png",mR="/assets/32-Germanium-CwwtODbx.png",gR="/assets/33-Arsenic-CJsmQnfv.png",pR="/assets/34-Selenium-D54NxRbT.png",yR="/assets/35-Bromine-D-rSWxB7.png",_R="/assets/36-Krypton-CPaeqeHw.png",vR="/assets/37-Rubidium-DdpPuLMF.png",ER="/assets/38-Strontium-DNTzCKGV.png",TR="/assets/39-Yttrium-D4qbHUx1.png",bR="/assets/4-Beryllium-BgEBwFGC.png",SR="/assets/40-Zirconium-DgMZwWf9.png",AR="/assets/41-Niobium-CRP1M1Si.png",RR="/assets/42-Molybdenum-DSby5KEt.png",wR="/assets/43-Technetium-B2zHc5Db.png",CR="/assets/44-Ruthenium-CWN6F3Oo.png",NR="/assets/45-Rhodium-DCl2k4M_.png",DR="/assets/47-Silver-DMzhUCaS.png",IR="/assets/48-Cadmium-Busr1TBl.png",VR="/assets/49-Indium-DrMyajey.png",MR="/assets/5-Boron--iEde0M6.png",OR="/assets/50-Tin-6WS5QG53.png",xR="/assets/51-Antimony-CCZS8W5J.png",UR="/assets/52-Tellurium-DDYqUACv.png",LR="/assets/53-Iodine-DGfnq49E.png",PR="/assets/54-Xenon-BKpdtZ4r.png",zR="/assets/55-Cesium-BtJq9-wp.png",BR="/assets/56-Barium-BtyW6Mlc.png",jR="/assets/57-Lanthanum-DMzSLyMd.png",GR="/assets/58-Cerium-D6X13uv0.png",kR="/assets/59-Praseodymium-A60zG6cl.png",qR="/assets/6-Carbon-CRf82w63.png",HR="/assets/60-Neodymium-BNiOMqsp.png",FR="/assets/61-Promethium-DpXHhqHd.png",QR="/assets/62-Samarium-BN1rlOLc.png",YR="/assets/63-Europium-DkEMxxbV.png",KR="/assets/64-Gadolinium-89Ln_PlJ.png",XR="/assets/65-Terbium-CgsSfqfu.png",ZR="/assets/67-Holmium-BnJyInQg.png",$R="/assets/68-Erbium-DndV_PBS.png",JR="/assets/69-Thulium-D1pu2DtH.png",WR="/assets/7-Nitrogen-DXrGQmsA.png",tw="/assets/70-Ytterbium-CaxK4vVr.png",ew="/assets/71-Lutetium-C8ecK8Ga.png",nw="/assets/72-Hafnium-DGfL3rM3.png",iw="/assets/73-Tantalum-CnTfy8Zp.png",sw="/assets/74-Tungsten-kSSQ4xPr.png",aw="/assets/75-Rhenium-4QWEo1eV.png",rw="/assets/76-Osmium-CqUKtOcM.png",lw="/assets/77-Iridium-h-fix0fW.png",ow="/assets/78-Platinum-BYsVA9Jb.png",uw="/assets/79-Gold-BsWtU89K.png",cw="/assets/8-Oxygen-B5BDDU_3.png",hw="/assets/80-Mercury-DDaF74-l.png",fw="/assets/81-Thallium-M7ImH6tO.png",dw="/assets/82-Lead-C10_QyD_.png",mw="/assets/83-Bismuth-L3w7EGVe.png",gw="/assets/84-Polonium-CnjvidWT.png",pw="/assets/85-Astatine-DpMqgUyc.png",yw="/assets/86-Radon-DclPtiFq.png",_w="/assets/87-Francium-Dc4dxbOT.png",vw="/assets/88-Radium-B3JZ7V2j.png",Ew="/assets/89-Actinium-YAlYWtKE.png",Tw="/assets/9-Fluorine-B5AmNcj4.png",bw="/assets/90-Thorium-Dawy_fqp.png",Sw="/assets/91-Protactinium-CgFrIx3u.png",Aw="/assets/92-Uranium-BUuvKEeM.png",Rw="/assets/93-Neptunium-DpkqSgni.png",ww="/assets/94-Plutonium-90zcCxoG.png",Cw="/assets/95-Americium-DyHWmBnV.png",Nw="/assets/96-Curium-C1XIkGu9.png",Dw="/assets/97-Berkelium-ghkI-tJ_.png",Iw="/assets/98-Californium-Ddr4nlET.png",Vw="/assets/99-Einsteinium-DemQZlIv.png",Yu=({element:a,onClick:e,isSelected:i=!1,isDisabled:r=!1,showDetails:o=!0})=>{const h=(g,p)=>new URL(Object.assign({"../assets/1-Hydrogen.png":B2,"../assets/10-Neon.png":j2,"../assets/100-Fermium.png":G2,"../assets/101-Mendelevium.png":k2,"../assets/102-Nobelium.png":q2,"../assets/103-Lawrencium.png":H2,"../assets/11-Sodium.png":F2,"../assets/12-Magnesium.png":Q2,"../assets/13-Aluminum.png":Y2,"../assets/14-Silicon.png":K2,"../assets/15-Phosphorus.png":X2,"../assets/16-Sulfur.png":Z2,"../assets/17-Chlorine.png":$2,"../assets/18-Argon.png":J2,"../assets/19-Potassium.png":W2,"../assets/2-Helium.png":tR,"../assets/20-Calcium.png":eR,"../assets/21-Scandium.png":nR,"../assets/22-Titanium.png":iR,"../assets/23-Vanadium.png":sR,"../assets/24-Chromium.png":aR,"../assets/25-Manganese.png":rR,"../assets/26-Iron.png":lR,"../assets/27-Cobalt.png":oR,"../assets/28-Nickel.png":uR,"../assets/29-Copper.png":cR,"../assets/3-Lithium.png":hR,"../assets/30-Zinc.png":fR,"../assets/31-Gallium.png":dR,"../assets/32-Germanium.png":mR,"../assets/33-Arsenic.png":gR,"../assets/34-Selenium.png":pR,"../assets/35-Bromine.png":yR,"../assets/36-Krypton.png":_R,"../assets/37-Rubidium.png":vR,"../assets/38-Strontium.png":ER,"../assets/39-Yttrium.png":TR,"../assets/4-Beryllium.png":bR,"../assets/40-Zirconium.png":SR,"../assets/41-Niobium.png":AR,"../assets/42-Molybdenum.png":RR,"../assets/43-Technetium.png":wR,"../assets/44-Ruthenium.png":CR,"../assets/45-Rhodium.png":NR,"../assets/47-Silver.png":DR,"../assets/48-Cadmium.png":IR,"../assets/49-Indium.png":VR,"../assets/5-Boron.png":MR,"../assets/50-Tin.png":OR,"../assets/51-Antimony.png":xR,"../assets/52-Tellurium.png":UR,"../assets/53-Iodine.png":LR,"../assets/54-Xenon.png":PR,"../assets/55-Cesium.png":zR,"../assets/56-Barium.png":BR,"../assets/57-Lanthanum.png":jR,"../assets/58-Cerium.png":GR,"../assets/59-Praseodymium.png":kR,"../assets/6-Carbon.png":qR,"../assets/60-Neodymium.png":HR,"../assets/61-Promethium.png":FR,"../assets/62-Samarium.png":QR,"../assets/63-Europium.png":YR,"../assets/64-Gadolinium.png":KR,"../assets/65-Terbium.png":XR,"../assets/67-Holmium.png":ZR,"../assets/68-Erbium.png":$R,"../assets/69-Thulium.png":JR,"../assets/7-Nitrogen.png":WR,"../assets/70-Ytterbium.png":tw,"../assets/71-Lutetium.png":ew,"../assets/72-Hafnium.png":nw,"../assets/73-Tantalum.png":iw,"../assets/74-Tungsten.png":sw,"../assets/75-Rhenium.png":aw,"../assets/76-Osmium.png":rw,"../assets/77-Iridium.png":lw,"../assets/78-Platinum.png":ow,"../assets/79-Gold.png":uw,"../assets/8-Oxygen.png":cw,"../assets/80-Mercury.png":hw,"../assets/81-Thallium.png":fw,"../assets/82-Lead.png":dw,"../assets/83-Bismuth.png":mw,"../assets/84-Polonium.png":gw,"../assets/85-Astatine.png":pw,"../assets/86-Radon.png":yw,"../assets/87-Francium.png":_w,"../assets/88-Radium.png":vw,"../assets/89-Actinium.png":Ew,"../assets/9-Fluorine.png":Tw,"../assets/90-Thorium.png":bw,"../assets/91-Protactinium.png":Sw,"../assets/92-Uranium.png":Aw,"../assets/93-Neptunium.png":Rw,"../assets/94-Plutonium.png":ww,"../assets/95-Americium.png":Cw,"../assets/96-Curium.png":Nw,"../assets/97-Berkelium.png":Dw,"../assets/98-Californium.png":Iw,"../assets/99-Einsteinium.png":Vw})[`../assets/${g}-${p}.png`],import.meta.url).href,d=g=>({Nonmetal:"#90EE90","Noble Gas":"#FFB6C1","Alkali Metal":"#FF6B6B","Alkaline Earth Metal":"#FFD93D",Metalloid:"#6BCF7F",Halogen:"#4ECDC4",Lanthanide:"#45B7D1",Actinide:"#96CEB4","Transition Metal":"#FFEAA7",Metal:"#DDA0DD"})[g]||"#E0E0E0";return L.jsxs("button",{type:"button",className:`card ${i?"selected":""} ${r?"disabled":""}`,onClick:r?void 0:e,disabled:r,style:{borderColor:d(a.family)},children:[L.jsxs("div",{className:"card-header",children:[L.jsx("div",{className:"atomic-number",children:a.atomicNumber}),L.jsx("div",{className:"atomic-symbol",children:a.atomicSymbol})]}),L.jsx("div",{className:"card-image",children:L.jsx("img",{src:h(a.atomicNumber,a.name),alt:a.name,onError:g=>{g.currentTarget.style.display="none"}})}),L.jsx("div",{className:"card-name",children:a.name}),o&&L.jsxs("div",{className:"card-details",children:[L.jsxs("div",{className:"mass-group",children:["Mass: ",a.massGroup]}),L.jsx("div",{className:"family",style:{backgroundColor:d(a.family)},children:a.family}),a.radioactive&&L.jsx("div",{className:"radioactive",children:" Radioactive"}),a.positiveIon&&L.jsxs("div",{className:"ion positive",children:["+",a.positiveIon]}),a.negativeIon&&L.jsxs("div",{className:"ion negative",children:["-",a.negativeIon]})]})]})},Mw=({game:a,currentPlayerId:e})=>{const[i,r]=Lt.useState(null),[o,h]=Lt.useState(!1),[d,g]=Lt.useState(""),[p,_]=Lt.useState(!1),[T,A]=Lt.useState(""),N=a.players.find(Q=>Q.id===e);if(!N)return L.jsx("div",{children:"Player not found"});Lt.useEffect(()=>{h(!1),r(null)},[a.currentRound,a.phase]),Lt.useEffect(()=>{console.log("DraftingPhase game state:",{currentRound:a.currentRound,totalRounds:a.totalRounds,phase:a.phase,players:a.players.map(Q=>({id:Q.id,name:Q.name,handLength:Q.hand.length,draftedCount:Q.draftedCards.length}))})},[a]);const k=Q=>{r(Q)},W=async()=>{if(i===null)return;h(!0),await V2(a.id,e,i)||(alert("Failed to submit selection. Please try again."),h(!1))},nt=async Q=>{if(Q.preventDefault(),d.length===5&&!p){_(!0),A("");try{await M2(a.id,e,d)?g(""):A("Cannot spell this word with your drafted cards, or you have already submitted a word.")}catch(lt){A("Failed to submit word. Please try again."),console.error("Word submission error:",lt)}finally{_(!1)}}},J=Math.max(...a.players.map(Q=>Q.hand.length)),ft=Math.min(...a.players.map(Q=>Q.hand.length)),ht=J===ft;return L.jsxs("div",{className:"drafting-phase",children:[L.jsxs("div",{className:"drafting-header",children:[L.jsx("h2",{children:"Drafting Phase"}),L.jsxs("div",{className:"round-info",children:["Round ",a.currentRound," of ",a.totalRounds]})]}),L.jsxs("div",{className:"drafting-content",children:[L.jsxs("div",{className:"hand-section",children:[L.jsx("h3",{children:"Your Hand - Select a card to draft:"}),L.jsx("p",{className:"drafting-info",children:"After all players select a card, hands will be passed to the next player."}),L.jsx("div",{className:"hand",children:N.hand.map((Q,lt)=>({element:Q,originalIndex:lt})).sort((Q,lt)=>Q.element.atomicNumber-lt.element.atomicNumber).map(({element:Q,originalIndex:lt})=>L.jsx(Yu,{element:Q,onClick:()=>k(lt),isSelected:i===lt,isDisabled:o},`${Q.atomicNumber}-${lt}`))}),i!==null&&L.jsx("div",{className:"selection-actions",children:L.jsx("button",{type:"button",onClick:W,disabled:o,className:"submit-selection-btn",children:o?"Submitting...":"Draft This Card"})})]}),L.jsxs("div",{className:"drafted-cards-section",children:[L.jsx("h3",{children:"All Players' Drafted Cards:"}),a.players.sort((Q,lt)=>Q.id===e?-1:lt.id===e?1:Q.name.localeCompare(lt.name)).map(Q=>{const lt=Q.draftedCards.slice(0,a.currentRound-1),tt=Q.draftedCards.slice(a.currentRound-1);return L.jsxs("div",{className:"player-drafted-cards",children:[L.jsxs("h4",{className:`player-name ${Q.id===e?"current-player":""}`,children:[Q.name," (",Q.draftedCards.length," cards)",Q.id===e&&" (You)"]}),lt.length>0&&L.jsxs("div",{className:"card-group",children:[L.jsxs("h5",{children:["Revealed Cards (",lt.length,"):"]}),L.jsx("div",{className:"drafted-cards",children:lt.sort((ut,D)=>ut.atomicNumber-D.atomicNumber).map((ut,D)=>L.jsx(Yu,{element:ut,showDetails:!1},`${Q.id}-revealed-${ut.atomicNumber}-${D}`))})]}),tt.length>0&&L.jsxs("div",{className:"card-group",children:[L.jsxs("h5",{children:["This Round's Cards (",tt.length,"):"]}),L.jsx("div",{className:"drafted-cards unrevealed",children:tt.sort((ut,D)=>ut.atomicNumber-D.atomicNumber).map((ut,D)=>L.jsx(Yu,{element:ut,showDetails:!1},`${Q.id}-unrevealed-${ut.atomicNumber}-${D}`))})]}),Q.draftedCards.length===0&&L.jsx("div",{className:"no-cards",children:"No cards drafted yet"})]},Q.id)})]}),L.jsxs("div",{className:"word-spelling-section",children:[L.jsx("h3",{children:"Word Spelling Bonus"}),(()=>{const lt=N.draftedCards.slice(0,a.currentRound-1).map(tt=>tt.atomicSymbol.length).reduce((tt,ut)=>tt+ut,0)>=5;return L.jsx(L.Fragment,{children:lt&&a.wordSpellingWinners.length<3&&!a.wordSpellingWinners.some(tt=>tt.playerId===e)&&L.jsxs("form",{onSubmit:nt,className:"word-form",children:[L.jsx("label",{htmlFor:"wordInput",children:"Try to spell a 5-letter word with your revealed cards:"}),L.jsxs("div",{className:"word-input-group",children:[L.jsx("input",{id:"wordInput",type:"text",value:d,onChange:tt=>g(tt.target.value.toUpperCase()),placeholder:"Enter 5-letter word",maxLength:5,disabled:p}),L.jsx("button",{type:"submit",disabled:d.length!==5||p,children:p?"Checking...":"Submit Word"})]}),T&&L.jsx("div",{className:"word-error",children:T})]})})})(),a.wordSpellingWinners.some(Q=>Q.playerId===e)&&L.jsx("div",{className:"word-success",children:" You have successfully submitted a word and earned points!"}),a.wordSpellingWinners.length>=3&&!a.wordSpellingWinners.some(Q=>Q.playerId===e)&&L.jsx("div",{className:"word-info",children:"All word spelling spots have been taken."}),a.wordSpellingWinners.length>0&&L.jsxs("div",{className:"word-winners",children:[L.jsx("h4",{children:"Word Spelling Winners:"}),(()=>{const Q=a.wordSpellingWinners.reduce((D,S)=>(D[S.round]||(D[S.round]=[]),D[S.round].push(S),D),{}),lt=Object.keys(Q).map(Number).sort((D,S)=>D-S),tt=[8,5,2];let ut=0;return lt.flatMap(D=>{const S=Q[D],w=tt[ut]||0;return ut+=S.length,S.map(O=>{const V=a.players.find(U=>U.id===O.playerId);return L.jsxs("div",{className:"word-winner",children:[V?.name,": ",w," points (Round ",D,")"]},O.playerId)})})})()]})]}),L.jsxs("div",{className:"players-status",children:[L.jsx("h3",{children:"Players Status:"}),L.jsx("div",{className:"players-list",children:a.players.map(Q=>L.jsxs("div",{className:"player-status",children:[L.jsx("span",{className:"player-name",children:Q.name}),L.jsx("span",{className:"status",children:Q.id===e?"You":Q.hand.length===ft?"Ready":"Selecting..."}),L.jsxs("span",{className:"drafted-count",children:["(",Q.draftedCards.length," drafted)"]})]},Q.id))})]}),ht&&L.jsx("div",{className:"round-complete",children:J===0?L.jsx("p",{children:"All cards have been drafted! Moving to scoring phase..."}):L.jsx("p",{children:"All players have made their selections. Moving to next round..."})})]})]})},Ow=({game:a,currentPlayerId:e})=>{const[i,r]=Lt.useState({}),{deckSize:o}=I0(a.players.length),h=o===103;Lt.useEffect(()=>{const p={};a.players.forEach((_,T)=>{const A=a.players[T===0?a.players.length-1:T-1],N=a.players[T===a.players.length-1?0:T+1],k=A2(_.id,a.wordSpellingWinners);p[_.id]=R2(_.draftedCards,A.draftedCards,N.draftedCards,k,h)}),r(p)},[a,h]);const d=[...a.players].sort((p,_)=>{const T=i[p.id]?.total||0,A=i[_.id]?.total||0;if(T!==A)return A-T;const N=Math.max(...p.draftedCards.map(W=>W.atomicNumber),0);return Math.max(..._.draftedCards.map(W=>W.atomicNumber),0)-N}),g=a.players.find(p=>p.id===e);return L.jsxs("div",{className:"scoring-phase",children:[L.jsxs("div",{className:"scoring-header",children:[L.jsx("h2",{children:"Final Scoring"}),L.jsx("p",{children:"Game complete! Here are the final results:"})]}),L.jsxs("div",{className:"scoring-content",children:[a.wordSpellingWinners.length>0&&L.jsxs("div",{className:"word-spelling-section",children:[L.jsx("h3",{children:"Word Spelling Winners"}),L.jsx("div",{className:"word-winners",children:(()=>{const p=a.wordSpellingWinners.reduce((N,k)=>(N[k.round]||(N[k.round]=[]),N[k.round].push(k),N),{}),_=Object.keys(p).map(Number).sort((N,k)=>N-k),T=[8,5,2];let A=0;return _.flatMap(N=>{const k=p[N],W=T[A]||0;return A+=k.length,k.map(nt=>{const J=a.players.find(ft=>ft.id===nt.playerId);return L.jsxs("div",{className:"word-winner",children:[J?.name,": ",W," points (Round ",N,")"]},nt.playerId)})})})()})]}),L.jsxs("div",{className:"final-scores",children:[L.jsx("h3",{children:"Final Scores"}),L.jsx("div",{className:"scoreboard",children:d.map((p,_)=>{const T=i[p.id],A=p.id===e;return L.jsxs("div",{className:`score-entry ${A?"current-player":""}`,children:[L.jsxs("div",{className:"rank",children:["#",_+1]}),L.jsxs("div",{className:"player-info",children:[L.jsxs("div",{className:"player-name",children:[p.name," ",A&&"(You)"]}),L.jsxs("div",{className:"total-score",children:["Total: ",T?.total||0," points"]})]}),T&&L.jsxs("div",{className:"score-breakdown",children:[L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Number:"})," ",L.jsx("span",{children:T.atomicNumber})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Mass:"})," ",L.jsx("span",{children:T.atomicMass})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Atomic Symbol:"})," ",L.jsx("span",{children:T.atomicSymbol})]}),h&&L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Radioactivity:"})," ",L.jsx("span",{children:T.radioactivity})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Ionization:"})," ",L.jsx("span",{children:T.ionization})]}),L.jsxs("div",{className:"score-item",children:[L.jsx("span",{children:"Family:"})," ",L.jsx("span",{children:T.family})]})]})]},p.id)})})]}),L.jsxs("div",{className:"player-cards",children:[L.jsx("h3",{children:"Your Drafted Cards"}),L.jsx("div",{className:"cards-grid",children:g?.draftedCards.sort((p,_)=>p.atomicNumber-_.atomicNumber).map((p,_)=>L.jsx(Yu,{element:p,showDetails:!0},`final-${p.atomicNumber}-${_}`))})]})]})]})};function xw(){const[a,e]=Lt.useState("setup"),[i,r]=Lt.useState(""),[o,h]=Lt.useState(""),[d,g]=Lt.useState(!1),[p,_]=Lt.useState(""),[T,A]=Lt.useState(null),[N,k]=Lt.useState(!0);Lt.useEffect(()=>{md();const ht=setInterval(()=>{md()},1800*1e3);return()=>clearInterval(ht)},[]),Lt.useEffect(()=>{(async()=>{const Q=M0(),lt=O2();if(Q&&lt)return r(Q),h(lt),kf(Q,ut=>{if(ut)A(ut),e("game"),g(ut.hostId===lt),k(!1);else return gd(Q,S=>{if(S){const w=S.players.find(O=>O.id===lt);w?(e("lobby"),g(w.isHost),_(w.name),k(!1)):(e("setup"),k(!1))}else e("setup"),k(!1)})});Q&&!lt&&(r(Q),e("setup")),k(!1)})()},[]),Lt.useEffect(()=>{if(i&&a==="game")return kf(i,Q=>{Q?(A(Q),Q.phase):(e("setup"),j_(),z_())})},[i,a]),Lt.useEffect(()=>{if(i&&o&&a==="lobby")return gd(i,Q=>{if(!Q)return kf(i,tt=>{tt?(A(tt),e("game"),g(tt.hostId===o)):(e("setup"),j_(),z_())})})},[i,o,a]);const W=(ht,Q,lt,tt)=>{r(ht),h(Q),g(lt),_(tt),e("lobby"),B_({gameId:ht,playerId:Q,isHost:lt,playerName:tt})},nt=()=>{e("game")},J=ht=>{_(ht),i&&o&&B_({gameId:i,playerId:o,isHost:d,playerName:ht})},ft=()=>{if(N)return L.jsx("div",{className:"loading",children:"Restoring game..."});switch(a){case"setup":return L.jsx(U2,{onJoinLobby:W});case"lobby":return L.jsx(z2,{gameId:i,playerId:o,isHost:d,playerName:p,onGameStart:nt,onPlayerNameChange:J});case"game":if(!T)return L.jsx("div",{className:"loading",children:"Loading game..."});switch(T.phase){case"drafting":return L.jsx(Mw,{game:T,currentPlayerId:o});case"scoring":return L.jsx(Ow,{game:T,currentPlayerId:o});case"finished":return L.jsxs("div",{className:"game-finished",children:[L.jsx("h2",{children:"Game Finished!"}),L.jsx("p",{children:"Thank you for playing Chemistry Card Game!"}),L.jsx("button",{type:"button",onClick:()=>e("setup"),children:"Play Again"})]});default:return L.jsx("div",{children:"Unknown game phase"})}default:return L.jsx("div",{children:"Unknown app state"})}};return L.jsxs("div",{className:"app",children:[L.jsxs("header",{className:"app-header",children:[L.jsx("h1",{children:"Chemistry Card Game"}),i&&L.jsxs("div",{className:"game-info",children:["Game ID: ",i," | Player: ",o]})]}),L.jsx("main",{className:"app-main",children:ft()})]})}pT.createRoot(document.getElementById("root")).render(L.jsx(Lt.StrictMode,{children:L.jsx(xw,{})}));
